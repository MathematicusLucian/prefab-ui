import{a as b,b as fe,c as Fw,f as jn,g as p}from"./chunk-5G567QLT.js";function P(t){return typeof t=="function"}function Bn(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var lc=Bn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Dr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof lc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Lw(s)}catch(o){e=e??[],o instanceof lc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Lw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Dr(n,e)}remove(e){let{_finalizers:n}=this;n&&Dr(n,e),e instanceof t&&e._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var bh=Ie.EMPTY;function dc(t){return t instanceof Ie||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function Lw(t){P(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ai={setTimeout(t,e,...n){let{delegate:r}=Ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hc(t){Ai.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function Cr(){}var Vw=(()=>Sh("C",void 0,void 0))();function Uw(t){return Sh("E",void 0,t)}function jw(t){return Sh("N",t,void 0)}function Sh(t,e,n){return{kind:t,value:e,error:n}}var br=null;function Ri(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!br;if(e&&(br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=br;if(br=null,n)throw r}}else t()}function Bw(t){Mt.useDeprecatedSynchronousErrorHandling&&br&&(br.errorThrown=!0,br.error=t)}var Sr=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dc(e)&&e.add(this)):this.destination=wx}static create(e,n,r){return new gn(e,n,r)}next(e){this.isStopped?Rh(jw(e),this):this._next(e)}error(e){this.isStopped?Rh(Uw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rh(Vw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vx=Function.prototype.bind;function Ah(t,e){return vx.call(t,e)}var xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fc(r)}else fc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fc(n)}}},gn=class extends Sr{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ah(e.next,s),error:e.error&&Ah(e.error,s),complete:e.complete&&Ah(e.complete,s)}):i=e}this.destination=new xh(i)}};function fc(t){Mt.useDeprecatedSynchronousErrorHandling?Bw(t):hc(t)}function _x(t){throw t}function Rh(t,e){let{onStoppedNotification:n}=Mt;n&&Ai.setTimeout(()=>n(t,e))}var wx={closed:!0,next:Cr,error:_x,complete:Cr};var xi=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Le(t){return t}function pc(...t){return Mh(t)}function Mh(t){return t.length===0?Le:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Ex(n)?n:new gn(n,r,i);return Ri(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$w(r),new r((i,s)=>{let o=new gn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xi](){return this}pipe(...n){return Mh(n)(this)}toPromise(n){return n=$w(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function $w(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function Ix(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function Ex(t){return t&&t instanceof Sr||Ix(t)&&dc(t)}var Hw=Bn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Hw}next(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?bh:(this.currentObservers=null,s.push(n),new Ie(()=>{this.currentObservers=null,Dr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new gc(e,n),t})(),gc=class extends Ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bh}};var Ve=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function qw(t){return t&&P(t.schedule)}function Nh(t){return t[t.length-1]}function Mi(t){return P(Nh(t))?t.pop():void 0}function zt(t){return qw(Nh(t))?t.pop():void 0}function zw(t,e){return typeof Nh(t)=="number"?t.pop():e}function Ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ww(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Gw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function Kw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Ar?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Qw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gw=="function"?Gw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ni=t=>t&&typeof t.length=="number"&&typeof t!="function";function mc(t){return P(t?.then)}function yc(t){return P(t[xi])}function vc(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function _c(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Tx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wc=Tx();function Ic(t){return P(t?.[wc])}function Ec(t){return Kw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ar(n.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{n.releaseLock()}})}function Tc(t){return P(t?.getReader)}function ee(t){if(t instanceof j)return t;if(t!=null){if(yc(t))return Dx(t);if(Ni(t))return Cx(t);if(mc(t))return bx(t);if(vc(t))return Yw(t);if(Ic(t))return Sx(t);if(Tc(t))return Ax(t)}throw _c(t)}function Dx(t){return new j(e=>{let n=t[xi]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Cx(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bx(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hc)})}function Sx(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Yw(t){return new j(e=>{Rx(t,e).catch(n=>e.error(n))})}function Ax(t){return Yw(Ec(t))}function Rx(t,e){var n,r,i,s;return Ww(this,void 0,void 0,function*(){try{for(n=Qw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function qe(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Oh(t){return P(t?.lift)}function k(t){return e=>{if(Oh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new io(t,e,n,r,i)}var io=class extends Sr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $n(t,e=0){return k((n,r)=>{n.subscribe(O(r,i=>qe(r,t,()=>r.next(i),e),()=>qe(r,t,()=>r.complete(),e),i=>qe(r,t,()=>r.error(i),e)))})}function Hn(t,e=0){return k((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jw(t,e){return ee(t).pipe(Hn(e),$n(e))}function Zw(t,e){return ee(t).pipe(Hn(e),$n(e))}function Xw(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eI(t,e){return new j(n=>{let r;return qe(n,e,()=>{r=t[wc](),qe(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function Dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{qe(n,e,()=>{let r=t[Symbol.asyncIterator]();qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tI(t,e){return Dc(Ec(t),e)}function nI(t,e){if(t!=null){if(yc(t))return Jw(t,e);if(Ni(t))return Xw(t,e);if(mc(t))return Zw(t,e);if(vc(t))return Dc(t,e);if(Ic(t))return eI(t,e);if(Tc(t))return tI(t,e)}throw _c(t)}function oe(t,e){return e?nI(t,e):ee(t)}function x(...t){let e=zt(t);return oe(t,e)}function Pi(){return k((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oi=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return Pi()(this)}};var so={now(){return(so.delegate||Date).now()},delegate:void 0};var oo=class extends Ce{constructor(e=1/0,n=1/0,r=so){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Cc=class extends Ie{constructor(e,n){super()}schedule(e,n=0){return this}};var ao={setInterval(t,e,...n){let{delegate:r}=ao;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ao;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ki=class extends Cc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ao.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ao.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Fi.now=so.now;var Li=class extends Fi{constructor(e,n=Fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Rr=new Li(ki);var bc=class extends ki{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends Li{};var kh=new Sc(bc);var at=new j(t=>t.complete());function Vi(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Fh(t){return!!t&&(t instanceof j||P(t.lift)&&P(t.subscribe))}var mn=Bn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function rI(t){return t instanceof Date&&!isNaN(t)}var xx=Bn(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function Mx(t,e){let{first:n,each:r,with:i=Nx,scheduler:s=e??Rr,meta:o=null}=rI(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&r==null)throw new TypeError("No timeout provided.");return k((a,c)=>{let u,l,d=null,h=0,f=g=>{l=qe(c,s,()=>{try{u.unsubscribe(),ee(i({meta:o,lastValue:d,seen:h})).subscribe(c)}catch(y){c.error(y)}},g)};u=a.subscribe(O(c,g=>{l?.unsubscribe(),h++,c.next(d=g),r>0&&f(r)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&f(n!=null?typeof n=="number"?n:+n-s.now():r)})}function Nx(t){throw new xx(t)}function B(t,e){return k((n,r)=>{let i=0;n.subscribe(O(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Px}=Array;function Ox(t,e){return Px(e)?t(...e):t(e)}function Ui(t){return B(e=>Ox(t,e))}var{isArray:kx}=Array,{getPrototypeOf:Fx,prototype:Lx,keys:Vx}=Object;function Ac(t){if(t.length===1){let e=t[0];if(kx(e))return{args:e,keys:null};if(Ux(e)){let n=Vx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ux(t){return t&&typeof t=="object"&&Fx(t)===Lx}function Rc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function xc(...t){let e=zt(t),n=Mi(t),{args:r,keys:i}=Ac(t);if(r.length===0)return oe([],e);let s=new j(jx(r,e,i?o=>Rc(i,o):Le));return n?s.pipe(Ui(n)):s}function jx(t,e,n=Le){return r=>{iI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)iI(e,()=>{let u=oe(t[c],e),l=!1;u.subscribe(O(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iI(t,e,n){t?qe(n,t,e):e()}function sI(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let m=!1;ee(n(y,l++)).subscribe(O(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let _=c.shift();o?qe(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(O(e,f,()=>{d=!0,h()})),()=>{a?.()}}function pe(t,e,n=1/0){return P(e)?pe((r,i)=>B((s,o)=>e(r,s,i,o))(ee(t(r,i))),n):(typeof e=="number"&&(n=e),k((r,i)=>sI(r,i,t,n)))}function Gt(t=1/0){return pe(Le,t)}function oI(){return Gt(1)}function ji(...t){return oI()(oe(t,zt(t)))}function Mc(t){return new j(e=>{ee(t()).subscribe(e)})}function Bx(...t){let e=Mi(t),{args:n,keys:r}=Ac(t),i=new j(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ee(n[l]).subscribe(O(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Rc(r,a):a),s.complete())}))}});return e?i.pipe(Ui(e)):i}var $x=["addListener","removeListener"],Hx=["addEventListener","removeEventListener"],qx=["on","off"];function Lh(t,e,n,r){if(P(n)&&(r=n,n=void 0),r)return Lh(t,e,n).pipe(Ui(r));let[i,s]=Wx(t)?Hx.map(o=>a=>t[o](e,a,n)):zx(t)?$x.map(aI(t,e)):Gx(t)?qx.map(aI(t,e)):[];if(!i&&Ni(t))return pe(o=>Lh(o,e,n))(ee(t));if(!i)throw new TypeError("Invalid event target");return new j(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function aI(t,e){return n=>r=>t[n](e,r)}function zx(t){return P(t.addListener)&&P(t.removeListener)}function Gx(t){return P(t.on)&&P(t.off)}function Wx(t){return P(t.addEventListener)&&P(t.removeEventListener)}function Kx(...t){let e=zt(t),n=zw(t,1/0),r=t;return r.length?r.length===1?ee(r[0]):Gt(n)(oe(r,e)):at}function Ue(t,e){return k((n,r)=>{let i=0;n.subscribe(O(r,s=>t.call(e,s,i++)&&r.next(s)))})}function yn(t){return k((e,n)=>{let r=null,i=!1,s;r=e.subscribe(O(n,void 0,void 0,o=>{s=ee(t(o,yn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function cI(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(O(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function vn(t,e){return P(e)?pe(t,e,1):pe(t,1)}function Qx(t,e=Rr){return k((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(O(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function qn(t){return k((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>at:k((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vh(t){return B(()=>t)}function uI(t,e=Le){return t=t??Yx,k((n,r)=>{let i,s=!0;n.subscribe(O(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Yx(t,e){return t===e}function Nc(t=Jx){return k((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Jx(){return new mn}function zn(t){return k((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,s)=>t(i,s,r)):Le,_n(1),n?qn(e):Nc(()=>new mn))}function Zx(t,e,n,r){return k((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=g=>{a.forEach(g),g(s)},u=g=>c(y=>y.error(g)),l=0,d=!1,h=new io(s,g=>{try{let y=t(g),m=a.get(y);if(!m){a.set(y,m=r?r():new Ce);let _=f(y,m);if(s.next(_),n){let C=O(m,()=>{m.complete(),C?.unsubscribe()},void 0,void 0,()=>a.delete(y));h.add(ee(n(_)).subscribe(C))}}m.next(o?o(g):g)}catch(y){u(y)}},()=>c(g=>g.complete()),u,()=>a.clear(),()=>(d=!0,l===0));i.subscribe(h);function f(g,y){let m=new j(_=>{l++;let C=y.subscribe(_);return()=>{C.unsubscribe(),--l===0&&d&&h.unsubscribe()}});return m.key=g,m}})}function Bi(t){return t<=0?()=>at:k((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,s)=>t(i,s,r)):Le,Bi(1),n?qn(e):Nc(()=>new mn))}function lI(){return k((t,e)=>{let n,r=!1;t.subscribe(O(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Xx(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return B(n=>{let r=n;for(let i=0;i<e;i++){let s=r?.[t[i]];if(typeof s<"u")r=s;else return}return r})}function Pc(t,e){return k(cI(t,e,arguments.length>=2,!0))}function Bh(t={}){let{connector:e=()=>new Ce,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let y=o;f(),y?.unsubscribe()};return k((y,m)=>{u++,!d&&!l&&h();let _=c=c??e();m.add(()=>{u--,u===0&&!d&&!l&&(a=jh(g,i))}),_.subscribe(m),!o&&u>0&&(o=new gn({next:C=>_.next(C),error:C=>{d=!0,h(),a=jh(f,n,C),_.error(C)},complete:()=>{l=!0,h(),a=jh(f,r),_.complete()}}),ee(y).subscribe(o))})(s)}}function jh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new gn({next:()=>{r.unsubscribe(),t()}});return ee(e(...n)).subscribe(r)}function eM(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Bh({connector:()=>new oo(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function tM(t){return Ue((e,n)=>t<=n)}function Oc(...t){let e=zt(t);return k((n,r)=>{(e?ji(t,n,e):ji(t,n)).subscribe(r)})}function ft(t,e){return k((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(O(r,c=>{i?.unsubscribe();let u=0,l=s++;ee(t(c,l)).subscribe(i=O(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function $h(t){return k((e,n)=>{ee(t).subscribe(O(n,()=>n.complete(),Cr)),!n.closed&&e.subscribe(n)})}function me(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?k((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(O(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Le}function nM(...t){let e=Mi(t);return k((n,r)=>{let i=t.length,s=new Array(i),o=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)ee(t[c]).subscribe(O(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Le))&&(o=null))},Cr));n.subscribe(O(r,c=>{if(a){let u=[c,...s];r.next(e?e(...u):u)}}))})}function dI(t,e){return Object.is(t,e)}var Pe=null,kc=!1,Fc=1,xr=Symbol("SIGNAL");function Re(t){let e=Pe;return Pe=t,e}var Vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hI(t){if(kc)throw new Error("");if(Pe===null)return;Pe.consumerOnSignalRead(t);let e=Pe.nextProducerIndex++;if($i(Pe),e<Pe.producerNode.length&&Pe.producerNode[e]!==t&&co(Pe)){let n=Pe.producerNode[e];Uc(n,Pe.producerIndexOfThis[e])}Pe.producerNode[e]!==t&&(Pe.producerNode[e]=t,Pe.producerIndexOfThis[e]=co(Pe)?yI(t,Pe,e):0),Pe.producerLastReadVersion[e]=t.version}function rM(){Fc++}function fI(t){if(!(co(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Fc)){if(!t.producerMustRecompute(t)&&!Wh(t)){t.dirty=!1,t.lastCleanEpoch=Fc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Fc}}function pI(t){if(t.liveConsumerNode===void 0)return;let e=kc;kc=!0;try{for(let n of t.liveConsumerNode)n.dirty||iM(n)}finally{kc=e}}function gI(){return Pe?.consumerAllowSignalWrites!==!1}function iM(t){t.dirty=!0,pI(t),t.consumerMarkedDirty?.(t)}function zh(t){return t&&(t.nextProducerIndex=0),Re(t)}function Gh(t,e){if(Re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(co(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Uc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Wh(t){$i(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fI(n),r!==n.version))return!0}return!1}function mI(t){if($i(t),co(t))for(let e=0;e<t.producerNode.length;e++)Uc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yI(t,e,n){if(vI(t),$i(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=yI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Uc(t,e){if(vI(t),$i(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Uc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$i(i),i.producerIndexOfThis[r]=e}}function co(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $i(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _I(t){let e=Object.create(sM);e.computation=t;let n=()=>{if(fI(e),hI(e),e.value===Lc)throw e.error;return e.value};return n[xr]=e,n}var Hh=Symbol("UNSET"),qh=Symbol("COMPUTING"),Lc=Symbol("ERRORED"),sM=(()=>fe(b({},Vc),{value:Hh,dirty:!0,error:null,equal:dI,producerMustRecompute(t){return t.value===Hh||t.value===qh},producerRecomputeValue(t){if(t.value===qh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=qh;let n=zh(t),r;try{r=t.computation()}catch(i){r=Lc,t.error=i}finally{Gh(t,n)}if(e!==Hh&&e!==Lc&&r!==Lc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}}))();function oM(){throw new Error}var wI=oM;function II(){wI()}function EI(t){wI=t}var aM=null;function TI(t){let e=Object.create(cM);e.value=t;let n=()=>(hI(e),e.value);return n[xr]=e,n}function Kh(t,e){gI()||II(),t.equal(t.value,e)||(t.value=e,uM(t))}function DI(t,e){gI()||II(),Kh(t,e(t.value))}var cM=(()=>fe(b({},Vc),{equal:dI,value:void 0}))();function uM(t){t.version++,rM(),pI(t),aM?.()}function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function jc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lM=ae({__forward_ref__:ae});function pE(t){return t.__forward_ref__=pE,t.toString=function(){return ze(this())},t}function et(t){return gE(t)?t():t}function gE(t){return typeof t=="function"&&t.hasOwnProperty(lM)&&t.__forward_ref__===pE}function mE(t){return t&&!!t.\u0275providers}var yE="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(bu(e,n)),this.code=e}};function bu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var dM=ae({\u0275cmp:ae}),hM=ae({\u0275dir:ae}),fM=ae({\u0275pipe:ae}),pM=ae({\u0275mod:ae}),nu=ae({\u0275fac:ae}),uo=ae({__NG_ELEMENT_ID__:ae}),CI=ae({__NG_ENV_ID__:ae});function Ot(t){return typeof t=="string"?t:t==null?"":String(t)}function gM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ot(t)}function mM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}function bp(t,e){let n=e?` in ${e}`:"";throw new A(-201,!1)}function yM(t,e){t==null&&vM(e,t,null,"!=")}function vM(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function Su(t){return bI(t,_E)||bI(t,wE)}function vE(t){return Su(t)!==null}function bI(t,e){return t.hasOwnProperty(e)?t[e]:null}function _M(t){let e=t&&(t[_E]||t[wE]);return e||null}function SI(t){return t&&(t.hasOwnProperty(AI)||t.hasOwnProperty(wM))?t[AI]:null}var _E=ae({\u0275prov:ae}),AI=ae({\u0275inj:ae}),wE=ae({ngInjectableDef:ae}),wM=ae({ngInjectorDef:ae}),Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),gf;function IE(){return gf}function ct(t){let e=gf;return gf=t,e}function EE(t,e,n){let r=Su(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;bp(ze(t),"Injector")}var wn=globalThis;var M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var IM={},lo=IM,mf="__NG_DI_FLAG__",ru="ngTempTokenPath",EM="ngTokenPath",TM=/\n/gm,DM="\u0275",RI="__source",Gi;function CM(){return Gi}function Gn(t){let e=Gi;return Gi=t,e}function bM(t,e=Q.Default){if(Gi===void 0)throw new A(-203,!1);return Gi===null?EE(t,void 0,e):Gi.get(t,e&Q.Optional?null:void 0,e)}function S(t,e=Q.Default){return(IE()||bM)(et(t),e)}function I(t,e=Q.Default){return S(t,Au(e))}function Au(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yf(t){let e=[];for(let n=0;n<t.length;n++){let r=et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){let a=r[o],c=SM(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Sp(t,e){return t[mf]=e,t.prototype[mf]=e,t}function SM(t){return t[mf]}function AM(t,e,n,r){let i=t[ru];throw e[RI]&&i.unshift(e[RI]),t.message=RM(`
`+t.message,i,n,r),t[EM]=i,t[ru]=null,t}function RM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DM?t.slice(2):t;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TM,`
  `)}`}function Co(t){return{toString:t}.toString()}var TE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(TE||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),Ki={},tt=[];function DE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function vf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];xM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function CE(t){return t===3||t===4||t===6}function xM(t){return t.charCodeAt(0)===64}function ho(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xI(t,n,i,null,e[++r]):xI(t,n,i,null,null))}}return t}function xI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var bE="ng-template";function MM(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&DE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function SE(t){return t.type===4&&t.value!==bE}function NM(t,e,n){let r=t.type===4&&!n?bE:t.value;return e===r}function PM(t,e,n){let r=4,i=t.attrs||[],s=FM(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Pt(r)&&!Pt(c))return!1;if(o&&Pt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!NM(t,c,n)||c===""&&e.length===1){if(Pt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!MM(t.attrs,u,n)){if(Pt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=OM(l,i,SE(t),n);if(d===-1){if(Pt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&DE(f,u,0)!==-1||r&2&&u!==h){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function OM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return LM(e,t)}function AE(t,e,n=!1){for(let r=0;r<e.length;r++)if(PM(t,e[r],n))return!0;return!1}function kM(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function FM(t){for(let e=0;e<t.length;e++){let n=t[e];if(CE(n))return e}return t.length}function LM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function VM(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function MI(t,e){return t?":not("+e.trim()+")":e}function UM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=MI(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=MI(s,i)),e}function jM(t){return t.map(UM).join(",")}function BM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function RE(t){return Co(()=>{let e=OE(t),n=fe(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===TE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||tt,_:null,schemas:t.schemas||null,tView:null,id:""});kE(n);let r=t.dependencies;return n.directiveDefs=PI(r,!1),n.pipeDefs=PI(r,!0),n.id=qM(n),n})}function $M(t){return Nr(t)||xE(t)}function HM(t){return t!==null}function bt(t){return Co(()=>({type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NI(t,e){if(t==null)return Ki;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Zn(t){return Co(()=>{let e=OE(t);return kE(e),e})}function Ap(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[dM]||null}function xE(t){return t[hM]||null}function ME(t){return t[fM]||null}function NE(t){let e=Nr(t)||xE(t)||ME(t);return e!==null?e.standalone:!1}function PE(t,e){let n=t[pM]||null;if(!n&&e===!0)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return n}function OE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ki,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NI(t.inputs,e),outputs:NI(t.outputs),debugInfo:null}}function kE(t){t.features?.forEach(e=>e(t))}function PI(t,e){if(!t)return null;let n=e?ME:$M;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(HM)}function qM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var gt=0,V=1,F=2,Ee=3,kt=4,mt=5,Ft=6,fo=7,Ge=8,Qi=9,In=10,ce=11,po=12,OI=13,ns=14,ut=15,bo=16,Hi=17,Qt=18,Ru=19,FE=20,Wn=21,Qh=22,Pr=23,Te=25,LE=1,go=6,En=7,iu=8,Yi=9,je=10,Ji=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Ji||{});function Yt(t){return Array.isArray(t)&&typeof t[LE]=="object"}function Tt(t){return Array.isArray(t)&&t[LE]===!0}function Rp(t){return(t.flags&4)!==0}function So(t){return t.componentOffset>-1}function xu(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function VE(t){return(t[F]&512)!==0}function Or(t,e){let n=t.hasOwnProperty(nu);return n?t[nu]:null}var _f=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rs(){return UE}function UE(t){return t.type.prototype.ngOnChanges&&(t.setInput=GM),zM}rs.ngInherit=!0;function zM(){let t=BE(this),e=t?.current;if(e){let n=t.previous;if(n===Ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GM(t,e,n,r){let i=this.declaredInputs[n],s=BE(t)||WM(t,{previous:Ki,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new _f(c&&c.currentValue,e,a===Ki),t[r]=e}var jE="__ngSimpleChanges__";function BE(t){return t[jE]||null}function WM(t,e){return t[jE]=e}var kI=null;var Wt=function(t,e,n){kI?.(t,e,n)},KM="svg",QM="math",YM=!1;function JM(){return YM}function Lt(t){for(;Array.isArray(t);)t=t[gt];return t}function $E(t,e){return Lt(e[t])}function yt(t,e){return Lt(e[t.index])}function xp(t,e){return t.data[e]}function HE(t,e){return t[e]}function Xn(t,e){let n=e[t];return Yt(n)?n:n[gt]}function ZM(t){return(t[F]&4)===4}function Mp(t){return(t[F]&128)===128}function XM(t){return Tt(t[Ee])}function Zi(t,e){return e==null?null:t[e]}function qE(t){t[Hi]=0}function eN(t){t[F]&1024||(t[F]|=1024,Mp(t)&&mo(t))}function tN(t,e){for(;t>0;)e=e[ns],t--;return e}function zE(t){return t[F]&9216||t[Pr]?.dirty}function wf(t){zE(t)?mo(t):t[F]&64&&(JM()?(t[F]|=1024,mo(t)):t[In].changeDetectionScheduler?.notify())}function mo(t){t[In].changeDetectionScheduler?.notify();let e=t[Ee];for(;e!==null&&!(Tt(e)&&e[F]&Ji.HasChildViewsToRefresh||Yt(e)&&e[F]&8192);){if(Tt(e))e[F]|=Ji.HasChildViewsToRefresh;else if(e[F]|=8192,!Mp(e))break;e=e[Ee]}}function GE(t,e){if((t[F]&256)===256)throw new A(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function nN(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}var K={lFrame:XE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rN(){return K.lFrame.elementDepthCount}function iN(){K.lFrame.elementDepthCount++}function sN(){K.lFrame.elementDepthCount--}function WE(){return K.bindingsEnabled}function is(){return K.skipHydrationRootTNode!==null}function oN(t){return K.skipHydrationRootTNode===t}function aN(t){K.skipHydrationRootTNode=t}function cN(){K.skipHydrationRootTNode=null}function $(){return K.lFrame.lView}function De(){return K.lFrame.tView}function n8(t){return K.lFrame.contextLView=t,t[Ge]}function r8(t){return K.lFrame.contextLView=null,t}function rt(){let t=KE();for(;t!==null&&t.type===64;)t=t.parent;return t}function KE(){return K.lFrame.currentTNode}function uN(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $r(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function Np(){return K.lFrame.isParent}function Pp(){K.lFrame.isParent=!1}function Mu(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QE(){return K.lFrame.bindingIndex}function lN(t){return K.lFrame.bindingIndex=t}function ss(){return K.lFrame.bindingIndex++}function Nu(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dN(){return K.lFrame.inI18n}function hN(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,If(e)}function fN(){return K.lFrame.currentDirectiveIndex}function If(t){K.lFrame.currentDirectiveIndex=t}function pN(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YE(){return K.lFrame.currentQueryIndex}function Op(t){K.lFrame.currentQueryIndex=t}function gN(t){let e=t[V];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function JE(t,e,n){if(n&Q.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=gN(s),i===null||(s=s[ns],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=K.lFrame=ZE();return r.currentTNode=e,r.lView=t,!0}function kp(t){let e=ZE(),n=t[V];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZE(){let t=K.lFrame,e=t===null?null:t.child;return e===null?XE(t):e}function XE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eT(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tT=eT;function Fp(){let t=eT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mN(t){return(K.lFrame.contextLView=tN(t,K.lFrame.contextLView))[Ge]}function bn(){return K.lFrame.selectedIndex}function kr(t){K.lFrame.selectedIndex=t}function Pu(){let t=K.lFrame;return xp(t.tView,t.selectedIndex)}function nT(){return K.lFrame.currentNamespace}var rT=!0;function Ou(){return rT}function er(t){rT=t}function yN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=UE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ku(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Yc(t,e,n){iT(t,e,3,n)}function Jc(t,e,n,r){(t[F]&3)===n&&iT(t,e,n,r)}function Yh(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function iT(t,e,n,r){let i=r!==void 0?t[Hi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Hi]+=65536),(a<s||s==-1)&&(vN(t,n,e,c),t[Hi]=(t[Hi]&4294901760)+c+2),c++}function FI(t,e){Wt(4,t,e);let n=Re(null);try{e.call(t)}finally{Re(n),Wt(5,t,e)}}function vN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[F]>>14<t[Hi]>>16&&(t[F]&3)===e&&(t[F]+=16384,FI(a,s)):FI(a,s)}var Wi=-1,Fr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _N(t){return t instanceof Fr}function wN(t){return(t.flags&8)!==0}function IN(t){return(t.flags&16)!==0}function sT(t){return t!==Wi}function su(t){let e=t&32767;return t&32767}function EN(t){return t>>16}function ou(t,e){let n=EN(t),r=e;for(;n>0;)r=r[ns],n--;return r}var Ef=!0;function au(t){let e=Ef;return Ef=t,e}var TN=256,oT=TN-1,aT=5,DN=0,Kt={};function CN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),r==null&&(r=n[uo]=DN++);let i=r&oT,s=1<<i;e.data[t+(i>>aT)]|=s}function cu(t,e){let n=cT(t,e);if(n!==-1)return n;let r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,Jh(r.data,t),Jh(e,null),Jh(r.blueprint,null));let i=Lp(t,e),s=t.injectorIndex;if(sT(i)){let o=su(i),a=ou(i,e),c=a[V].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Lp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fT(i),r===null)return Wi;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wi}function Tf(t,e,n){CN(t,e,n)}function bN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(CE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function uT(t,e,n){if(n&Q.Optional||t!==void 0)return t;bp(e,"NodeInjector")}function lT(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[Qi],s=ct(void 0);try{return i?i.get(e,r,n&Q.Optional):EE(e,r,n&Q.Optional)}finally{ct(s)}}return uT(r,e,n)}function dT(t,e,n,r=Q.Default,i){if(t!==null){if(e[F]&2048&&!(r&Q.Self)){let o=xN(t,e,n,r,Kt);if(o!==Kt)return o}let s=hT(t,e,n,r,Kt);if(s!==Kt)return s}return lT(e,n,r,i)}function hT(t,e,n,r,i){let s=AN(n);if(typeof s=="function"){if(!JE(e,t,r))return r&Q.Host?uT(i,n,r):lT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Q.Optional))bp(n);else return o}finally{tT()}}else if(typeof s=="number"){let o=null,a=cT(t,e),c=Wi,u=r&Q.Host?e[ut][mt]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?Lp(t,e):e[a+8],c===Wi||!VI(r,!1)?a=-1:(o=e[V],a=su(c),e=ou(c,e)));a!==-1;){let l=e[V];if(LI(s,a,l.data)){let d=SN(a,e,n,o,r,u);if(d!==Kt)return d}c=e[a+8],c!==Wi&&VI(r,e[V].data[a+8]===u)&&LI(s,a,e)?(o=l,a=su(c),e=ou(c,e)):a=-1}}return i}function SN(t,e,n,r,i,s){let o=e[V],a=o.data[t+8],c=r==null?So(a)&&Ef:r!=o&&(a.type&3)!==0,u=i&Q.Host&&s===a,l=Zc(a,o,n,c,u);return l!==null?Lr(e,o,l,a):Kt}function Zc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&Kn(f)&&f.type===n)return c}return null}function Lr(t,e,n,r){let i=t[n],s=e.data;if(_N(i)){let o=i;o.resolving&&mM(gM(s[n]));let a=au(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ct(o.injectImpl):null,l=JE(t,r,Q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yN(n,s[n],e)}finally{u!==null&&ct(u),au(a),o.resolving=!1,tT()}}return i}function AN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(uo)?t[uo]:void 0;return typeof e=="number"?e>=0?e&oT:RN:e}function LI(t,e,n){let r=1<<t;return!!(n[e+(t>>aT)]&r)}function VI(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Mr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dT(this._tNode,this._lView,e,Au(r),n)}};function RN(){return new Mr(rt(),$())}function Vp(t){return Co(()=>{let e=t.prototype.constructor,n=e[nu]||Df(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[nu]||Df(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Df(t){return gE(t)?()=>{let e=Df(et(t));return e&&e()}:Or(t)}function xN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[F]&2048&&!(o[F]&512);){let a=hT(s,o,n,r|Q.Self,Kt);if(a!==Kt)return a;let c=s.parent;if(!c){let u=o[FE];if(u){let l=u.get(n,Kt,r);if(l!==Kt)return l}c=fT(o),o=o[ns]}s=c}return i}function fT(t){let e=t[V],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function Up(t){return bN(rt(),t)}var Bc="__parameters__";function MN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function jp(t,e,n){return Co(()=>{let r=MN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Bc)?c[Bc]:Object.defineProperty(c,Bc,{value:[]})[Bc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function NN(t){return typeof t=="function"}function PN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function ON(t){return t.flat(Number.POSITIVE_INFINITY)}function Bp(t,e){t.forEach(n=>Array.isArray(n)?Bp(n,e):e(n))}function pT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gT(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function kN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Ao(t,e,n){let r=Ro(t,e);return r>=0?t[r|1]=n:(r=~r,kN(t,r,e,n)),r}function Zh(t,e){let n=Ro(t,e);if(n>=0)return t[n|1]}function Ro(t,e){return FN(t,e,1)}function FN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var i8=Sp(jp("Inject",t=>({token:t})),-1),We=Sp(jp("Optional"),8);var $p=Sp(jp("SkipSelf"),4);var Vr=new M("ENVIRONMENT_INITIALIZER"),mT=new M("INJECTOR",-1),yT=new M("INJECTOR_DEF_TYPES"),lu=class{get(e,n=lo){if(n===lo){let r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return n}};function tr(t){return{\u0275providers:t}}function LN(...t){return{\u0275providers:vT(!0,t),\u0275fromNgModule:!0}}function vT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Bp(e,o=>{let a=o;Cf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_T(i,s),n}function _T(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Hp(i,s=>{e(s,r)})}}function Cf(t,e,n,r){if(t=et(t),!t)return!1;let i=null,s=SI(t),o=!s&&Nr(t);if(!s&&!o){let c=t.ngModule;if(s=SI(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Cf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Bp(s.imports,l=>{Cf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&_T(u,e)}if(!a){let u=Or(i)||(()=>new i);e({provide:i,useFactory:u,deps:tt},i),e({provide:yT,useValue:i,multi:!0},i),e({provide:Vr,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Hp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Hp(t,e){for(let n of t)mE(n)&&(n=n.\u0275providers),Array.isArray(n)?Hp(n,e):e(n)}var VN=ae({provide:String,useValue:ae});function wT(t){return t!==null&&typeof t=="object"&&VN in t}function UN(t){return!!(t&&t.useExisting)}function jN(t){return!!(t&&t.useFactory)}function Xi(t){return typeof t=="function"}function BN(t){return!!t.useClass}var Fu=new M("Set Injector scope."),Xc={},$N={},Xh;function qp(){return Xh===void 0&&(Xh=new lu),Xh}var nt=class{},yo=class extends nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sf(e,o=>this.processProvider(o)),this.records.set(mT,qi(void 0,this)),i.has("environment")&&this.records.set(nt,qi(void 0,this));let s=this.records.get(Fu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yT,tt,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=ct(void 0),i;try{return e()}finally{Gn(n),ct(r)}}get(e,n=lo,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CI))return e[CI](this);r=Au(r);let i,s=Gn(this),o=ct(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=WN(e)&&Su(e);u&&this.injectableDefInScope(u)?c=qi(bf(e),Xc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?qp():this.parent;return n=r&Q.Optional&&n===lo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ru]=a[ru]||[]).unshift(ze(e)),s)throw a;return AM(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(o),Gn(s)}}resolveInjectorInitializers(){let e=Gn(this),n=ct(void 0),r;try{let i=this.get(Vr,tt,Q.Self);for(let s of i)s()}finally{Gn(e),ct(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=et(e);let n=Xi(e)?e:et(e&&e.provide),r=qN(e);if(!Xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qi(void 0,Xc,!0),i.factory=()=>yf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Xc&&(n.value=$N,n.value=n.factory()),typeof n.value=="object"&&n.value&&GN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bf(t){let e=Su(t),n=e!==null?e.factory:Or(t);if(n!==null)return n;if(t instanceof M)throw new A(204,!1);if(t instanceof Function)return HN(t);throw new A(204,!1)}function HN(t){let e=t.length;if(e>0){let r=gT(e,"?");throw new A(204,!1)}let n=_M(t);return n!==null?()=>n.factory(t):()=>new t}function qN(t){if(wT(t))return qi(void 0,t.useValue);{let e=IT(t);return qi(e,Xc)}}function IT(t,e,n){let r;if(Xi(t)){let i=et(t);return Or(i)||bf(i)}else if(wT(t))r=()=>et(t.useValue);else if(jN(t))r=()=>t.useFactory(...yf(t.deps||[]));else if(UN(t))r=()=>S(et(t.useExisting));else{let i=et(t&&(t.useClass||t.provide));if(zN(t))r=()=>new i(...yf(t.deps));else return Or(i)||bf(i)}return r}function qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zN(t){return!!t.deps}function GN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WN(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function Sf(t,e){for(let n of t)Array.isArray(n)?Sf(n,e):n&&mE(n)?Sf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof yo&&t.assertNotDestroyed();let n,r=Gn(t),i=ct(void 0);try{return e()}finally{Gn(r),ct(i)}}function s8(t){if(!IE()&&!CM())throw new A(-203,!1)}function UI(t,e=null,n=null,r){let i=ET(t,e,n,r);return i.resolveInjectorInitializers(),i}function ET(t,e=null,n=null,r,i=new Set){let s=[n||tt,LN(t)];return r=r||(typeof t=="object"?void 0:ze(t)),new yo(s,e||qp(),r||null,i)}var it=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return UI({name:""},i,r,"");{let s=r.name??"";return UI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=lo,e.NULL=new lu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>S(mT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Af;function TT(t){Af=t}function xo(){if(Af!==void 0)return Af;if(typeof document<"u")return document;throw new A(210,!1)}var Lu=new M("AppId",{providedIn:"root",factory:()=>KN}),KN="ng",zp=new M("Platform Initializer"),St=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var o8=new M("AnimationModuleType"),Gp=new M("CSP nonce",{providedIn:"root",factory:()=>xo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function QN(t){return t.ownerDocument.body}function DT(t){return t instanceof Function?t():t}function $c(t){return(t??I(it)).get(St)==="browser"}var YN="ngSkipHydration",JN="ngskiphydration";function CT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===JN)return!0}return!1}function bT(t){return t.hasAttribute(YN)}function du(t){return(t.flags&128)===128}function ZN(t){if(du(t))return!0;let e=t.parent;for(;e;){if(du(t)||CT(e))return!0;e=e.parent}return!1}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),XN=/^>|^->|<!--|-->|--!>|<!-$/g,eP=/(<|>)/g,tP="\u200B$1\u200B";function nP(t){return t.replace(XN,e=>e.replace(eP,tP))}var ST=new Map,rP=0;function iP(){return rP++}function sP(t){ST.set(t[Ru],t)}function oP(t){ST.delete(t[Ru])}var jI="__ngContext__";function Qn(t,e){Yt(e)?(t[jI]=e[Ru],sP(e)):t[jI]=e}var aP;function Wp(t,e){return aP(t,e)}function Kp(t){let e=t[Ee];return Tt(e)?e[Ee]:e}function AT(t){return xT(t[po])}function RT(t){return xT(t[kt])}function xT(t){for(;t!==null&&!Tt(t);)t=t[kt];return t}function zi(t,e,n,r,i){if(r!=null){let s,o=!1;Tt(r)?s=r:Yt(r)&&(o=!0,r=r[gt]);let a=Lt(r);t===0&&n!==null?i==null?kT(e,n,a):hu(e,n,a,i||null,!0):t===1&&n!==null?hu(e,n,a,i||null,!0):t===2?VT(e,a,o):t===3&&e.destroyNode(a),s!=null&&TP(e,t,s,n,i)}}function MT(t,e){return t.createText(e)}function cP(t,e,n){t.setValue(e,n)}function NT(t,e){return t.createComment(nP(e))}function Qp(t,e,n){return t.createElement(e,n)}function uP(t,e){let n=e[ce];Mo(t,e,n,2,null,null),e[gt]=null,e[mt]=null}function lP(t,e,n,r,i,s){r[gt]=i,r[mt]=e,Mo(t,r,n,1,i,s)}function dP(t,e){Mo(t,e,e[ce],2,null,null)}function hP(t){let e=t[po];if(!e)return ef(t[V],t);for(;e;){let n=null;if(Yt(e))n=e[po];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[kt]&&e!==t;)Yt(e)&&ef(e[V],e),e=e[Ee];e===null&&(e=t),Yt(e)&&ef(e[V],e),n=e&&e[kt]}e=n}}function fP(t,e,n,r){let i=je+r,s=n.length;r>0&&(n[i-1][kt]=e),r<s-je?(e[kt]=n[i],pT(n,je+r,e)):(n.push(e),e[kt]=null),e[Ee]=n;let o=e[bo];o!==null&&n!==o&&pP(o,e);let a=e[Qt];a!==null&&a.insertView(t),wf(e),e[F]|=128}function pP(t,e){let n=t[Yi],i=e[Ee][Ee][ut];e[ut]!==i&&(t[F]|=Ji.HasTransplantedViews),n===null?t[Yi]=[e]:n.push(e)}function PT(t,e){let n=t[Yi],r=n.indexOf(e),i=e[Ee];n.splice(r,1)}function vo(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[bo];i!==null&&i!==t&&PT(i,r),e>0&&(t[n-1][kt]=r[kt]);let s=uu(t,je+e);uP(r[V],r);let o=s[Qt];o!==null&&o.detachView(s[V]),r[Ee]=null,r[kt]=null,r[F]&=-129}return r}function Vu(t,e){if(!(e[F]&256)){let n=e[ce];n.destroyNode&&Mo(t,e,n,3,null,null),hP(e)}}function ef(t,e){if(!(e[F]&256)){e[F]&=-129,e[F]|=256,e[Pr]&&mI(e[Pr]),mP(t,e),gP(t,e),e[V].type===1&&e[ce].destroy();let n=e[bo];if(n!==null&&Tt(e[Ee])){n!==e[Ee]&&PT(n,e);let r=e[Qt];r!==null&&r.detachView(t)}oP(e)}}function gP(t,e){let n=t.cleanup,r=e[fo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[fo]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Wt(4,a,c);try{c.call(a)}finally{Wt(5,a,c)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function OT(t,e,n){return yP(t,e.parent,n)}function yP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[gt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return yt(r,n)}}function hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kT(t,e,n){t.appendChild(e,n)}function BI(t,e,n,r,i){r!==null?hu(t,e,n,r,i):kT(t,e,n)}function vP(t,e,n,r){t.removeChild(e,n,r)}function Yp(t,e){return t.parentNode(e)}function _P(t,e){return t.nextSibling(e)}function FT(t,e,n){return IP(t,e,n)}function wP(t,e,n){return t.type&40?yt(t,n):null}var IP=wP,$I;function Uu(t,e,n,r){let i=OT(t,r,e),s=e[ce],o=r.parent||e[mt],a=FT(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)BI(s,i,n[c],a,!1);else BI(s,i,n,a,!1);$I!==void 0&&$I(s,r,e,n,i)}function eu(t,e){if(e!==null){let n=e.type;if(n&3)return yt(e,t);if(n&4)return Rf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return eu(t,r);{let i=t[e.index];return Tt(i)?Rf(-1,i):Lt(i)}}else{if(n&32)return Wp(e,t)()||Lt(t[e.index]);{let r=LT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kp(t[ut]);return eu(i,r)}else return eu(t,e.next)}}}return null}function LT(t,e){if(e!==null){let r=t[ut][mt],i=e.projection;return r.projection[i]}return null}function Rf(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[V].firstChild;if(i!==null)return eu(r,i)}return e[En]}function VT(t,e,n){let r=Yp(t,e);r&&vP(t,r,e,n)}function UT(t){t.textContent=""}function Jp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Qn(Lt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Jp(t,e,n.child,r,i,s,!1),zi(e,t,i,a,s);else if(c&32){let u=Wp(n,r),l;for(;l=u();)zi(e,t,i,l,s);zi(e,t,i,a,s)}else c&16?jT(t,e,r,n,i,s):zi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mo(t,e,n,r,i,s){Jp(n,r,t.firstChild,e,i,s,!1)}function EP(t,e,n){let r=e[ce],i=OT(t,n,e),s=n.parent||e[mt],o=FT(s,n,e);jT(r,0,e,n,i,o)}function jT(t,e,n,r,i,s){let o=n[ut],c=o[mt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];zi(e,t,i,l,s)}else{let u=c,l=o[Ee];du(r)&&(u.flags|=128),Jp(t,e,u,l,i,s,!0)}}function TP(t,e,n,r,i){let s=n[En],o=Lt(n);s!==o&&zi(e,t,r,s,i);for(let a=je;a<n.length;a++){let c=n[a];Mo(c[V],c,t,e,r,s)}}function DP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}function CP(t,e,n){t.setAttribute(e,"style",n)}function BT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $T(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&vf(t,e,r),i!==null&&BT(t,e,i),s!==null&&CP(t,e,s)}var Hc;function bP(){if(Hc===void 0&&(Hc=null,wn.trustedTypes))try{Hc=wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hc}function ju(t){return bP()?.createHTML(t)||t}var qc;function HT(){if(qc===void 0&&(qc=null,wn.trustedTypes))try{qc=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qc}function HI(t){return HT()?.createHTML(t)||t}function qI(t){return HT()?.createScriptURL(t)||t}var Dn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yE})`}},xf=class extends Dn{getTypeName(){return"HTML"}},Mf=class extends Dn{getTypeName(){return"Style"}},Nf=class extends Dn{getTypeName(){return"Script"}},Pf=class extends Dn{getTypeName(){return"URL"}},Of=class extends Dn{getTypeName(){return"ResourceURL"}};function vt(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function An(t,e){let n=SP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yE})`)}return n===e}function SP(t){return t instanceof Dn&&t.getTypeName()||null}function qT(t){return new xf(t)}function zT(t){return new Mf(t)}function GT(t){return new Nf(t)}function WT(t){return new Pf(t)}function KT(t){return new Of(t)}function AP(t){let e=new Ff(t);return RP()?new kf(e):e}var kf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ju(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Ff=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ju(e),n}};function RP(){try{return!!new window.DOMParser().parseFromString(ju(""),"text/html")}catch{return!1}}var xP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bu(t){return t=String(t),t.match(xP)?t:"unsafe:"+t}function Rn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function No(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var QT=Rn("area,br,col,hr,img,wbr"),YT=Rn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JT=Rn("rp,rt"),MP=No(JT,YT),NP=No(YT,Rn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),PP=No(JT,Rn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zI=No(QT,NP,PP,MP),ZT=Rn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OP=Rn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kP=Rn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),FP=No(ZT,OP,kP),LP=Rn("script,style,template"),Lf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!zI.hasOwnProperty(n))return this.sanitizedSomething=!0,!LP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!FP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;ZT[a]&&(c=Bu(c)),this.buf.push(" ",o,'="',GI(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();zI.hasOwnProperty(n)&&!QT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(GI(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},VP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UP=/([^\#-~ |!])/g;function GI(t){return t.replace(/&/g,"&amp;").replace(VP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(UP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zc;function Zp(t,e){let n=null;try{zc=zc||AP(t);let r=e?String(e):"";n=zc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zc.getInertBodyElement(r)}while(r!==s);let a=new Lf().sanitizeChildren(WI(n)||n);return ju(a)}finally{if(n){let r=WI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function WI(t){return"content"in t&&jP(t)?t.content:null}function jP(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Vt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vt||{});function a8(t){let e=Xp();return e?HI(e.sanitize(Vt.HTML,t)||""):An(t,"HTML")?HI(vt(t)):Zp(xo(),Ot(t))}function BP(t){let e=Xp();return e?e.sanitize(Vt.URL,t)||"":An(t,"URL")?vt(t):Bu(Ot(t))}function $P(t){let e=Xp();if(e)return qI(e.sanitize(Vt.RESOURCE_URL,t)||"");if(An(t,"ResourceURL"))return qI(vt(t));throw new A(904,!1)}function HP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?$P:BP}function XT(t,e,n){return HP(e,n)(t)}function Xp(){let t=$();return t&&t[In].sanitizer}var Vf=class{};function qP(){let t=new Hr;return I(St)==="browser"&&(t.store=zP(xo(),I(Lu))),t}var Hr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=R({token:e,providedIn:"root",factory:qP});let t=e;return t})();function zP(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var eD="h",tD="b",Uf=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Uf||{}),GP="e",WP="t",eg="c",nD="x",fu="r",KP="i",QP="n",YP="d",JP="__nghData__",rD=JP,tf="ngh",ZP="nghm",iD=(t,e,n)=>null;function XP(t,e,n=!1){let r=t.getAttribute(tf);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=n?i:s?`|${s}`:"",a={};if(r!==""){let u=e.get(Hr,null,{optional:!0});u!==null&&(a=u.get(rD,[])[Number(r)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,$u(c,0,t.nextSibling)),o?t.setAttribute(tf,o):t.removeAttribute(tf),c}function eO(){iD=XP}function tg(t,e,n=!1){return iD(t,e,n)}function tO(t){let e=t._lView;return e[V].type===2?null:(VE(e)&&(e=e[Te]),e)}function nO(t){return t.textContent?.replace(/\s/gm,"")}function rO(t){let e=xo(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=nO(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function $u(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function jf(t,e){return t.segmentHeads?.[e]??null}function iO(t,e){let n=t.data,r=n[GP]?.[e]??null;return r===null&&n[eg]?.[e]&&(r=ng(t,e)),r}function sD(t,e){return t.data[eg]?.[e]??null}function ng(t,e){let n=sD(t,e)??[],r=0;for(let i of n)r+=i[fu]*(i[nD]??1);return r}function Hu(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[YP];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Bf=class{},pu=class{};function sO(t){let e=Error(`No component factory found for ${ze(t)}.`);return e[oO]=t,e}var oO="ngComponent";var $f=class{resolveComponentFactory(e){throw sO(e)}},qu=(()=>{let e=class e{};e.NULL=new $f;let t=e;return t})();function aO(){return os(rt(),$())}function os(t,e){return new Zt(yt(t,e))}var Zt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=aO;let t=e;return t})();function cO(t){return t instanceof Zt?t.nativeElement:t}var _o=class{},as=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>uO();let t=e;return t})();function uO(){let t=$(),e=rt(),n=Xn(e.index,t);return(Yt(n)?n:t)[ce]}var lO=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),nf={};function c8(t,e){let n=_I(t);return e?.equal&&(n[xr].equal=e.equal),n}function u8(t,e){let n=TI(t),r=n[xr];return e?.equal&&(r.equal=e.equal),n.set=i=>Kh(r,i),n.update=i=>DI(r,i),n.asReadonly=dO.bind(n),n}function dO(){let t=this[xr];if(t.readonlyFn===void 0){let e=()=>this();e[xr]=t,t.readonlyFn=e}return t.readonlyFn}function rg(t){let e=Re(null);try{return t()}finally{Re(e)}}function oD(t){return ig(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ig(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Hf=class{constructor(){}supports(e){return oD(e)}create(e){return new qf(e)}},fO=(t,e)=>e,qf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<KI(r,i,s)?n:r,a=KI(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!oD(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,hO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Gf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Gf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Wf=class{constructor(){}supports(e){return e instanceof Map||ig(e)}create(){return new Kf}},Kf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ig(e)))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Qf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Qf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function QI(){return new zu([new Hf])}var zu=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||QI()),deps:[[e,new $p,new We]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new A(901,!1)}};e.\u0275prov=R({token:e,providedIn:"root",factory:QI});let t=e;return t})();function YI(){return new sg([new Wf])}var sg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||YI()),deps:[[e,new $p,new We]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new A(901,!1)}};e.\u0275prov=R({token:e,providedIn:"root",factory:YI});let t=e;return t})();function mu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Lt(s)),Tt(s)&&pO(s,r);let o=n.type;if(o&8)mu(t,e,n.child,r);else if(o&32){let a=Wp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=LT(e,n);if(Array.isArray(a))r.push(...a);else{let c=Kp(e[ut]);mu(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pO(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[V].firstChild;i!==null&&mu(r[V],r,i,e)}t[En]!==t[gt]&&e.push(t[En])}var aD=[];function gO(t){return t[Pr]??mO(t)}function mO(t){let e=aD.pop()??Object.create(vO);return e.lView=t,e}function yO(t){t.lView[Pr]!==t&&(t.lView=null,aD.push(t))}var vO=fe(b({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mo(t.lView)},consumerOnSignalRead(){this.lView[Pr]=this}}),_O="ngOriginalError";function rf(t){return t[_O]}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rf(e);for(;n&&rf(n);)n=rf(n);return n||null}},cD=new M("",{providedIn:"root",factory:()=>I(Cn).handleError.bind(void 0)}),Gc=new M(""),uD=!1,lD=new M("",{providedIn:"root",factory:()=>uD});var lt={};function l8(t){dD(De(),$(),bn()+t,!1)}function dD(t,e,n,r){if(!r)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jc(e,s,0,n)}kr(n)}function ue(t,e=Q.Default){let n=$();if(n===null)return S(t,e);let r=rt();return dT(r,n,et(t),e)}function wO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)kr(~i);else{let s=i,o=n[++r],a=n[++r];hN(o,s);let c=e[s];a(2,c)}}}finally{kr(-1)}}function Gu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[gt]=i,d[F]=r|4|128|8|64,(u!==null||t&&t[F]&2048)&&(d[F]|=2048),qE(d),d[Ee]=d[ns]=t,d[Ge]=n,d[In]=o||t&&t[In],d[ce]=a||t&&t[ce],d[Qi]=c||t&&t[Qi]||null,d[mt]=s,d[Ru]=iP(),d[Ft]=l,d[FE]=u,d[ut]=e.type==2?t[ut]:d,d}function cs(t,e,n,r,i){let s=t.data[e];if(s===null)s=IO(t,e,n,r,i),dN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=uN();s.injectorIndex=o===null?-1:o.injectorIndex}return $r(s,!0),s}function IO(t,e,n,r,i){let s=KE(),o=Np(),a=o?s:s&&s.parent,c=t.data[e]=AO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function hD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fD(t,e,n,r,i){let s=bn(),o=r&2;try{kr(-1),o&&e.length>Te&&dD(t,e,Te,!1),Wt(o?2:0,i),n(r,i)}finally{kr(s),Wt(o?3:1,i)}}function og(t,e,n){if(Rp(e)){let r=Re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Re(r)}}}function ag(t,e,n){WE()&&(OO(t,e,n,yt(n,e)),(n.flags&64)===64&&yD(t,e,n))}function cg(t,e,n=yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function pD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ug(t,e,n,r,i,s,o,a,c,u,l){let d=Te+r,h=d+i,f=EO(d,h),g=typeof u=="function"?u():u;return f[V]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function EO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lt);return n}function TO(t,e,n,r){let s=r.get(lD,uD)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return DO(o),o}function DO(t){gD(t)}var gD=t=>null;function CO(t){bT(t)?UT(t):rO(t)}function bO(){gD=CO}function SO(t,e,n,r){let i=ID(e);i.push(n),t.firstCreatePass&&ED(t).push(r,i.length-1)}function AO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return is()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?ZI(n,e,i,s):r.hasOwnProperty(i)&&ZI(n,e,r[i],s)}return n}function ZI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function RO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=JI(d.inputs,l,c,f),u=JI(d.outputs,l,u,g);let y=c!==null&&o!==null&&!SE(e)?zO(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function xO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lg(t,e,n,r,i,s,o,a){let c=yt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(hg(t,n,l,r,i),So(e)&&MO(n,e.index)):e.type&3?(r=xO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function MO(t,e){let n=Xn(e,t);n[F]&16||(n[F]|=64)}function dg(t,e,n,r){if(WE()){let i=r===null?null:{"":-1},s=FO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&mD(t,e,n,o,i,a),i&&LO(n,r,i)}n.mergedAttrs=ho(n.mergedAttrs,n.attrs)}function mD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Tf(cu(n,e),t,r[u].type);UO(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=hD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ho(n.mergedAttrs,l.hostAttrs),jO(t,n,e,c,l),VO(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}RO(t,n,s)}function NO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;PO(o)!=a&&o.push(a),o.push(n,r,s)}}function PO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;So(n)&&BO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cu(n,e),Qn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Lr(e,t,a,n);if(Qn(u,e),o!==null&&qO(e,a-i,u,c,n,o),Kn(c)){let l=Xn(n.index,e);l[Ge]=Lr(e,t,a,n)}}}function yD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=fN();try{kr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];If(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&kO(c,u)}}finally{kr(-1),If(o)}}function kO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(AE(e,o.selectors,!1))if(r||(r=[]),Kn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Yf(t,e,c)}else r.unshift(o),Yf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Yf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function VO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function UO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Or(i.type,!0)),o=new Fr(s,Kn(i),ue);t.blueprint[r]=o,n[r]=o,NO(t,e,r,hD(t,n,i.hostVars,lt),i)}function BO(t,e,n){let r=yt(e,t),i=pD(n),s=t[In].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Wu(t,Gu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function $O(t,e,n,r,i,s){let o=yt(t,e);HO(e[ce],o,s,t.value,n,r,i)}function HO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ot(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function qO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];vD(r,n,c,u,l)}}function vD(t,e,n,r,i){let s=Re(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Re(s)}}function zO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function _D(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wD(t,e){let n=t.contentQueries;if(n!==null){let r=Re(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Op(s),a.contentQueries(2,e[o],o)}}}finally{Re(r)}}}function Wu(t,e){return t[po]?t[OI][kt]=e:t[po]=e,t[OI]=e,e}function Jf(t,e,n){Op(0);let r=Re(null);try{e(t,n)}finally{Re(r)}}function ID(t){return t[fo]||(t[fo]=[])}function ED(t){return t.cleanup||(t.cleanup=[])}function TD(t,e){let n=t[Qi],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function hg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];vD(u,c,r,a,i)}}function DD(t,e,n){let r=$E(e,t);cP(t[ce],r,n)}var GO=100;function WO(t,e=!0){let n=t[In],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{KO(t)}catch(o){throw e&&TD(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function KO(t){Zf(t,0);let e=0;for(;zE(t);){if(e===GO)throw new A(103,!1);e++,Zf(t,1)}}function QO(t,e,n,r){let i=e[F];if((i&256)===256)return;let s=!1;!s&&e[In].inlineEffectRunner?.flush(),kp(e);let o=null,a=null;!s&&YO(t)&&(a=gO(e),o=zh(a));try{qE(e),lN(t.bindingStartIndex),n!==null&&fD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Yc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Jc(e,d,0,null),Yh(e,0)}if(JO(e),CD(e,0),t.contentQueries!==null&&wD(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Yc(e,d)}else{let d=t.contentHooks;d!==null&&Jc(e,d,1),Yh(e,1)}wO(t,e);let u=t.components;u!==null&&SD(e,u,0);let l=t.viewQuery;if(l!==null&&Jf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Yc(e,d)}else{let d=t.viewHooks;d!==null&&Jc(e,d,2),Yh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qh]){for(let d of e[Qh])d();e[Qh]=null}s||(e[F]&=-73)}catch(c){throw mo(e),c}finally{a!==null&&(Gh(a,o),yO(a)),Fp()}}function YO(t){return t.type!==2}function CD(t,e){for(let n=AT(t);n!==null;n=RT(n)){n[F]&=~Ji.HasChildViewsToRefresh;for(let r=je;r<n.length;r++){let i=n[r];bD(i,e)}}}function JO(t){for(let e=AT(t);e!==null;e=RT(e)){if(!(e[F]&Ji.HasTransplantedViews))continue;let n=e[Yi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ee];eN(i)}}}function ZO(t,e,n){let r=Xn(e,t);bD(r,n)}function bD(t,e){Mp(t)&&Zf(t,e)}function Zf(t,e){let r=t[V],i=t[F],s=t[Pr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Wh(s)),s&&(s.dirty=!1),t[F]&=-9217,o)QO(r,t,r.template,t[Ge]);else if(i&8192){CD(t,1);let a=r.components;a!==null&&SD(t,a,1)}}function SD(t,e,n){for(let r=0;r<e.length;r++)ZO(t,e[r],n)}function fg(t){for(t[In].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=Kp(t);if(VE(t)&&!e)return t;t=e}return null}var Ur=class{get rootNodes(){let e=this._lView,n=e[V];return mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ee];if(Tt(e)){let n=e[iu],r=n?n.indexOf(this):-1;r>-1&&(vo(e,r),uu(n,r))}this._attachedToViewContainer=!1}Vu(this._lView[V],this._lView)}onDestroy(e){GE(this._lView,e)}markForCheck(){fg(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){wf(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,WO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,dP(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,wf(this._lView)}},us=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XO;let t=e;return t})();function XO(t){return ek(rt(),$(),(t&16)===16)}function ek(t,e,n){if(So(t)&&!n){let r=Xn(t.index,e);return new Ur(r,r)}else if(t.type&47){let r=e[ut];return new Ur(r,e)}return null}var tk=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xf=class extends tk{constructor(e){super(),this._lView=e}onDestroy(e){return GE(this._lView,e),()=>nN(this._lView,e)}};function nk(){return new Xf($())}var XI=new Set;function qr(t){XI.has(t)||(XI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ep=class extends Ce{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=sf(s),i&&(i=sf(i)),o&&(o=sf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ie&&e.add(a),a}};function sf(t){return e=>{setTimeout(t,void 0,e)}}var pt=ep;function eE(...t){}function rk(){let t=typeof wn.requestAnimationFrame=="function",e=wn[t?"requestAnimationFrame":"setTimeout"],n=wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var re=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=rk().nativeRequestAnimationFrame,ok(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ik,eE,eE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ik={};function pg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tp(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tp(t))}function ok(t){let e=()=>{sk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(ak(a))return n.invokeTask(i,s,o,a);try{return tE(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),nE(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return tE(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),nE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tp(t),pg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nE(t){t._nesting--,pg(t)}function ak(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ck=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function uk(t,e){let n=Xn(e,t),r=n[V];lk(r,n);let i=n[gt];i!==null&&n[Ft]===null&&(n[Ft]=tg(i,n[Qi])),gg(r,n,n[Ge])}function lk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gg(t,e,n){kp(e);try{let r=t.viewQuery;r!==null&&Jf(1,r,n);let i=t.template;i!==null&&fD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wD(t,e),t.staticViewQueries&&Jf(2,t.viewQuery,n);let s=t.components;s!==null&&dk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,Fp()}}function dk(t,e){for(let n=0;n<e.length;n++)uk(t,e[n])}function yu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=pf(i,a);else if(s==2){let c=a,u=e[++o];r=pf(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vu=class extends qu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new wo(n,this.ngModule)}};function rE(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function hk(t){let e=t.toLowerCase();return e==="svg"?KM:e==="math"?QM:null}var np=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Au(r);let i=this.injector.get(e,nf,r);return i!==nf||n===nf?i:this.parentInjector.get(e,n,r)}},wo=class extends pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new np(e,s):e,a=o.get(_o,null);if(a===null)throw new A(407,!1);let c=o.get(lO,null),u=o.get(ck,null),l=o.get(Vf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?TO(h,r,this.componentDef.encapsulation,o):Qp(h,f,hk(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let m=null;g!==null&&(m=tg(g,o,!0));let _=ug(0,null,null,1,0,null,null,null,null,null,null),C=Gu(null,_,null,y,null,null,d,h,o,null,m);kp(C);let Z,H;try{let de=this.componentDef,ne,Xe=null;de.findHostDirectiveDefs?(ne=[],Xe=new Map,de.findHostDirectiveDefs(de,ne,Xe),ne.push(de)):ne=[de];let Un=fk(C,g),Tr=pk(Un,g,de,ne,C,d,h);H=xp(_,Te),g&&yk(h,de,g,r),n!==void 0&&vk(H,this.ngContentSelectors,n),Z=mk(Tr,de,ne,Xe,C,[_k]),gg(_,C,null)}finally{Fp()}return new rp(this.componentType,Z,os(H,C),C,H)}},rp=class extends Bf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ur(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;hg(s[V],s,i,e,n),this.previousInputValues.set(e,n);let o=Xn(this._tNode.index,s);fg(o)}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fk(t,e){let n=t[V],r=Te;return t[r]=e,cs(n,r,2,"#host",null)}function pk(t,e,n,r,i,s,o){let a=i[V];gk(r,t,e,o);let c=null;e!==null&&(c=tg(e,i[Qi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Gu(i,pD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Yf(a,t,r.length-1),Wu(i,d),i[t.index]=d}function gk(t,e,n,r){for(let i of t)e.mergedAttrs=ho(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yu(e,e.mergedAttrs,!0),n!==null&&$T(r,n,e))}function mk(t,e,n,r,i,s){let o=rt(),a=i[V],c=yt(o,i);mD(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Lr(i,a,d,o);Qn(h,i)}yD(a,i,o),c&&Qn(c,i);let u=Lr(i,a,o.directiveStart+o.componentOffset,o);if(t[Ge]=i[Ge]=u,s!==null)for(let l of s)l(u,e);return og(a,o,t),u}function yk(t,e,n,r){if(r)vf(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=BM(e.selectors[0]);i&&vf(t,n,i),s&&s.length>0&&BT(t,n,s.join(" "))}}function vk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function _k(){let t=rt();ku($()[V],t)}function wk(t){return Object.getPrototypeOf(t.prototype).constructor}function Ik(t){let e=wk(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wc(t.inputs),o.inputTransforms=Wc(t.inputTransforms),o.declaredInputs=Wc(t.declaredInputs),o.outputs=Wc(t.outputs);let a=i.hostBindings;a&&Ck(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Tk(t,c),u&&Dk(t,u),jc(t.inputs,i.inputs),jc(t.declaredInputs,i.declaredInputs),jc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),jc(o.inputTransforms,i.inputTransforms)),Kn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ik&&(n=!1)}}e=Object.getPrototypeOf(e)}Ek(r)}function Ek(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ho(i.hostAttrs,n=ho(n,i.hostAttrs))}}function Wc(t){return t===Ki?{}:t===tt?[]:t}function Tk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Dk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Ck(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function yg(t,e,n){return t[e]=n}function bk(t,e){return t[e]}function Dt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _u(t,e,n,r){let i=Dt(t,e,n);return Dt(t,e+1,r)||i}function Sk(t,e,n,r,i){let s=_u(t,e,n,r);return Dt(t,e+2,i)||s}function Ak(t,e,n,r,i,s){let o=_u(t,e,n,r);return _u(t,e+2,i,s)||o}function vg(t,e,n,r){let i=$(),s=ss();if(Dt(i,s,e)){let o=De(),a=Pu();$O(a,i,t,e,n,r)}return vg}function _g(t,e,n,r){return Dt(t,ss(),n)?e+Ot(n)+r:lt}function Rk(t,e,n,r,i,s){let o=QE(),a=_u(t,o,n,i);return Nu(2),a?e+Ot(n)+r+Ot(i)+s:lt}function xk(t,e,n,r,i,s,o,a,c,u){let l=QE(),d=Ak(t,l,n,i,o,c);return Nu(4),d?e+Ot(n)+r+Ot(i)+s+Ot(o)+a+Ot(c)+u:lt}function Kc(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function Mk(t){return(t&2)==2}function Nk(t,e){return t&131071|e<<17}function ip(t){return t|2}function es(t){return(t&131068)>>2}function of(t,e){return t&-131069|e<<2}function Pk(t){return(t&1)===1}function sp(t){return t|1}function Ok(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=jr(o),c=es(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ro(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=jr(t[a+1]);t[r+1]=Kc(h,a),h!==0&&(t[h+1]=of(t[h+1],r)),t[a+1]=Nk(t[a+1],r)}else t[r+1]=Kc(a,0),a!==0&&(t[a+1]=of(t[a+1],r)),a=r;else t[r+1]=Kc(c,0),a===0?a=r:t[c+1]=of(t[c+1],r),c=r;u&&(t[r+1]=ip(t[r+1])),iE(t,l,r,!0,s),iE(t,l,r,!1,s),kk(e,l,t,r,s),o=Kc(a,c),s?e.classBindings=o:e.styleBindings=o}function kk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ro(s,e)>=0&&(n[r+1]=sp(n[r+1]))}function iE(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?jr(s):es(s),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],l=t[a+1];Fk(u,e)&&(c=!0,t[a+1]=r?sp(l):ip(l)),a=r?jr(l):es(l)}c&&(t[n+1]=r?ip(s):sp(s))}function Fk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ro(t,e)>=0:!1}var xe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AD(t){return t.substring(xe.key,xe.keyEnd)}function Lk(t){return t.substring(xe.value,xe.valueEnd)}function Vk(t){return MD(t),RD(t,ts(t,0,xe.textEnd))}function RD(t,e){let n=xe.textEnd;return n===e?-1:(e=xe.keyEnd=jk(t,xe.key=e,n),ts(t,e,n))}function Uk(t){return MD(t),xD(t,ts(t,0,xe.textEnd))}function xD(t,e){let n=xe.textEnd,r=xe.key=ts(t,e,n);return n===r?-1:(r=xe.keyEnd=Bk(t,r,n),r=sE(t,r,n,58),r=xe.value=ts(t,r,n),r=xe.valueEnd=$k(t,r,n),sE(t,r,n,59))}function MD(t){xe.key=0,xe.keyEnd=0,xe.value=0,xe.valueEnd=0,xe.textEnd=t.length}function ts(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function jk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Bk(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function sE(t,e,n,r){return e=ts(t,e,n),e<n&&e++,e}function $k(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=oE(t,c,o,n):e===o-4&&s===85&&i===82&&r===76&&c===40?a=o=oE(t,41,o,n):c>32&&(a=o),s=i,i=r,r=c&-33}return a}function oE(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function Hk(t,e,n){let r=$(),i=ss();if(Dt(r,i,e)){let s=De(),o=Pu();lg(s,o,r,t,e,r[ce],n,!1)}return Hk}function op(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";hg(t,n,s[o],o,r)}function qk(t,e){return Wk(t,e,null,!0),qk}function zk(t){wg(kD,Gk,t,!1)}function Gk(t,e){for(let n=Uk(e);n>=0;n=xD(e,n))kD(t,AD(e),Lk(e))}function d8(t){wg(Xk,ND,t,!0)}function ND(t,e){for(let n=Vk(e);n>=0;n=RD(e,n))Ao(t,AD(e),!0)}function Wk(t,e,n,r){let i=$(),s=De(),o=Nu(2);if(s.firstUpdatePass&&OD(s,t,o,r),e!==lt&&Dt(i,o,e)){let a=s.data[bn()];FD(s,a,i,i[ce],t,i[o+1]=t1(e,n),r,o)}}function wg(t,e,n,r){let i=De(),s=Nu(2);i.firstUpdatePass&&OD(i,null,s,r);let o=$();if(n!==lt&&Dt(o,s,n)){let a=i.data[bn()];if(LD(a,r)&&!PD(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=pf(c,n||"")),op(i,a,o,n,r)}else e1(i,a,o,o[ce],o[s+1],o[s+1]=Zk(t,e,n),r,s)}}function PD(t,e){return e>=t.expandoStartIndex}function OD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[bn()],o=PD(t,n);LD(s,r)&&e===null&&!o&&(e=!1),e=Kk(i,s,e,r),Ok(i,s,e,n,o,r)}}function Kk(t,e,n,r){let i=pN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=af(null,t,e,n,r),n=Io(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=af(i,t,e,n,r),s===null){let c=Qk(t,e,r);c!==void 0&&Array.isArray(c)&&(c=af(null,t,e,c[1],r),c=Io(c,e.attrs,r),Yk(t,e,r,c))}else s=Jk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Qk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(es(r)!==0)return t[jr(r)]}function Yk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jr(i)]=r}function Jk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Io(r,o,n)}return Io(r,e.attrs,n)}function af(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Io(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Io(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ao(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Zk(t,e,n){if(n==null||n==="")return tt;let r=[],i=vt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function kD(t,e,n){Ao(t,e,vt(n))}function Xk(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ao(t,r,n)}function e1(t,e,n,r,i,s,o,a){i===lt&&(i=tt);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,y;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),g!==null&&FD(t,e,n,r,g,y,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function FD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=Pk(u)?aE(c,e,n,i,es(u),o):void 0;if(!wu(l)){wu(s)||Mk(u)&&(s=aE(c,null,n,i,a,o));let d=$E(bn(),n);DP(r,o,d,i,s)}}function aE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===lt&&(h=d?tt:void 0);let f=d?Zh(h,r):l===r?h:void 0;if(u&&!wu(f)&&(f=Zh(c,r)),wu(f)&&(a=f,o))return a;let g=t[i+1];i=o?jr(g):es(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Zh(c,r))}return a}function wu(t){return t!==void 0}function t1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ze(vt(t)))),t}function LD(t,e){return(t.flags&(e?8:16))!==0}function h8(t,e,n,r,i,s,o,a,c){let u=$(),l=xk(u,t,e,n,r,i,s,o,a,c);wg(Ao,ND,l,!0)}function VD(t){let e=t[go]??[],r=t[Ee][ce];for(let i of e)n1(i,r);t[go]=tt}function n1(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[fu];for(;n<i;){let s=r.nextSibling;VT(e,r,!1),r=s,n++}}}function UD(t){VD(t);for(let e=je;e<t.length;e++)Iu(t[e])}function Iu(t){let e=t[V];for(let n=Te;n<e.bindingStartIndex;n++)if(Tt(t[n])){let r=t[n];UD(r)}else Yt(t[n])&&Iu(t[n])}function r1(t){let e=t._views;for(let n of e){let r=tO(n);if(r!==null&&r[gt]!==null)if(Yt(r))Iu(r);else{let i=r[gt];Iu(i),UD(r)}}}var i1=new RegExp(`^(\\d+)*(${tD}|${eD})*(.*)`);function s1(t){let e=t.match(i1),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function o1(t){return!t.prev&&t.parent?.type===8}function cf(t){return t.index-Te}function Ku(t,e,n,r){let i=null,s=cf(r),o=t.data[QP];if(o?.[s])i=c1(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(o1(r)){let u=cf(r.parent);i=jf(t,u)}else{let u=yt(c,n);if(a)i=u.firstChild;else{let l=cf(c),d=jf(t,l);if(c.type===2&&d){let f=ng(t,l)+1;i=Qu(f,d)}else i=u.nextSibling}}}return i}function Qu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function a1(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Uf.FirstChild:n=n.firstChild;break;case Uf.NextSibling:n=n.nextSibling;break}}return n}function c1(t,e){let[n,...r]=s1(t),i;if(n===eD)i=e[ut][gt];else if(n===tD)i=QN(e[ut][gt]);else{let s=Number(n);i=Lt(e[s+Te])}return a1(i,r)}function u1(t,e){let n=[];for(let r of e)for(let i=0;i<(r[nD]??1);i++){let s={data:r,firstChild:null};r[fu]>0&&(s.firstChild=t,t=Qu(r[fu],t)),n.push(s)}return[t,n]}var jD=(t,e)=>null;function l1(t,e){let n=t[go];return!e||n===null||n.length===0?null:n[0].data[KP]===e?n.shift():(VD(t),null)}function d1(){jD=l1}function Eo(t,e){return jD(t,e)}var ap=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function uf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function h1(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=uf(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=uf(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),m=n(s,u);if(Object.is(m,y)){let _=n(a,h);Object.is(_,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Eu,i??=uE(t,s,o,n),cp(t,r,s,m))t.updateValue(s,u),s++,o++;else if(i.has(m))r.set(g,t.detach(s)),o--;else{let _=t.create(s,e[s]);t.attach(s,_),s++,o++}}for(;s<=a;)cE(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=uf(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Eu,i??=uE(t,s,o,n);let h=n(s,l);if(cp(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)cE(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function cp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function cE(t,e,n,r,i){if(cp(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function uE(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Eu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Yu(t,e,n,r){let i=e.tView,o=t[F]&4096?4096:16,a=Gu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[bo]=c;let u=t[Qt];return u!==null&&(a[Qt]=u.createEmbeddedView(i)),gg(i,a,n),a}function BD(t,e){let n=je+e;if(n<t.length)return t[n]}function To(t,e){return!e||e.firstChild===null||du(t)}function Ju(t,e,n,r=!0){let i=e[V];if(fP(i,e,t,n),r){let o=Rf(n,t),a=e[ce],c=Yp(a,t[En]);c!==null&&lP(i,t[mt],a,e,c,o)}let s=e[Ft];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function $D(t,e){let n=vo(t,e);return n!==void 0&&Vu(n[V],n),n}var nr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=f1;let t=e;return t})();function f1(){let t=rt();return qD(t,$())}var p1=nr,HD=class extends p1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lp(this._hostTNode,this._hostLView);if(sT(e)){let n=ou(e,this._hostLView),r=su(e),i=n[V].data[r+8];return new Mr(i,n)}else return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Eo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,To(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!NN(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new wo(Nr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(nt,null);y&&(s=y)}let l=Nr(c.componentType??{}),d=Eo(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,To(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(XM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ee],u=new HD(c,c[mt],c[Ee]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ju(o,i,s,r),e.attachToViewContainerRef(),pT(lf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vo(this._lContainer,n);r&&(uu(lf(this._lContainer),n),Vu(r[V],r))}detach(e){let n=this._adjustIndex(e,-1),r=vo(this._lContainer,n);return r&&uu(lf(this._lContainer),n)!=null?new Ur(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lE(t){return t[iu]}function lf(t){return t[iu]||(t[iu]=[])}function qD(t,e){let n,r=e[t.index];return Tt(r)?n=r:(n=_D(r,e,null,t),e[t.index]=n,Wu(e,n)),zD(n,e,t,r),new HD(n,t,e)}function g1(t,e){let n=t[ce],r=n.createComment(""),i=yt(e,t),s=Yp(n,i);return hu(n,s,r,_P(n,i),!1),r}var zD=GD,Ig=(t,e,n)=>!1;function m1(t,e,n){return Ig(t,e,n)}function GD(t,e,n,r){if(t[En])return;let i;n.type&8?i=Lt(r):i=g1(e,n),t[En]=i}function y1(t,e,n){if(t[En]&&t[go])return!0;let r=n[Ft],i=e.index-Te;if(!r||ZN(e)||Hu(r,i))return!1;let o=jf(r,i),a=r.data[eg]?.[i],[c,u]=u1(o,a);return t[En]=c,t[go]=u,!0}function v1(t,e,n,r){Ig(t,n,e)||GD(t,e,n,r)}function _1(){zD=v1,Ig=y1}function w1(t,e,n,r,i,s,o,a,c){let u=e.consts,l=cs(e,t,4,o||null,Zi(u,a));dg(e,n,l,Zi(u,c)),ku(e,l);let d=l.tView=ug(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function up(t,e,n,r,i,s,o,a){let c=$(),u=De(),l=t+Te,d=u.firstCreatePass?w1(l,u,c,e,n,r,i,s,o):u.data[l];$r(d,!1);let h=WD(u,c,d,t);Ou()&&Uu(u,c,h,d),Qn(h,c);let f=_D(h,c,h,d);return c[l]=f,Wu(c,f),m1(f,d,c),xu(d)&&ag(u,c,d),o!=null&&cg(c,d,a),up}var WD=KD;function KD(t,e,n,r){return er(!0),e[ce].createComment("")}function I1(t,e,n,r){let i=e[Ft],s=!i||is()||Hu(i,r);if(er(s),s)return KD(t,e,n,r);let o=i.data[WP]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Ku(i,t,e,n);$u(i,r,a);let c=ng(i,r);return Qu(c,a)}function E1(){WD=I1}function p8(t,e,n){qr("NgControlFlow");let r=$(),i=ss(),s=fp(r,Te+t),o=0;if(Dt(r,i,e)){let a=Re(null);try{if($D(s,o),e!==-1){let c=pp(r[V],Te+e),u=Eo(s,c.tView.ssrId),l=Yu(r,c,n,{dehydratedView:u});Ju(s,l,o,To(c,u))}}finally{Re(a)}}else{let a=BD(s,o);a!==void 0&&(a[Ge]=n)}}var lp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-je}};function g8(t,e){return e}var dp=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function m8(t,e,n,r,i,s,o,a,c,u,l){qr("NgControlFlow");let d=c!==void 0,h=$(),f=a?o.bind(h[ut][Ge]):o,g=new dp(d,f);h[Te+t]=g,up(t+1,e,n,r,i,s),d&&up(t+2,c,u,l)}var hp=class extends ap{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[Ge].$implicit}attach(e,n){let r=n[Ft];this.needsIndexUpdate||=e!==this.length,Ju(this.lContainer,n,e,To(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,T1(this.lContainer,e)}create(e,n){let r=Eo(this.lContainer,this.templateTNode.tView.ssrId);return Yu(this.hostLView,this.templateTNode,new lp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Vu(e[V],e)}updateValue(e,n){this.getLView(e)[Ge].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ge].$index=e}getLView(e){return D1(this.lContainer,e)}};function y8(t){let e=Re(null),n=bn();try{let r=$(),i=r[V],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=fp(r,a),u=pp(i,a);s.liveCollection=new hp(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(h1(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=ss(),c=o.length===0;if(Dt(r,a,c)){let u=n+2,l=fp(r,u);if(c){let d=pp(i,u),h=Eo(l,d.tView.ssrId),f=Yu(r,d,void 0,{dehydratedView:h});Ju(l,f,0,To(d,h))}else $D(l,0)}}}finally{Re(e)}}function fp(t,e){return t[e]}function T1(t,e){return vo(t,e)}function D1(t,e){return BD(t,e)}function pp(t,e){return xp(t,e)}function C1(t,e,n,r,i,s){let o=e.consts,a=Zi(o,i),c=cs(e,t,2,r,a);return dg(e,n,c,Zi(o,s)),c.attrs!==null&&yu(c,c.attrs,!1),c.mergedAttrs!==null&&yu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function QD(t,e,n,r){let i=$(),s=De(),o=Te+t,a=i[ce],c=s.firstCreatePass?C1(o,s,i,e,n,r):s.data[o],u=JD(s,i,c,a,e,t);i[o]=u;let l=xu(c);return $r(c,!0),$T(a,u,c),(c.flags&32)!==32&&Ou()&&Uu(s,i,u,c),rN()===0&&Qn(u,i),iN(),l&&(ag(s,i,c),og(s,c,i)),r!==null&&cg(i,c),QD}function YD(){let t=rt();Np()?Pp():(t=t.parent,$r(t,!1));let e=t;oN(e)&&cN(),sN();let n=De();return n.firstCreatePass&&(ku(n,t),Rp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wN(e)&&op(n,e,$(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IN(e)&&op(n,e,$(),e.stylesWithoutHost,!1),YD}function Eg(t,e,n,r){return QD(t,e,n,r),YD(),Eg}var JD=(t,e,n,r,i,s)=>(er(!0),Qp(r,i,nT()));function b1(t,e,n,r,i,s){let o=e[Ft],a=!o||is()||Hu(o,s);if(er(a),a)return Qp(r,i,nT());let c=Ku(o,t,e,n);return sD(o,s)&&$u(o,s,c.nextSibling),o&&(CT(n)||bT(c))&&So(n)&&(aN(n),UT(c)),c}function S1(){JD=b1}function A1(t,e,n,r,i){let s=e.consts,o=Zi(s,r),a=cs(e,t,8,"ng-container",o);o!==null&&yu(a,o,!0);let c=Zi(s,i);return dg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ZD(t,e,n){let r=$(),i=De(),s=t+Te,o=i.firstCreatePass?A1(s,i,r,e,n):i.data[s];$r(o,!0);let a=eC(i,r,o,t);return r[s]=a,Ou()&&Uu(i,r,a,o),Qn(a,r),xu(o)&&(ag(i,r,o),og(i,o,r)),n!=null&&cg(r,o),ZD}function XD(){let t=rt(),e=De();return Np()?Pp():(t=t.parent,$r(t,!1)),e.firstCreatePass&&(ku(e,t),Rp(t)&&e.queries.elementEnd(t)),XD}function R1(t,e,n){return ZD(t,e,n),XD(),R1}var eC=(t,e,n,r)=>(er(!0),NT(e[ce],""));function x1(t,e,n,r){let i,s=e[Ft],o=!s||is();if(er(o),o)return NT(e[ce],"");let a=Ku(s,t,e,n),c=iO(s,r);return $u(s,r,a),i=Qu(c,a),i}function M1(){eC=x1}function v8(){return $()}function N1(t,e,n){let r=$(),i=ss();if(Dt(r,i,e)){let s=De(),o=Pu();lg(s,o,r,t,e,r[ce],n,!0)}return N1}var Tu="en-US";var P1=Tu;function O1(t){yM(t,"Expected localeId to be defined"),typeof t=="string"&&(P1=t.toLowerCase().replace(/_/g,"-"))}function ls(t){return!!t&&typeof t.then=="function"}function Tg(t){return!!t&&typeof t.subscribe=="function"}function Dg(t,e,n,r){let i=$(),s=De(),o=rt();return F1(s,i,i[ce],o,t,e,r),Dg}function k1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[fo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function F1(t,e,n,r,i,s,o){let a=xu(r),u=t.firstCreatePass&&ED(t),l=e[Ge],d=ID(e),h=!0;if(r.type&3||o){let y=yt(r,e),m=o?o(y):y,_=d.length,C=o?H=>o(Lt(H[r.index])):r.index,Z=null;if(!o&&a&&(Z=k1(t,e,i,r.index)),Z!==null){let H=Z.__ngLastListenerFn__||Z;H.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=hE(r,e,l,s,!1);let H=n.listen(m,i,s);d.push(s,H),u&&u.push(i,C,_,_+1)}}else s=hE(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let m=0;m<y;m+=2){let _=g[m],C=g[m+1],de=e[_][C].subscribe(s),ne=d.length;d.push(s,de),u&&u.push(i,r.index,ne,-(ne+1))}}}function dE(t,e,n,r){try{return Wt(6,e,n),n(r)!==!1}catch(i){return TD(t,i),!1}finally{Wt(7,e,n)}}function hE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Xn(t.index,e):e;fg(a);let c=dE(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=dE(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function _8(t=1){return mN(t)}function L1(t,e){let n=null,r=kM(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?AE(t,s,!0):VM(r,s))return i}return n}function w8(t){let e=$()[ut][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=gT(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?L1(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function I8(t,e=0,n){let r=$(),i=De(),s=cs(i,Te+t,16,null,n||null);s.projection===null&&(s.projection=e),Pp(),(!r[Ft]||is())&&(s.flags&32)!==32&&EP(i,r,s)}function V1(t,e,n){return tC(t,"",e,"",n),V1}function tC(t,e,n,r,i){let s=$(),o=_g(s,e,n,r);if(o!==lt){let a=De(),c=Pu();lg(a,c,s,t,o,s[ce],i,!1)}return tC}function U1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function E8(t,e,n){let r=$(),i=_g(r,t,e,n);zk(i)}function T8(t,e=""){let n=$(),r=De(),i=t+Te,s=r.firstCreatePass?cs(r,i,1,e,null):r.data[i],o=nC(r,n,s,e,t);n[i]=o,Ou()&&Uu(r,n,o,s),$r(s,!1)}var nC=(t,e,n,r,i)=>(er(!0),MT(e[ce],r));function j1(t,e,n,r,i){let s=e[Ft],o=!s||is()||Hu(s,i);return er(o),o?MT(e[ce],r):Ku(s,t,e,n)}function B1(){nC=j1}function $1(t){return rC("",t,""),$1}function rC(t,e,n){let r=$(),i=_g(r,t,e,n);return i!==lt&&DD(r,bn(),i),rC}function H1(t,e,n,r,i){let s=$(),o=Rk(s,t,e,n,r,i);return o!==lt&&DD(s,bn(),o),H1}function q1(t,e,n){let r=De();if(r.firstCreatePass){let i=Kn(t);gp(n,r.data,r.blueprint,i,!0),gp(e,r.data,r.blueprint,i,!1)}}function gp(t,e,n,r,i){if(t=et(t),Array.isArray(t))for(let s=0;s<t.length;s++)gp(t[s],e,n,r,i);else{let s=De(),o=$(),a=rt(),c=Xi(t)?t:et(t.provide),u=IT(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Xi(t)||!t.multi){let f=new Fr(u,i,ue),g=hf(c,e,i?l:l+h,d);g===-1?(Tf(cu(a,o),s,c),df(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=hf(c,e,l+h,d),g=hf(c,e,l,l+h),y=f>=0&&n[f],m=g>=0&&n[g];if(i&&!m||!i&&!y){Tf(cu(a,o),s,c);let _=W1(i?G1:z1,n.length,i,r,u);!i&&m&&(n[g].providerFactory=_),df(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else{let _=iC(n[i?g:f],u,!i&&r);df(s,t,f>-1?f:g,_)}!i&&r&&m&&n[g].componentProviders++}}}function df(t,e,n,r){let i=Xi(e),s=BN(e);if(i||s){let c=(s?et(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function iC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function z1(t,e,n,r){return mp(this.multi,[])}function G1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Lr(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),mp(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],mp(i,s);return s}function mp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function W1(t,e,n,r,i){let s=new Fr(t,n,ue);return s.multi=[],s.index=e,s.componentProviders=0,iC(s,i,r&&!n),s}function D8(t,e=[]){return n=>{n.providersResolver=(r,i)=>q1(r,i?i(t):t,e)}}var Yn=class{},Do=class{};var yp=class extends Yn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vu(this);let i=PE(e);this._bootstrapComponents=DT(i.bootstrap),this._r3Injector=ET(e,n,[{provide:Yn,useValue:this},{provide:qu,useValue:this.componentFactoryResolver},...r],ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vp=class extends Do{constructor(e){super(),this.moduleType=e}create(e){return new yp(this.moduleType,e,[])}};var Du=class extends Yn{constructor(e){super(),this.componentFactoryResolver=new vu(this),this.instance=null;let n=new yo([...e.providers,{provide:Yn,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],e.parent||qp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zu(t,e,n=null){return new Du({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var K1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=vT(!1,r.type),s=i.length>0?Zu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(S(nt))});let t=e;return t})();function sC(t){qr("NgStandalone"),t.getStandaloneInjector=e=>e.get(K1).getOrCreateStandaloneInjector(t)}function C8(t,e,n){let r=Mu()+t,i=$();return i[r]===lt?yg(i,r,n?e.call(n):e()):bk(i,r)}function b8(t,e,n,r){return aC($(),Mu(),t,e,n,r)}function oC(t,e){let n=t[e];return n===lt?void 0:n}function aC(t,e,n,r,i,s){let o=e+n;return Dt(t,o,i)?yg(t,o+1,s?r.call(s,i):r(i)):oC(t,o+1)}function Q1(t,e,n,r,i,s,o,a){let c=e+n;return Sk(t,c,i,s,o)?yg(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):oC(t,c+3)}function S8(t,e){let n=De(),r,i=t+Te;n.firstCreatePass?(r=Y1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Or(r.type,!0)),o,a=ct(ue);try{let c=au(!1),u=s();return au(c),U1(n,$(),i,u),u}finally{ct(a)}}function Y1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function A8(t,e,n){let r=t+Te,i=$(),s=HE(i,r);return cC(i,r)?aC(i,Mu(),e,s.transform,n,s):s.transform(n)}function R8(t,e,n,r,i){let s=t+Te,o=$(),a=HE(o,s);return cC(o,s)?Q1(o,Mu(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function cC(t,e){return t[V].data[e].pure}function J1(){return this._results[Symbol.iterator]()}var _p=class t{get changes(){return this._changes??=new pt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=J1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ON(e);(this._changesDetected=!PN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Br=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eF;let t=e;return t})(),Z1=Br,X1=class extends Z1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Yu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Ur(i)}};function eF(){return Cg(rt(),$())}function Cg(t,e){return t.type&4?new X1(e,t,os(t,e)):null}var wp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ip=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)gC(e,n).matches!==null&&this.queries[n].setDirty()}},Cu=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Ep=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Tp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,tF(n,s)),this.matchTNodeWithReadOption(e,n,Zc(n,e,s,!1,!1))}else r===Br?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Zt||i===nr||i===Br&&n.type&4)this.addMatch(n.index,-2);else{let s=Zc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function tF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function nF(t,e){return t.type&11?os(t,e):t.type&4?Cg(t,e):null}function rF(t,e,n,r){return n===-1?nF(e,t):n===-2?iF(t,e,r):Lr(t,t[V],n,e)}function iF(t,e,n){if(n===Zt)return os(e,t);if(n===Br)return Cg(e,t);if(n===nr)return qD(e,t)}function uC(t,e,n,r){let i=e[Qt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(rF(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Dp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=uC(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=je;d<l.length;d++){let h=l[d];h[bo]===h[Ee]&&Dp(h[V],h,u,r)}if(l[Yi]!==null){let d=l[Yi];for(let h=0;h<d.length;h++){let f=d[h];Dp(f[V],f,u,r)}}}}}return r}function lC(t){let e=$(),n=De(),r=YE();Op(r+1);let i=gC(n,r);if(t.dirty&&ZM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Dp(n,e,r,[]):uC(n,e,i,r);t.reset(s,cO),t.notifyOnChanges()}return!0}return!1}function M8(t,e,n){let r=De();r.firstCreatePass&&(pC(r,new Cu(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),fC(r,$(),e)}function dC(t,e,n,r){let i=De();if(i.firstCreatePass){let s=rt();pC(i,new Cu(e,n,r),s.index),oF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}fC(i,$(),n)}function hC(){return sF($(),YE())}function sF(t,e){return t[Qt].queries[e].queryList}function fC(t,e,n){let r=new _p((n&4)===4);SO(t,e,r,r.destroy),e[Qt]===null&&(e[Qt]=new Ip),e[Qt].queries.push(new wp(r))}function pC(t,e,n){t.queries===null&&(t.queries=new Ep),t.queries.track(new Tp(e,n))}function oF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function gC(t,e){return t.queries.getByIndex(e)}var Jn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},mC=new Jn("17.0.8");var Xu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Cp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},el=(()=>{let e=class e{compileModuleSync(r){return new vp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=PE(r),o=DT(s.declarations).reduce((a,c)=>{let u=Nr(c);return u&&a.push(new wo(u)),a},[]);return new Cp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yC=new M("");var vC=new M("Application Initializer"),_C=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(vC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ls(o))r.push(o);else if(Tg(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ds=new M("appBootstrapListener");function aF(){EI(()=>{throw new A(600,!1)})}function cF(t){return t.isBoundToModule}function uF(t,e,n){try{let r=n();return ls(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(cD),this.componentTypes=[],this.components=[],this.isStable=I(zr).hasPendingTasks.pipe(B(r=>!r)),this._injector=I(nt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof pu;if(!this._injector.get(_C).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&NE(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new A(405,!1)}let a;s?a=r:a=this._injector.get(qu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=cF(a)?void 0:this._injector.get(Yn),u=i||a.selector,l=a.create(it.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(yC,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ff(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ff(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ds,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ff(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ff(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Qc;function bg(t){Qc??=new WeakMap;let e=Qc.get(t);if(e)return e;let n=t.isStable.pipe(Nt(r=>r)).toPromise().then(()=>{});return Qc.set(t,n),t.onDestroy(()=>Qc?.delete(t)),n}var lF=(()=>{let e=class e{constructor(){this.zone=I(re),this.applicationRef=I(rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dF(t){return[{provide:re,useFactory:t},{provide:Vr,multi:!0,useFactory:()=>{let e=I(lF,{optional:!0});return()=>e.initialize()}},{provide:Vr,multi:!0,useFactory:()=>{let e=I(gF);return()=>{e.initialize()}}},{provide:cD,useFactory:hF}]}function hF(){let t=I(re),e=I(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function fF(t){let e=dF(()=>new re(pF(t)));return tr([[],e])}function pF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gF=(()=>{let e=class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=I(re),this.pendingTasks=I(zr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mF(){return typeof $localize<"u"&&$localize.locale||Tu}var Sg=new M("LocaleId",{providedIn:"root",factory:()=>I(Sg,Q.Optional|Q.SkipSelf)||mF()});var wC=new M("PlatformDestroyListeners");var tu=null;function yF(t=[],e){return it.create({name:e,providers:[{provide:Fu,useValue:"platform"},{provide:wC,useValue:new Set([()=>tu=null])},...t]})}function vF(t=[]){if(tu)return tu;let e=yF(t);return tu=e,aF(),_F(e),e}function _F(t){t.get(zp,null)?.forEach(n=>n())}function N8(){return!1}function IC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vF(r),s=[fF(),...n||[]],a=new Du({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(re);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Cn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(wC);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),uF(u,c,()=>{let f=a.get(_C);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Sg,Tu);O1(g||Tu);let y=a.get(rr);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var fE=!1;function wF(){fE||(fE=!0,eO(),S1(),B1(),M1(),E1(),_1(),d1(),bO())}function IF(t,e){return bg(t)}function EC(){return tr([{provide:Gc,useFactory:()=>{let t=!0;return $c()&&(t=!!I(Hr,{optional:!0})?.get(rD,null)),t&&qr("NgHydration"),t}},{provide:Vr,useValue:()=>{$c()&&I(Gc)&&(EF(),wF())},multi:!0},{provide:lD,useFactory:()=>$c()&&I(Gc)},{provide:ds,useFactory:()=>{if($c()&&I(Gc)){let t=I(rr),e=I(it);return()=>{IF(t,e).then(()=>{re.assertInAngularZone(),r1(t)})}}return()=>{}},multi:!0}])}function EF(){let t=xo(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===ZP){e=n;break}if(!e)throw new A(-507,!1)}function Po(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Rg=null;function hs(){return Rg}function AC(t){Rg||(Rg=t)}var tl=class{},Be=new M("DocumentToken"),RC=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(TF))(),providedIn:"platform"});let t=e;return t})();var TF=(()=>{let e=class e extends RC{constructor(){super(),this._doc=I(Be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hs().getBaseHref(this._doc)}onPopState(r){let i=hs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=hs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function xC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gr(t){return t&&t[0]!=="?"?"?"+t:t}var ps=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(MC))(),providedIn:"root"});let t=e;return t})(),DF=new M("appBaseHref"),MC=(()=>{let e=class e extends ps{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Gr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Gr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Gr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(RC),S(DF,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oo=(()=>{let e=class e{constructor(r){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=SF(TC(DC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Gr(i))}normalize(r){return e.stripTrailingSlash(bF(this._basePath,DC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Gr,e.joinWithSlash=xC,e.stripTrailingSlash=TC,e.\u0275fac=function(i){return new(i||e)(S(ps))},e.\u0275prov=R({token:e,factory:()=>CF(),providedIn:"root"});let t=e;return t})();function CF(){return new Oo(S(ps))}function bF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function DC(t){return t.replace(/\/index.html$/,"")}function SF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function nl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ag=/\s+/,CC=[],tK=(()=>{let e=class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=CC,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Ag):CC}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Ag):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Ag).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(ue(zu),ue(sg),ue(Zt),ue(as))},e.\u0275dir=Zn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var xg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nK=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new xg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),bC(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);bC(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ue(nr),ue(Br),ue(zu))},e.\u0275dir=Zn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function bC(t,e){t.context.$implicit=e.item}var rK=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Mg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){SC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){SC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ue(nr),ue(Br))},e.\u0275dir=Zn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Mg=class{constructor(){this.$implicit=null,this.ngIf=null}};function SC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ze(e)}'.`)}function AF(t,e){return new A(2100,!1)}var Ng=class{createSubscription(e,n){return rg(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){rg(()=>e.unsubscribe())}},Pg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},RF=new Pg,xF=new Ng,iK=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ls(r))return RF;if(Tg(r))return xF;throw AF(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(ue(us,16))},e.\u0275pipe=Ap({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var sK=(()=>{let e=class e{transform(r){return JSON.stringify(r,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ap({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();var MF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=bt({type:e}),e.\u0275inj=Ct({});let t=e;return t})(),Og="browser",NF="server";function oK(t){return t===Og}function kg(t){return t===NF}var fs=class{};var Fo=class{},sl=class{},sr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Lg=class{encodeKey(e){return PC(e)}encodeValue(e){return PC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function OF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var kF=/%(\d[a-f0-9])/gi,FF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PC(t){return encodeURIComponent(t).replace(kF,(e,n)=>FF[n]??e)}function rl(t){return`${t}`}var ir=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=OF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(rl):[rl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(rl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(rl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kC(t){return typeof Blob<"u"&&t instanceof Blob}function FC(t){return typeof FormData<"u"&&t instanceof FormData}function VF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ko=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(LF(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new sr),this.context||(this.context=new Vg),!this.params)this.params=new ir,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:OC(this.body)||kC(this.body)||FC(this.body)||VF(this.body)||typeof this.body=="string"?this.body:this.body instanceof ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FC(this.body)?null:kC(this.body)?this.body.type||null:OC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},gs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(gs||{}),Lo=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new sr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ug=class t extends Lo{constructor(e={}){super(e),this.type=gs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ms=class t extends Lo{constructor(e={}){super(e),this.type=gs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ol=class extends Lo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Fg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var jg=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof ko)o=r;else{let u;s.headers instanceof sr?u=s.headers:u=new sr(s.headers);let l;s.params&&(s.params instanceof ir?l=s.params:l=new ir({fromObject:s.params})),o=new ko(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=x(o).pipe(vn(u=>this.handler.handle(u)));if(r instanceof ko||s.observe==="events")return a;let c=a.pipe(Ue(u=>u instanceof ms));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(B(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(B(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(B(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(B(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ir().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Fg(s,i))}post(r,i,s={}){return this.request("POST",r,Fg(s,i))}put(r,i,s={}){return this.request("PUT",r,Fg(s,i))}};e.\u0275fac=function(i){return new(i||e)(S(Fo))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function GC(t,e){return e(t)}function UF(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function jF(t,e,n){return(r,i)=>Sn(n,()=>e(r,s=>t(s,i)))}var BF=new M(""),Bg=new M(""),WC=new M(""),$F=new M("");function HF(){let t=null;return(e,n)=>{t===null&&(t=(I(BF,{optional:!0})??[]).reduceRight(UF,GC));let r=I(zr),i=r.add();return t(e,n).pipe(zn(()=>r.remove(i)))}}var LC=(()=>{let e=class e extends Fo{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=I(zr);let s=I($F,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Bg),...this.injector.get(WC,[])]));this.chain=s.reduceRight((o,a)=>jF(o,a,this.injector),GC)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(zn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(S(sl),S(nt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();var qF=/^\)\]\}',?\n/;function zF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var VC=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?oe(i.\u0275loadImpl()):x(null)).pipe(ft(()=>new j(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,_)=>a.setRequestHeader(m,_.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let m=a.statusText||"OK",_=new sr(a.getAllResponseHeaders()),C=zF(a)||r.url;return u=new Ug({headers:_,status:a.status,statusText:m,url:C}),u},d=()=>{let{headers:m,status:_,statusText:C,url:Z}=l(),H=null;_!==204&&(H=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=H?200:0);let de=_>=200&&_<300;if(r.responseType==="json"&&typeof H=="string"){let ne=H;H=H.replace(qF,"");try{H=H!==""?JSON.parse(H):null}catch(Xe){H=ne,de&&(de=!1,H={error:Xe,text:H})}}de?(o.next(new ms({body:H,headers:m,status:_,statusText:C,url:Z||void 0})),o.complete()):o.error(new ol({error:H,headers:m,status:_,statusText:C,url:Z||void 0}))},h=m=>{let{url:_}=l(),C=new ol({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});o.error(C)},f=!1,g=m=>{f||(o.next(l()),f=!0);let _={type:gs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),r.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),o.next(_)},y=m=>{let _={type:gs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),o.next(_)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),o.next({type:gs.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(S(fs))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),KC=new M("XSRF_ENABLED"),GF="XSRF-TOKEN",WF=new M("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>GF}),KF="X-XSRF-TOKEN",QF=new M("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>KF}),al=class{},YF=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=nl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(S(Be),S(St),S(WF))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function JF(t,e){let n=t.url.toLowerCase();if(!I(KC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=I(al).getToken(),i=I(QF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var QC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(QC||{});function ZF(t,e){return{\u0275kind:t,\u0275providers:e}}function XF(...t){let e=[jg,VC,LC,{provide:Fo,useExisting:LC},{provide:sl,useExisting:VC},{provide:Bg,useValue:JF,multi:!0},{provide:KC,useValue:!0},{provide:al,useClass:YF}];for(let n of t)e.push(...n.\u0275providers);return tr(e)}var UC=new M("LEGACY_INTERCEPTOR_FN");function eL(){return ZF(QC.LegacyInterceptors,[{provide:UC,useFactory:HF},{provide:Bg,useExisting:UC,multi:!0}])}var vK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=bt({type:e}),e.\u0275inj=Ct({providers:[XF(eL())]});let t=e;return t})();var jC="b",BC="h",$C="s",HC="st",qC="u",zC="rt",il=new M(""),tL=["GET","HEAD"];function nL(t,e){let l=I(il),{isCacheActive:n}=l,r=Fw(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!tL.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=I(Hr),a=iL(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[jC]:d,[zC]:h,[BC]:f,[$C]:g,[HC]:y,[qC]:m}=c,_=d;switch(h){case"arraybuffer":_=new TextEncoder().encode(d).buffer;break;case"blob":_=new Blob([d]);break}let C=new sr(f);return x(new ms({body:_,headers:C,status:g,statusText:y,url:m}))}return e(t).pipe(me(d=>{d instanceof ms&&o.set(a,{[jC]:d.body,[BC]:rL(d.headers,u),[$C]:d.status,[HC]:d.statusText,[qC]:d.url||"",[zC]:t.responseType})}))}function rL(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function iL(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=sL(o);return a}function sL(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function YC(t){return[{provide:il,useFactory:()=>(qr("NgHttpTransferCache"),b({isCacheActive:!0},t))},{provide:WC,useValue:nL,multi:!0,deps:[Hr,il]},{provide:ds,multi:!0,useFactory:()=>{let e=I(rr),n=I(il);return()=>{bg(e).then(()=>{n.isCacheActive=!1})}}}]}var qg=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zg=class t extends qg{static makeCurrent(){AC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aL();return n==null?null:cL(n)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nl(document.cookie,e)}},Vo=null;function aL(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}function cL(t){return new URL(t,document.baseURI).pathname}var uL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Gg=new M("EventManagerPlugins"),eb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Gg),S(re))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),cl=class{constructor(e){this._doc=e}},$g="ng-app-id",tb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${$g}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute($g),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($g,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(Be),S(Lu),S(Gp,8),S(St))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Hg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kg=/%COMP%/g,nb="%COMP%",lL=`_nghost-${nb}`,dL=`_ngcontent-${nb}`,hL=!0,fL=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>hL});function pL(t){return dL.replace(Kg,t)}function gL(t){return lL.replace(Kg,t)}function rb(t,e){return e.map(n=>n.replace(Kg,t))}var JC=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=kg(c),this.defaultRenderer=new Uo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=fe(b({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ul?s.applyToHost(r):s instanceof jo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new ul(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new Wg(u,l,r,i,a,c,this.nonce,h);default:o=new jo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(eb),S(tb),S(Lu),S(fL),S(Be),S(St),S(re),S(Gp))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Hg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=hs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wg=class extends Uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=rb(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jo=class extends Uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?rb(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ul=class extends jo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=pL(u),this.hostAttr=gL(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},mL=(()=>{let e=class e extends cl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(Be))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),XC=["alt","control","meta","shift"],yL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_L=(()=>{let e=class e extends cl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hs().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),XC.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=yL[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),XC.forEach(a=>{if(a!==s){let c=vL[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(Be))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function kK(t,e){return IC(b({rootComponent:t},wL(e)))}function wL(t){return{appProviders:[...CL,...t?.providers??[]],platformProviders:DL}}function IL(){zg.makeCurrent()}function EL(){return new Cn}function TL(){return TT(document),document}var DL=[{provide:St,useValue:Og},{provide:zp,useValue:IL,multi:!0},{provide:Be,useFactory:TL,deps:[]}];var CL=[{provide:Fu,useValue:"root"},{provide:Cn,useFactory:EL,deps:[]},{provide:Gg,useClass:mL,multi:!0,deps:[Be,re,St]},{provide:Gg,useClass:_L,multi:!0,deps:[Be]},JC,tb,eb,{provide:_o,useExisting:JC},{provide:fs,useClass:uL,deps:[]},[]];function bL(){return new Qg(S(Be))}var Qg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(Be))},e.\u0275prov=R({token:e,factory:function(i){let s=null;return i?s=new i:s=bL(),s},providedIn:"root"});let t=e;return t})();var SL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=S(ib),s},providedIn:"root"});let t=e;return t})();function AL(t){return new ib(t.get(Be))}var ib=(()=>{let e=class e extends SL{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Vt.NONE:return i;case Vt.HTML:return An(i,"HTML")?vt(i):Zp(this._doc,String(i)).toString();case Vt.STYLE:return An(i,"Style")?vt(i):i;case Vt.SCRIPT:if(An(i,"Script"))return vt(i);throw new A(5200,!1);case Vt.URL:return An(i,"URL")?vt(i):Bu(String(i));case Vt.RESOURCE_URL:if(An(i,"ResourceURL"))return vt(i);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(r){return qT(r)}bypassSecurityTrustStyle(r){return zT(r)}bypassSecurityTrustScript(r){return GT(r)}bypassSecurityTrustUrl(r){return WT(r)}bypassSecurityTrustResourceUrl(r){return KT(r)}};e.\u0275fac=function(i){return new(i||e)(S(Be))},e.\u0275prov=R({token:e,factory:function(i){let s=null;return i?s=new i:s=AL(S(it)),s},providedIn:"root"});let t=e;return t})();function FK(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return tr([[],EC(),n.has(0)||r?[]:YC({}),e])}var W="primary",ta=Symbol("RouteTitle"),em=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Is(t){return new em(t)}function xL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ML(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?tm(t):void 0,r=e?tm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!db(t[i],e[i]))return!1;return!0}function tm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function db(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function hb(t){return t.length>0?t[t.length-1]:null}function cr(t){return Fh(t)?t:ls(t)?oe(Promise.resolve(t)):x(t)}var NL={exact:pb,subset:gb},fb={exact:PL,subset:OL,ignored:()=>!0};function sb(t,e,n){return NL[n.paths](t.root,e.root,n.matrixParams)&&fb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function PL(t,e){return Xt(t,e)}function pb(t,e,n){if(!Kr(t.segments,e.segments)||!hl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pb(t.children[r],e.children[r],n))return!1;return!0}function OL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>db(t[n],e[n]))}function gb(t,e,n){return mb(t,e,e.segments,n)}function mb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Kr(i,n)||e.hasChildren()||!hl(i,n,r))}else if(t.segments.length===n.length){if(!Kr(t.segments,n)||!hl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Kr(t.segments,i)||!hl(t.segments,i,r)||!t.children[W]?!1:mb(t.children[W],e,s,r)}}function hl(t,e,n){return e.every((r,i)=>fb[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return LL.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},Wr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return vb(this)}};function kL(t,e){return Kr(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function Kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===W&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==W&&(n=n.concat(e(i,r)))}),n}var bm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>new gl)(),providedIn:"root"});let t=e;return t})(),gl=class{parse(e){let n=new rm(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bo(e.root,!0)}`,r=jL(e.queryParams),i=typeof e.fragment=="string"?`#${VL(e.fragment)}`:"";return`${n}${r}${i}`}},LL=new gl;function fl(t){return t.segments.map(e=>vb(e)).join("/")}function Bo(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[W]?Bo(t.children[W],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==W&&r.push(`${i}:${Bo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FL(t,(r,i)=>i===W?[Bo(t.children[W],!1)]:[`${i}:${Bo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[W]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function yb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return yb(t).replace(/%3B/gi,";")}function VL(t){return encodeURI(t)}function nm(t){return yb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pl(t){return decodeURIComponent(t)}function ob(t){return pl(t.replace(/\+/g,"%20"))}function vb(t){return`${nm(t.path)}${UL(t.parameters)}`}function UL(t){return Object.keys(t).map(e=>`;${nm(e)}=${nm(t[e])}`).join("")}function jL(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var BL=/^[^\/()?;#]+/;function Yg(t){let e=t.match(BL);return e?e[0]:""}var $L=/^[^\/()?;=#]+/;function HL(t){let e=t.match($L);return e?e[0]:""}var qL=/^[^=?&#]+/;function zL(t){let e=t.match(qL);return e?e[0]:""}var GL=/^[^&#]+/;function WL(t){let e=t.match(GL);return e?e[0]:""}var rm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[W]=new ie(e,n)),r}parseSegment(){let e=Yg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Wr(pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Yg(this.remaining);i&&(r=i,this.capture(r))}e[pl(n)]=pl(r)}parseQueryParam(e){let n=zL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=WL(this.remaining);o&&(r=o,this.capture(r))}let i=ob(n),s=ob(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=W);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[W]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function _b(t){return t.segments.length>0?new ie([],{[W]:t}):t}function wb(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=wb(i);if(r===W&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return KL(n)}function KL(t){if(t.numberOfChildren===1&&t.children[W]){let e=t.children[W];return new ie(t.segments.concat(e.segments),e.children)}return t}function Es(t){return t instanceof or}function QL(t,e,n=null,r=null){let i=Ib(t);return Eb(i,e,n,r)}function Ib(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=_b(r);return e??i}function Eb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Jg(i,i,i,n,r);let s=YL(e);if(s.toRoot())return Jg(i,i,new ie([],{}),n,r);let o=JL(s,i,t),a=o.processChildren?qo(o.segmentGroup,o.index,s.commands):Db(o.segmentGroup,o.index,s.commands);return Jg(i,o.segmentGroup,a,n,r)}function ml(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wo(t){return typeof t=="object"&&t!=null&&t.outlets}function Jg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Tb(t,e,n);let a=_b(wb(o));return new or(a,s,i)}function Tb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Tb(s,e,n)}),new ie(t.segments,r)}var yl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ml(r[0]))throw new A(4003,!1);let i=r.find(Wo);if(i&&i!==hb(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yl(n,e,r)}var _s=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function JL(t,e,n){if(t.isAbsolute)return new _s(e,!0,0);if(!n)return new _s(e,!1,NaN);if(n.parent===null)return new _s(n,!0,0);let r=ml(t.commands[0])?0:1,i=n.segments.length-1+r;return ZL(n,i,t.numberOfDoubleDots)}function ZL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new _s(r,!1,i-s)}function XL(t){return Wo(t[0])?t[0].outlets:{[W]:t}}function Db(t,e,n){if(t||(t=new ie([],{})),t.segments.length===0&&t.hasChildren())return qo(t,e,n);let r=eV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[W]=new ie(t.segments.slice(r.pathIndex),t.children),qo(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?im(t,e,n):r.match?qo(t,0,i):im(t,e,n)}function qo(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=XL(n),i={};if(Object.keys(r).some(s=>s!==W)&&t.children[W]&&t.numberOfChildren===1&&t.children[W].segments.length===0){let s=qo(t.children[W],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Db(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function eV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Wo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cb(c,u,o))return s;r+=2}else{if(!cb(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function im(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Wo(s)){let c=tV(s.outlets);return new ie(r,c)}if(i===0&&ml(n[0])){let c=t.segments[e];r.push(new Wr(c.path,ab(n[0]))),i++;continue}let o=Wo(s)?s.outlets[W]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ml(a)?(r.push(new Wr(o,ab(a))),i+=2):(r.push(new Wr(o,{})),i++)}return new ie(r,{})}function tV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=im(new ie([],{}),0,r))}),e}function ab(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cb(t,e,n){return t==n.path&&Xt(e,n.parameters)}var zo="imperative",At=class{constructor(e,n){this.id=e,this.url=n}},Ko=class extends At{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends At{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ar=class extends At{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qr=class extends At{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Qo=class extends At{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vl=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sm=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},om=class extends At{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},am=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},um=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lm=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dm=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Yo=class{},Jo=class{constructor(e){this.url=e}};var gm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cl,this.attachRef=null}},Cl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_l=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=mm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=mm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ym(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ym(e,this._root).map(n=>n.value)}};function mm(t,e){if(t===e.value)return e;for(let n of e.children){let r=mm(t,n);if(r)return r}return null}function ym(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ym(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wl=class extends _l{constructor(e,n){super(e),this.snapshot=n,Am(this,e)}toString(){return this.snapshot.toString()}};function Cb(t,e){let n=nV(t,e),r=new Ve([new Wr("",{})]),i=new Ve({}),s=new Ve({}),o=new Ve({}),a=new Ve(""),c=new Yr(r,i,o,a,s,W,e,n.root);return c.snapshot=n.root,new wl(new _t(c,[]),n)}function nV(t,e){let n={},r={},i={},s="",o=new Zo([],n,i,s,r,W,e,null,{});return new Il("",new _t(o,[]))}var Yr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(u=>u[ta]))??x(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(e=>Is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(e=>Is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&Sb(i)&&(r.resolve[ta]=i.title),r}var Zo=class{get title(){return this.data?.[ta]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Il=class extends _l{constructor(e,n){super(n),this.url=e,Am(this,n)}toString(){return bb(this._root)}};function Am(t,e){e.value._routerState=t,e.children.forEach(n=>Am(t,n))}function bb(t){let e=t.children.length>0?` { ${t.children.map(bb).join(", ")} } `:"";return`${t.value}${e}`}function Zg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),ML(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vm(t,e){let n=Xt(t.params,e.params)&&kL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vm(t.parent,e.parent))}function Sb(t){return typeof t.title=="string"||t.title===null}var rV=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=W,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=I(Cl),this.location=I(nr),this.changeDetector=I(us),this.environmentInjector=I(nt),this.inputBinder=I(Rm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new _m(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Zn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]});let t=e;return t})(),_m=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Yr?this.route:e===Cl?this.childContexts:this.parent.get(e,n)}},Rm=new M("");function iV(t,e,n){let r=Xo(t,e._root,n?n._root:void 0);return new wl(r,e)}function Xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=sV(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xo(t,a)),o}}let r=oV(e.value),i=e.children.map(s=>Xo(t,s));return new _t(r,i)}}function sV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xo(t,r,i);return Xo(t,r)})}function oV(t){return new Yr(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var Ab="ngNavigationCancelingError";function Rb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xb(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function xb(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Ab]=!0,r.cancellationCode=e,n&&(r.url=n),r}function aV(t){return Mb(t)&&Es(t.url)}function Mb(t){return t&&t[Ab]}var cV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=RE({type:e,selectors:[["ng-component"]],standalone:!0,features:[sC],decls:1,vars:0,template:function(i,s){i&1&&Eg(0,"router-outlet")},dependencies:[rV],encapsulation:2});let t=e;return t})();function uV(t,e){return t.providers&&!t._injector&&(t._injector=Zu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xm(t){let e=t.children&&t.children.map(xm),n=e?fe(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==W&&(n.component=cV),n}function tn(t){return t.outlet||W}function lV(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function na(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dV=(t,e,n,r)=>B(i=>(new wm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=vs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=vs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Zg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=na(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},El=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ws=class{constructor(e,n){this.component=e,this.route=n}};function hV(t,e,n){let r=t._root,i=e?e._root:null;return $o(r,i,n,[r.value])}function fV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vE(t)?t:e.get(t):r}function $o(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=vs(e);return t.children.forEach(o=>{pV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Go(a,n.getContext(o),i)),i}function pV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=gV(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new El(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?$o(t,e,a?a.children:null,r,i):$o(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ws(a.outlet.component,o))}else o&&Go(e,a,i),i.canActivateChecks.push(new El(r)),s.component?$o(t,null,a?a.children:null,r,i):$o(t,null,n,r,i);return i}function gV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kr(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vm(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!vm(t,e)}}function Go(t,e,n){let r=vs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Go(o,e.children.getContext(s),n):Go(o,null,n):Go(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ws(e.outlet.component,i)):n.canDeactivateChecks.push(new ws(null,i)):n.canDeactivateChecks.push(new ws(null,i))}function ra(t){return typeof t=="function"}function mV(t){return typeof t=="boolean"}function yV(t){return t&&ra(t.canLoad)}function vV(t){return t&&ra(t.canActivate)}function _V(t){return t&&ra(t.canActivateChild)}function wV(t){return t&&ra(t.canDeactivate)}function IV(t){return t&&ra(t.canMatch)}function Nb(t){return t instanceof mn||t?.name==="EmptyError"}var dl=Symbol("INITIAL_VALUE");function Ts(){return ft(t=>xc(t.map(e=>e.pipe(_n(1),Oc(dl)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===dl)return dl;if(n===!1||n instanceof or)return n}return!0}),Ue(e=>e!==dl),_n(1)))}function EV(t,e){return pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?x(fe(b({},n),{guardsResult:!0})):TV(o,r,i,t).pipe(pe(a=>a&&mV(a)?DV(r,s,t,e):x(a)),B(a=>fe(b({},n),{guardsResult:a})))})}function TV(t,e,n,r){return oe(t).pipe(pe(i=>RV(i.component,i.route,n,e,r)),Nt(i=>i!==!0,!0))}function DV(t,e,n,r){return oe(e).pipe(vn(i=>ji(bV(i.route.parent,r),CV(i.route,r),AV(t,i.path,n),SV(t,i.route,n))),Nt(i=>i!==!0,!0))}function CV(t,e){return t!==null&&e&&e(new fm(t)),x(!0)}function bV(t,e){return t!==null&&e&&e(new dm(t)),x(!0)}function SV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return x(!0);let i=r.map(s=>Mc(()=>{let o=na(e)??n,a=Ds(s,o),c=vV(a)?a.canActivate(e,t):Sn(o,()=>a(e,t));return cr(c).pipe(Nt())}));return x(i).pipe(Ts())}function AV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>fV(o)).filter(o=>o!==null).map(o=>Mc(()=>{let a=o.guards.map(c=>{let u=na(o.node)??n,l=Ds(c,u),d=_V(l)?l.canActivateChild(r,t):Sn(u,()=>l(r,t));return cr(d).pipe(Nt())});return x(a).pipe(Ts())}));return x(s).pipe(Ts())}function RV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return x(!0);let o=s.map(a=>{let c=na(e)??i,u=Ds(a,c),l=wV(u)?u.canDeactivate(t,e,n,r):Sn(c,()=>u(t,e,n,r));return cr(l).pipe(Nt())});return x(o).pipe(Ts())}function xV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return x(!0);let s=i.map(o=>{let a=Ds(o,t),c=yV(a)?a.canLoad(e,n):Sn(t,()=>a(e,n));return cr(c)});return x(s).pipe(Ts(),Pb(r))}function Pb(t){return pc(me(e=>{if(Es(e))throw Rb(t,e)}),B(e=>e===!0))}function MV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return x(!0);let s=i.map(o=>{let a=Ds(o,t),c=IV(a)?a.canMatch(e,n):Sn(t,()=>a(e,n));return cr(c)});return x(s).pipe(Ts(),Pb(r))}var ea=class{constructor(e){this.segmentGroup=e||null}},Tl=class extends Error{constructor(e){super(),this.urlTree=e}};function ys(t){return Vi(new ea(t))}function NV(t){return Vi(new A(4e3,!1))}function PV(t){return Vi(xb(!1,3))}var Im=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return x(r);if(i.numberOfChildren>1||!i.children[W])return NV(e.redirectTo);i=i.children[W]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new or(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OV(t,e,n,r,i){let s=Mm(t,e,n);return s.matched?(r=uV(e,r),MV(r,e,n,i).pipe(B(o=>o===!0?s:b({},Em)))):x(s)}function Mm(t,e,n){if(e.path==="**")return kV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},Em):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xL)(n,t,e);if(!i)return b({},Em);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kV(t){return{matched:!0,parameters:t.length>0?hb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ub(t,e,n,r){return n.length>0&&VV(t,n,r)?{segmentGroup:new ie(e,LV(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&UV(t,n,r)?{segmentGroup:new ie(t.segments,FV(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function FV(t,e,n,r,i){let s={};for(let o of r)if(bl(t,n,o)&&!i[tn(o)]){let a=new ie([],{});s[tn(o)]=a}return b(b({},i),s)}function LV(t,e){let n={};n[W]=e;for(let r of t)if(r.path===""&&tn(r)!==W){let i=new ie([],{});n[tn(r)]=i}return n}function VV(t,e,n){return n.some(r=>bl(t,e,r)&&tn(r)!==W)}function UV(t,e,n){return n.some(r=>bl(t,e,r))}function bl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function jV(t,e,n,r){return tn(t)!==r&&(r===W||!bl(e,n,t))?!1:Mm(e,t,n).matched}function BV(t,e,n){return e.length===0&&!t.children[n]}var Tm=class{};function $V(t,e,n,r,i,s,o="emptyOnly"){return new Dm(t,e,n,r,i,o,s).recognize()}var HV=31,Dm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=ub(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let r=new Zo([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,{},W,this.rootComponentType,null,{}),i=new _t(r,n),s=new Il("",i),o=QL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,W).pipe(yn(r=>{if(r instanceof Tl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ea?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Sm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(B(s=>s instanceof _t?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return oe(i).pipe(vn(s=>{let o=r.children[s],a=lV(n,s);return this.processSegmentGroup(e,a,o,s)}),Pc((s,o)=>(s.push(...o),s)),qn(null),Uh(),pe(s=>{if(s===null)return ys(r);let o=Ob(s);return qV(o),x(o)}))}processSegment(e,n,r,i,s,o){return oe(n).pipe(vn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(yn(c=>{if(c instanceof ea)return x(null);throw c}))),Nt(a=>!!a),yn(a=>{if(Nb(a))return BV(r,i,s)?x(new Tm):ys(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return jV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ys(i):ys(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Mm(n,i,s);if(!a)return ys(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(pe(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=OV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(ft(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ft(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Zo(l,h,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,GV(r),tn(r),r.component??r._loadedComponent??null,r,WV(r)),{segmentGroup:g,slicedSegments:y}=ub(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(B(_=>_===null?null:new _t(f,_)));if(c.length===0&&y.length===0)return x(new _t(f,[]));let m=tn(r)===s;return this.processSegment(u,c,g,y,m?W:s,!0).pipe(B(_=>new _t(f,_ instanceof _t?[_]:[])))}))):ys(n)))}getChildConfig(e,n,r){return n.children?x({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?x({routes:n._loadedRoutes,injector:n._loadedInjector}):xV(e,n,r,this.urlSerializer).pipe(pe(i=>i?this.configLoader.loadChildren(e,n).pipe(me(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):PV(n))):x({routes:[],injector:e})}};function qV(t){t.sort((e,n)=>e.value.outlet===W?-1:n.value.outlet===W?1:e.value.outlet.localeCompare(n.value.outlet))}function zV(t){let e=t.value.routeConfig;return e&&e.path===""}function Ob(t){let e=[],n=new Set;for(let r of t){if(!zV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ob(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function GV(t){return t.data||{}}function WV(t){return t.resolve||{}}function KV(t,e,n,r,i,s){return pe(o=>$V(t,e,n,r,o.extractedUrl,i,s).pipe(B(({state:a,tree:c})=>fe(b({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function QV(t,e){return pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return x(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of kb(c))o.add(u);let a=0;return oe(o).pipe(vn(c=>s.has(c)?YV(c,r,t,e):(c.data=Sm(c,c.parent,t).resolve,x(void 0))),me(()=>a++),Bi(1),pe(c=>a===o.size?x(n):at))})}function kb(t){let e=t.children.map(n=>kb(n)).flat();return[t,...e]}function YV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Sb(i)&&(s[ta]=i.title),JV(s,t,e,r).pipe(B(o=>(t._resolvedData=o,t.data=Sm(t,t.parent,n).resolve,null)))}function JV(t,e,n,r){let i=tm(t);if(i.length===0)return x({});let s={};return oe(i).pipe(pe(o=>ZV(t[o],e,n,r).pipe(Nt(),me(a=>{s[o]=a}))),Bi(1),Vh(s),yn(o=>Nb(o)?at:Vi(o)))}function ZV(t,e,n,r){let i=na(e)??r,s=Ds(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return cr(o)}function Xg(t){return ft(e=>{let n=t(e);return n?oe(n).pipe(B(()=>e)):x(e)})}var Fb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===W);return i}getResolvedTitleForRoute(r){return r.data[ta]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(XV))(),providedIn:"root"});let t=e;return t})(),XV=(()=>{let e=class e extends Fb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(Qg))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nm=new M("",{providedIn:"root",factory:()=>({})}),Pm=new M("ROUTES"),Lb=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(el)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return x(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=cr(r.loadComponent()).pipe(B(Vb),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),zn(()=>{this.componentLoaders.delete(r)})),s=new Oi(i,()=>new Ce).pipe(Pi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return x({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=eU(i,this.compiler,r,this.onLoadEndListener).pipe(zn(()=>{this.childrenLoaders.delete(i)})),a=new Oi(o,()=>new Ce).pipe(Pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eU(t,e,n,r){return cr(t.loadChildren()).pipe(B(Vb),pe(i=>i instanceof Do||Array.isArray(i)?x(i):oe(e.compileModuleAsync(i))),B(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Pm,[],{optional:!0,self:!0}).flat()),{routes:o.map(xm),injector:s}}))}function tU(t){return t&&typeof t=="object"&&"default"in t}function Vb(t){return tU(t)?t.default:t}var Om=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(nU))(),providedIn:"root"});let t=e;return t})(),nU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rU=new M("");var iU=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=I(Lb),this.environmentInjector=I(nt),this.urlSerializer=I(bm),this.rootContexts=I(Cl),this.location=I(Oo),this.inputBindingEnabled=I(Rm,{optional:!0})!==null,this.titleStrategy=I(Fb),this.options=I(Nm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Om),this.createViewTransition=I(rU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>x(void 0),this.rootComponentType=null;let r=s=>this.events.next(new um(s)),i=s=>this.events.next(new lm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(o=>o.id!==0),B(o=>fe(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ft(o=>{this.currentTransition=o;let a=!1,c=!1;return x(o).pipe(me(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ft(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Qr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),at}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return x(u).pipe(ft(h=>{let f=this.transitions?.getValue();return this.events.next(new Ko(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?at:Promise.resolve(h)}),KV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),me(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=fe(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new vl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:m}=u,_=new Ko(h,this.urlSerializer.serialize(f),g,y);this.events.next(_);let C=Cb(f,this.rootComponentType).snapshot;return this.currentTransition=o=fe(b({},u),{targetSnapshot:C,urlAfterRedirects:f,extras:fe(b({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,x(o)}else{let h="";return this.events.next(new Qr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),at}}),me(u=>{let l=new sm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),B(u=>(this.currentTransition=o=fe(b({},u),{guards:hV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),EV(this.environmentInjector,u=>this.events.next(u)),me(u=>{if(o.guardsResult=u.guardsResult,Es(u.guardsResult))throw Rb(this.urlSerializer,u.guardsResult);let l=new om(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ue(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Xg(u=>{if(u.guards.canActivateChecks.length)return x(u).pipe(me(l=>{let d=new am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ft(l=>{let d=!1;return x(l).pipe(QV(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),me(l=>{let d=new cm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Xg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(me(f=>{d.component=f}),B(()=>{})));for(let f of d.children)h.push(...l(f));return h};return xc(l(u.targetSnapshot.root)).pipe(qn(null),_n(1))}),Xg(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?oe(d).pipe(B(()=>o)):x(o)}),B(u=>{let l=iV(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=fe(b({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),me(()=>{this.events.next(new Yo)}),dV(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_n(1),me({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),$h(this.transitionAbortSubject.pipe(me(u=>{throw u}))),zn(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),yn(u=>{if(c=!0,Mb(u))this.events.next(new ar(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),aV(u)?this.events.next(new Jo(u.url)):o.resolve(!1);else{this.events.next(new Qo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return at}))}))}cancelNavigationTransition(r,i,s){let o=new ar(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sU(t){return t!==zo}var oU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(aU))(),providedIn:"root"});let t=e;return t})(),Cm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},aU=(()=>{let e=class e extends Cm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vp(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ub=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>(()=>I(cU))(),providedIn:"root"});let t=e;return t})(),cU=(()=>{let e=class e extends Ub{constructor(){super(...arguments),this.location=I(Oo),this.urlSerializer=I(bm),this.options=I(Nm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Om),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cb(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ko)this.stateMemento=this.createStateMemento();else if(r instanceof Qr)this.rawUrlTree=i.initialUrl;else if(r instanceof vl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Yo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ar&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Qo?this.restoreHistory(i,!0):r instanceof en&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vp(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ho=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ho||{});function uU(t,e){t.events.pipe(Ue(n=>n instanceof en||n instanceof ar||n instanceof Qo||n instanceof Qr),B(n=>n instanceof en||n instanceof Qr?Ho.COMPLETE:(n instanceof ar?n.code===0||n.code===1:!1)?Ho.REDIRECTING:Ho.FAILED),Ue(n=>n!==Ho.REDIRECTING),_n(1)).subscribe(()=>{e()})}function lU(t){throw t}var dU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ia=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Xu),this.stateManager=I(Ub),this.options=I(Nm,{optional:!0})||{},this.pendingTasks=I(zr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(iU),this.urlSerializer=I(bm),this.location=I(Oo),this.urlHandlingStrategy=I(Om),this._events=new Ce,this.errorHandler=this.options.errorHandler||lU,this.navigated=!1,this.routeReuseStrategy=I(oU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Pm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Rm,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=I(re)instanceof re&&re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ar&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof en)this.navigated=!0;else if(i instanceof Jo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||sU(s.source)};this.scheduleNavigation(a,zo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}pU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=b({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Ib(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Eb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Es(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,zo,null,i)}navigate(r,i={skipLocationChange:!1}){return fU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},dU):i===!1?s=b({},hU):s=i,Es(r))return sb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return sb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return uU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function pU(t){return!(t instanceof Yo)&&!(t instanceof Jo)}var lb=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ce,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:XT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ue(ia),ue(Yr),Up("tabindex"),ue(as),ue(Zt),ue(ps))},e.\u0275dir=Zn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Dg("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&vg("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Po],skipLocationChange:["skipLocationChange","skipLocationChange",Po],replaceUrl:["replaceUrl","replaceUrl",Po],routerLink:"routerLink"},standalone:!0,features:[mg,rs]});let t=e;return t})(),o7=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pt,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof en&&this.update()})}ngAfterContentInit(){x(this.links.changes,x(null)).pipe(Gt()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=oe(r).pipe(Gt()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=gU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ue(ia),ue(Zt),ue(as),ue(us),ue(lb,8))},e.\u0275dir=Zn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&dC(o,lb,5),i&2){let a;lC(a=hC())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rs]});let t=e;return t})();function gU(t){return!!t.paths}var Dl=class{},a7=(()=>{let e=class e{preload(r,i){return i().pipe(yn(()=>x(null)))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ue(r=>r instanceof en),vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Zu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return oe(s).pipe(Gt())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=x(null);let o=s.pipe(pe(a=>a===null?x(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([o,a]).pipe(Gt())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(ia),S(el),S(nt),S(Dl),S(Lb))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yU=new M("");function c7(t,...e){return tr([{provide:Pm,multi:!0,useValue:t},[],{provide:Yr,useFactory:vU,deps:[ia]},{provide:ds,multi:!0,useFactory:wU},e.map(n=>n.\u0275providers)])}function vU(t){return t.routerState.root}function _U(t,e){return{\u0275kind:t,\u0275providers:e}}function wU(){let t=I(it);return e=>{let n=t.get(rr);if(e!==n.components[0])return;let r=t.get(ia),i=t.get(IU);t.get(EU)===1&&r.initialNavigation(),t.get(jb,null,Q.Optional)?.setUpPreloading(),t.get(yU,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IU=new M("",{factory:()=>new Ce}),EU=new M("",{providedIn:"root",factory:()=>1});var jb=new M("");function u7(t){return _U(0,[{provide:jb,useExisting:mU},{provide:Dl,useExisting:t}])}var $b=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Fm;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DU=function(t){let e=$b(t);return Hb.encodeByteArray(e,!0)},sa=function(t){return DU(t).replace(/\./g,"")},Vm=function(t){try{return Hb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bU=()=>CU().__FIREBASE_DEFAULTS__,SU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vm(t[1]);return e&&JSON.parse(e)},Al=()=>{try{return bU()||SU()||AU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Um=t=>{var e,n;return(n=(e=Al())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qb=t=>{let e=Um(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jm=()=>{var t;return(t=Al())===null||t===void 0?void 0:t.config},Bm=t=>{var e;return(e=Al())===null||e===void 0?void 0:e[`_${t}`]};var Sl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sa(JSON.stringify(n)),sa(JSON.stringify(o)),a].join(".")}function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function RU(){var t;let e=(t=Al())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){let t=ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yb(){return!RU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rl(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function h7(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var xU="FirebaseError",wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wt(i,a,r)}};function MU(t,e){return t.replace(NU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var NU=/\{\$([^}]+)}/g;function Zb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Bb(s)&&Bb(o)){if(!Jr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Bb(t){return t!==null&&typeof t=="object"}function oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xb(t,e){let n=new Lm(t,e);return n.subscribe.bind(n)}var Lm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=km),i.error===void 0&&(i.error=km),i.complete===void 0&&(i.complete=km);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function km(){}var OU=1e3,kU=2,FU=4*60*60*1e3,LU=.5;function f7(t,e=OU,n=kU){let r=e*Math.pow(n,t),i=Math.round(LU*r*(Math.random()-.5)*2);return Math.min(FU,r+i)}function Ke(t){return t&&t._delegate?t._delegate:t}var Rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zr="[DEFAULT]";var $m=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UU(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VU(t){return t===Zr?void 0:t}function UU(t){return t.instantiationMode==="EAGER"}var xl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new $m(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var jU=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),BU={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},$U=Y.INFO,HU={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},qU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=HU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ur=class{constructor(e){this.name=e,this._logLevel=$U,this._logHandler=qU,this._userLogHandler=null,jU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var zU=(t,e)=>e.some(n=>t instanceof n),e0,t0;function GU(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WU(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var n0=new WeakMap,qm=new WeakMap,r0=new WeakMap,Hm=new WeakMap,Gm=new WeakMap;function KU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&n0.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function QU(t){if(qm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qm.set(t,e)}var zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i0(t){zm=t(zm)}function YU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ml(this),e,...n);return r0.set(r,e.sort?e.sort():[e]),nn(r)}:WU().includes(t)?function(...e){return t.apply(Ml(this),e),nn(n0.get(this))}:function(...e){return nn(t.apply(Ml(this),e))}}function JU(t){return typeof t=="function"?YU(t):(t instanceof IDBTransaction&&QU(t),zU(t,GU())?new Proxy(t,zm):t)}function nn(t){if(t instanceof IDBRequest)return KU(t);if(Hm.has(t))return Hm.get(t);let e=JU(t);return e!==t&&(Hm.set(t,e),Gm.set(e,t)),e}var Ml=t=>Gm.get(t);function o0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=nn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(nn(o.result),c.oldVersion,c.newVersion,nn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var ZU=["get","getKey","getAll","getAllKeys","count"],XU=["put","add","delete","clear"],Wm=new Map;function s0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=XU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZU.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Wm.set(e,s),s}i0(t=>fe(b({},t),{get:(e,n,r)=>s0(e,n)||t.get(e,n,r),has:(e,n)=>!!s0(e,n)||t.has(e,n)}));var Qm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ej(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ej(t){let e=t.getComponent();return e?.type==="VERSION"}var Ym="@firebase/app",a0="0.9.26";var Xr=new ur("@firebase/app"),tj="@firebase/app-compat",nj="@firebase/analytics-compat",rj="@firebase/analytics",ij="@firebase/app-check-compat",sj="@firebase/app-check",oj="@firebase/auth",aj="@firebase/auth-compat",cj="@firebase/database",uj="@firebase/database-compat",lj="@firebase/functions",dj="@firebase/functions-compat",hj="@firebase/installations",fj="@firebase/installations-compat",pj="@firebase/messaging",gj="@firebase/messaging-compat",mj="@firebase/performance",yj="@firebase/performance-compat",vj="@firebase/remote-config",_j="@firebase/remote-config-compat",wj="@firebase/storage",Ij="@firebase/storage-compat",Ej="@firebase/firestore",Tj="@firebase/firestore-compat",Dj="firebase",Cj="10.7.2";var Jm="[DEFAULT]",bj={[Ym]:"fire-core",[tj]:"fire-core-compat",[rj]:"fire-analytics",[nj]:"fire-analytics-compat",[sj]:"fire-app-check",[ij]:"fire-app-check-compat",[oj]:"fire-auth",[aj]:"fire-auth-compat",[cj]:"fire-rtdb",[uj]:"fire-rtdb-compat",[lj]:"fire-fn",[dj]:"fire-fn-compat",[hj]:"fire-iid",[fj]:"fire-iid-compat",[pj]:"fire-fcm",[gj]:"fire-fcm-compat",[mj]:"fire-perf",[yj]:"fire-perf-compat",[vj]:"fire-rc",[_j]:"fire-rc-compat",[wj]:"fire-gcs",[Ij]:"fire-gcs-compat",[Ej]:"fire-fst",[Tj]:"fire-fst-compat","fire-js":"fire-js",[Dj]:"fire-js-all"};var aa=new Map,Zm=new Map;function Sj(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){let e=t.name;if(Zm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,t);for(let n of aa.values())Sj(n,t);return!0}function ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lr=new Mn("app","Firebase",Aj);var Xm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}};var hr=Cj;function ny(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=jm()),!n)throw lr.create("no-options");let s=aa.get(i);if(s){if(Jr(n,s.options)&&Jr(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}let o=new xl(i);for(let c of Zm.values())o.addComponent(c);let a=new Xm(n,r,o);return aa.set(i,a),a}function Cs(t=Jm){let e=aa.get(t);if(!e&&t===Jm&&jm())return ny();if(!e)throw lr.create("no-app",{appName:t});return e}function Nl(){return Array.from(aa.values())}function Me(t,e,n){var r;let i=(r=bj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}dr(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Rj="firebase-heartbeat-database",xj=1,ca="firebase-heartbeat-store",Km=null;function d0(){return Km||(Km=o0(Rj,xj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Km}function Mj(t){return p(this,null,function*(){try{return yield(yield d0()).transaction(ca).objectStore(ca).get(h0(t))}catch(e){if(e instanceof wt)Xr.warn(e.message);else{let n=lr.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}})}function c0(t,e){return p(this,null,function*(){try{let r=(yield d0()).transaction(ca,"readwrite");yield r.objectStore(ca).put(e,h0(t)),yield r.done}catch(n){if(n instanceof wt)Xr.warn(n.message);else{let r=lr.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(r.message)}}})}function h0(t){return`${t.name}!${t.options.appId}`}var Nj=1024,Pj=30*24*60*60*1e3,ey=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ty(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Pj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=u0(),{heartbeatsToSend:r,unsentEntries:i}=Oj(this._heartbeatsCache.heartbeats),s=sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function u0(){return new Date().toISOString().substring(0,10)}function Oj(t,e=Nj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ty=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Rl()?Jb().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Mj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return c0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return c0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function l0(t){return sa(JSON.stringify({version:2,heartbeats:t})).length}function kj(t){dr(new Rt("platform-logger",e=>new Qm(e),"PRIVATE")),dr(new Rt("heartbeat",e=>new ey(e),"PRIVATE")),Me(Ym,a0,t),Me(Ym,a0,"esm2017"),Me("fire-js","")}kj("");var Fj="firebase",Lj="10.7.2";Me(Fj,Lj,"app");var ti=new Jn("ANGULARFIRE2_VERSION"),B7=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Ol(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var la=(t,e)=>{let n=e?[e]:Nl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ss=class{constructor(){return la(Vj)}},Vj="app-check";function bs(){}var Pl=class{zone;delegate;constructor(e,n=kh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ry=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),n.pipe(me({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},As=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Pl(Zone.current)),this.insideAngular=n.run(()=>new Pl(Zone.current,Rr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(re))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Uj(t){return kl().ngZone.runOutsideAngular(()=>t())}function ei(t){return kl().ngZone.run(()=>t())}function jj(t){return Bj(kl())(t)}function Bj(t){return function(n){return n=n.lift(new ry(t.ngZone)),n.pipe(Hn(t.outsideAngular),$n(t.insideAngular))}}var $j=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ei(()=>t.apply(void 0,r))},dt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ei(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs))),r[s]=$j(r[s],n));let i=Uj(()=>t.apply(this,r));if(!e)if(i instanceof j){let s=kl();return i.pipe(Hn(s.outsideAngular),$n(s.insideAngular))}else return ei(()=>i);return i instanceof j?i.pipe(jj):i instanceof Promise?ei(()=>new Promise((s,o)=>i.then(a=>ei(()=>s(a)),a=>ei(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ei(()=>i)};var Nn=class{constructor(e){return e}},ni=class{constructor(){return Nl()}};function Hj(t){return t&&t.length===1?t[0]:new Nn(Cs())}var iy=new M("angularfire2._apps"),qj={provide:Nn,useFactory:Hj,deps:[[new We,iy]]},zj={provide:ni,deps:[[new We,iy]]};function Gj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Nn(r)}}var Wj=(()=>{class t{constructor(n){Me("angularfire",ti.full,"core"),Me("angularfire",ti.full,"app"),Me("angular",mC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(St))};static \u0275mod=bt({type:t});static \u0275inj=Ct({providers:[qj,zj]})}return t})();function J7(t,...e){return{ngModule:Wj,providers:[{provide:iy,useFactory:Gj(t),multi:!0,deps:[re,it,As,...e]}]}}var Z7=dt(ny,!0);function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var S0=b0,A0=new Mn("auth","Firebase",b0());var Bl=new ur("@firebase/auth");function Kj(t,...e){Bl.logLevel<=Y.WARN&&Bl.warn(`Auth (${hr}): ${t}`,...e)}function Ll(t,...e){Bl.logLevel<=Y.ERROR&&Bl.error(`Auth (${hr}): ${t}`,...e)}function pr(t,...e){throw Dy(t,...e)}function ri(t,...e){return Dy(t,...e)}function Qj(t,e,n){let r=Object.assign(Object.assign({},S0()),{[e]:n});return new Mn("auth","Firebase",r).create(e,{appName:t.name})}function Dy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A0.create(t,...e)}function q(t,e,...n){if(!t)throw Dy(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ll(e),new Error(e)}function gr(t,e){t||Pn(e)}function cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Yj(){return f0()==="http:"||f0()==="https:"}function f0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Jj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yj()||Wb()||"connection"in navigator)?navigator.onLine:!0}function Zj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Kb()}get(){return Jj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cy(t,e){gr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $l=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e2=new ii(3e4,6e4);function by(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Rs(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return R0(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=oa(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),$l.fetch()(x0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function R0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Xj),e);try{let i=new uy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qj(t,l,u);pr(t,l)}}catch(i){if(i instanceof wt)throw i;pr(t,"network-request-failed",{message:String(i)})}})}function t2(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield Rs(t,e,n,r,i);return"mfaPendingCredential"in u&&pr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function x0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Cy(t.config,i):`${t.config.apiScheme}://${i}`}var uy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),e2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ri(t,e,r);return i.customData._tokenResponse=n,i}function n2(t,e){return p(this,null,function*(){return Rs(t,"POST","/v1/accounts:delete",e)})}function r2(t,e){return p(this,null,function*(){return Rs(t,"POST","/v1/accounts:lookup",e)})}function da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Sy(t,e=!1){return p(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=Ay(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:da(sy(i.auth_time)),issuedAtTime:da(sy(i.iat)),expirationTime:da(sy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function sy(t){return Number(t)*1e3}function Ay(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ll("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vm(n);return i?JSON.parse(i):(Ll("Failed to decode base64 JWT payload"),null)}catch(i){return Ll("Caught error parsing JWT payload as JSON",i?.toString()),null}}function i2(t){let e=Ay(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ha(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof wt&&s2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function s2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ly=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ql(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ha(t,r2(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?a2(s.providerUserInfo):[],a=o2(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Ry(t){return p(this,null,function*(){let e=Ke(t);yield ql(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function o2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function a2(t){return t.map(e=>{var{providerId:n}=e,r=Ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function c2(t,e){return p(this,null,function*(){let n=yield R0(t,{},()=>p(this,null,function*(){let r=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=x0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$l.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function u2(t,e){return p(this,null,function*(){return Rs(t,"POST","/v2/accounts:revokeToken",by(t,e))})}var zl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield c2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function fr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ly(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield ha(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Sy(this,e)}reload(){return Ry(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ql(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield ha(this,n2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,C=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Z,emailVerified:H,isAnonymous:de,providerData:ne,stsTokenManager:Xe}=n;q(Z&&Xe,e,"internal-error");let Un=zl.fromJSON(this.name,Xe);q(typeof Z=="string",e,"internal-error"),fr(d,e.name),fr(h,e.name),q(typeof H=="boolean",e,"internal-error"),q(typeof de=="boolean",e,"internal-error"),fr(f,e.name),fr(g,e.name),fr(y,e.name),fr(m,e.name),fr(_,e.name),fr(C,e.name);let Tr=new t({uid:Z,auth:e,email:h,emailVerified:H,displayName:d,isAnonymous:de,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Un,createdAt:_,lastLoginAt:C});return ne&&Array.isArray(ne)&&(Tr.providerData=ne.map(uc=>Object.assign({},uc))),m&&(Tr._redirectEventId=m),Tr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new zl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ql(s),s})}};var p0=new Map;function On(t){gr(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}var l2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),dy=l2;function Vl(t,e,n){return`firebase:${t}:${e}:${n}`}var Gl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Vl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(On(dy),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||On(dy),o=Vl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=fa._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function g0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k0(e))return"Blackberry";if(F0(e))return"Webos";if(xy(e))return"Safari";if((e.includes("chrome/")||N0(e))&&!e.includes("edge/"))return"Chrome";if(O0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function M0(t=ye()){return/firefox\//i.test(t)}function xy(t=ye()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N0(t=ye()){return/crios\//i.test(t)}function P0(t=ye()){return/iemobile/i.test(t)}function O0(t=ye()){return/android/i.test(t)}function k0(t=ye()){return/blackberry/i.test(t)}function F0(t=ye()){return/webos/i.test(t)}function ed(t=ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d2(t=ye()){var e;return ed(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h2(){return Qb()&&document.documentMode===10}function L0(t=ye()){return ed(t)||O0(t)||F0(t)||k0(t)||/windows phone/i.test(t)||P0(t)}function f2(){try{return!!(window&&window!==window.top)}catch{return!1}}function V0(t,e=[]){let n;switch(t){case"Browser":n=g0(ye());break;case"Worker":n=`${g0(ye())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hr}/${r}`}var hy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p2(n){return p(this,arguments,function*(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",by(t,e))})}var g2=6,fy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:g2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var py=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wl(this),this.idTokenSubscription=new Wl(this),this.beforeStateQueue=new hy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield ql(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Zj()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Ke(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(On(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield p2(this),n=new fy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield u2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&On(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield Gl.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Kj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function My(t){return Ke(t)}var Wl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xb(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function m2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function y2(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m2().appendChild(r)})}function U0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Ny(t,e){let n=ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Jr(s,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function v2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(On);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Py(t,e,n){let r=My(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=j0(e),{host:o,port:a}=_2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||w2()}function j0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _2(t){let e=j0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:m0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:m0(o)}}}function m0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function w2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Kl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function oy(t,e){return p(this,null,function*(){return t2(t,"POST","/v1/accounts:signInWithIdp",by(t,e))})}var Ql=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gy=class extends Ql{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield fa._fromIdTokenResponse(e,r,i),o=y0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=y0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var my=class t extends wt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function B0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?my._fromErrorAndOperation(t,s,e,r):s})}function I2(t,e,n=!1){return p(this,null,function*(){let r=yield ha(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pa._forOperation(t,"link",r)})}function E2(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield ha(t,B0(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=Ay(s.idToken);q(o,r,"internal-error");let{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),pa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pr(r,"user-mismatch"),s}})}function T2(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield B0(t,r,e),s=yield pa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function td(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function Oy(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function nd(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}var Yl="__sak";var Jl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yl,"1"),this.storage.removeItem(Yl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function D2(){let t=ye();return xy(t)||ed(t)}var C2=1e3,b2=10,S2=(()=>{class t extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D2()&&f2(),this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);h2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,b2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),$0=S2;var A2=(()=>{class t extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ky=A2;function R2(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var x2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield R2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function H0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var yy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=H0("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function rn(){return window}function M2(t){rn().location.href=t}function q0(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}function N2(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function P2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O2(){return q0()?self:null}var z0="firebaseLocalStorageDb",k2=1,Zl="firebaseLocalStorage",G0="fbase_key",si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function rd(t,e){return t.transaction([Zl],e?"readwrite":"readonly").objectStore(Zl)}function F2(){let t=indexedDB.deleteDatabase(z0);return new si(t).toPromise()}function vy(){let t=indexedDB.open(z0,k2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zl,{keyPath:G0})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zl)?e(r):(r.close(),yield F2(),e(yield vy()))}))})}function v0(t,e,n){return p(this,null,function*(){let r=rd(t,!0).put({[G0]:e,value:n});return new si(r).toPromise()})}function L2(t,e){return p(this,null,function*(){let n=rd(t,!1).get(e),r=yield new si(n).toPromise();return r===void 0?null:r.value})}function _0(t,e){let n=rd(t,!0).delete(e);return new si(n).toPromise()}var V2=800,U2=3,j2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield vy(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>U2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return q0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=x2._getInstance(O2()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield N2(),!this.activeServiceWorker)return;this.sender=new yy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield vy();return yield v0(n,Yl,"1"),yield _0(n,Yl),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>v0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>L2(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>_0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=rd(s,!1).getAll();return new si(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),W0=j2;var cQ=U0("rcb"),uQ=new ii(3e4,6e4);function B2(t,e){return e?On(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ga=class extends Kl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function $2(t){return T2(t.auth,new ga(t),t.bypassAuthState)}function H2(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),E2(n,new ga(t),t.bypassAuthState)}function q2(t){return p(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),I2(n,new ga(t),t.bypassAuthState)})}var _y=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:pr(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lQ=new ii(2e3,1e4);var z2="pendingRedirect",Ul=new Map,wy=class t extends _y{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Ul.get(this.auth._key());if(!e){try{let r=(yield G2(this.resolver,this.auth))?yield jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ul.set(this.auth._key(),e)}return this.bypassAuthState||Ul.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function G2(t,e){return p(this,null,function*(){let n=Q2(e),r=K2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function W2(t,e){Ul.set(t._key(),e)}function K2(t){return On(t._redirectPersistence)}function Q2(t){return Vl(z2,t.config.apiKey,t.name)}function Y2(t,e,n=!1){return p(this,null,function*(){let r=My(t),i=B2(r,e),o=yield new wy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var J2=10*60*1e3,Iy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}};function w0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(t);default:return!1}}function X2(n){return p(this,arguments,function*(t,e={}){return Rs(t,"GET","/v1/projects",e)})}var eB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tB=/^https?/;function nB(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield X2(t);for(let n of e)try{if(rB(n))return}catch{}pr(t,"unauthorized-domain")})}function rB(t){let e=cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tB.test(n))return!1;if(eB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var iB=new ii(3e4,6e4);function I0(){let t=rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sB(t){return new Promise((e,n)=>{var r,i,s;function o(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(ri(t,"network-request-failed"))},timeout:iB.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rn().gapi)===null||s===void 0)&&s.load)o();else{let a=U0("iframefcb");return rn()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},y2(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw jl=null,e})}var jl=null;function oB(t){return jl=jl||sB(t),jl}var aB=new ii(5e3,15e3),cB="__/auth/iframe",uB="emulator/auth/iframe",lB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hB(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Cy(e,uB):`https://${t.config.authDomain}/${cB}`,r={apiKey:e.apiKey,appName:t.name,v:hr},i=dB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oa(r).slice(1)}`}function fB(t){return p(this,null,function*(){let e=yield oB(t),n=rn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:hB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lB,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ri(t,"network-request-failed"),a=rn().setTimeout(()=>{s(o)},aB.get());function c(){rn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var pB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gB=500,mB=600,yB="_blank",vB="http://localhost",Xl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _B(t,e,n,r=gB,i=mB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},pB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ye().toLowerCase();n&&(a=N0(u)?yB:n),M0(u)&&(e=e||vB,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(d2(u)&&a!=="_self")return wB(e||"",a),new Xl(null);let d=window.open(e||"",a,l);q(d,t,"popup-blocked");try{d.focus()}catch{}return new Xl(d)}function wB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var IB="__/auth/handler",EB="emulator/auth/handler",TB=encodeURIComponent("fac");function E0(t,e,n,r,i,s){return p(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hr,eventId:i};if(e instanceof Ql){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof gy){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${TB}=${encodeURIComponent(c)}`:"";return`${DB(t)}?${oa(a).slice(1)}${u}`})}function DB({config:t}){return t.emulator?Cy(t,EB):`https://${t.authDomain}/${IB}`}var ay="webStorageSupport",Ey=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ky,this._completeRedirectFn=Y2,this._overrideRedirectResult=W2}_openPopup(e,n,r,i){return p(this,null,function*(){var s;gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield E0(e,n,r,cy(),i);return _B(e,o,H0())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield E0(e,n,r,cy(),i);return M2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield fB(e),r=new Iy(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ay,{type:ay},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ay];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L0()||xy()||ed()}},Q0=Ey;var T0="@firebase/auth",D0="1.5.1";var Ty=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function CB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bB(t){dr(new Rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(t)},u=new py(r,i,s,c);return v2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Rt("auth-internal",e=>{let n=My(e.getProvider("auth").getImmediate());return(r=>new Ty(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(T0,D0,CB(t)),Me(T0,D0,"esm2017")}var SB=5*60,AB=Bm("authIdTokenMaxAge")||SB,C0=null,RB=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AB)return;let i=n?.token;C0!==i&&(C0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Fy(t=Cs()){let e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ny(t,{popupRedirectResolver:Q0,persistence:[W0,$0,ky]}),r=Bm("authTokenSyncURL");if(r){let s=RB(r);Oy(n,s,()=>s(n.currentUser)),td(n,o=>s(o))}let i=Um("auth");return i&&Py(n,`http://${i}`),n}bB("Browser");function J0(t){return new j(function(e){var n=nd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Z0="auth",ma=class{constructor(e){return e}},ya=class{constructor(){return la(Z0)}};var Ly=new M("angularfire2.auth-instances");function I$(t,e){let n=Ol(Z0,t,e);return n&&new ma(n)}function E$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ma(r)}}var T$={provide:ya,deps:[[new We,Ly]]},D$={provide:ma,useFactory:I$,deps:[[new We,Ly],Nn]},C$=(()=>{class t{constructor(){Me("angularfire",ti.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=bt({type:t});static \u0275inj=Ct({providers:[D$,T$]})}return t})();function nY(t,...e){return{ngModule:C$,providers:[{provide:Ly,useFactory:E$(t),multi:!0,deps:[re,it,As,ni,[new We,Ss],...e]}]}}var rY=dt(J0,!0);var iY=dt(Fy,!0);var b$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={},E,sv=sv||{},U=b$||self;function yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ma(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function S$(t){return Object.prototype.hasOwnProperty.call(t,Vy)&&t[Vy]||(t[Vy]=++A$)}var Vy="closure_uid_"+(1e9*Math.random()>>>0),A$=0;function R$(t,e,n){return t.call.apply(t.bind,arguments)}function x$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qe=R$:Qe=x$,Qe.apply(null,arguments)}function id(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function mr(){this.s=this.s,this.o=this.o}var M$=0;mr.prototype.s=!1;mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M$!=0)&&S$(this)};mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ov(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function X0(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(yd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ye(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var N$=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function Ta(t){return/^[\s\xa0]*$/.test(t)}function vd(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function sn(t){return vd().indexOf(t)!=-1}function av(t){return av[" "](t),t}av[" "]=function(){};function P$(t,e){var n=IH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var O$=sn("Opera"),Ps=sn("Trident")||sn("MSIE"),hS=sn("Edge"),Hy=hS||Ps,fS=sn("Gecko")&&!(vd().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge"))&&!(sn("Trident")||sn("MSIE"))&&!sn("Edge"),k$=vd().toLowerCase().indexOf("webkit")!=-1&&!sn("Edge");function pS(){var t=U.document;return t?t.documentMode:void 0}var qy;e:{if(sd="",od=function(){var t=vd();if(fS)return/rv:([^\);]+)(\)|;)/.exec(t);if(hS)return/Edge\/([\d\.]+)/.exec(t);if(Ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(k$)return/WebKit\/(\S+)/.exec(t);if(O$)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),od&&(sd=od?od[1]:""),Ps&&(ad=pS(),ad!=null&&ad>parseFloat(sd))){qy=String(ad);break e}qy=sd}var sd,od,ad,zy;U.document&&Ps?(Uy=pS(),zy=Uy||parseInt(qy,10)||void 0):zy=void 0;var Uy,F$=zy;function Da(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fS){e:{try{av(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:L$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Da.$.h.call(this)}}ke(Da,Ye);var L$={2:"touch",3:"pen",4:"mouse"};Da.prototype.h=function(){Da.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),V$=0;function U$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++V$,this.fa=this.ia=!1}function _d(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function j$(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function gS(t){let e={};for(let n in t)e[n]=t[n];return e}var eS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<eS.length;s++)n=eS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wd(t){this.src=t,this.g={},this.h=0}wd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Wy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new U$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_d(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var uv="closure_lm_"+(1e6*Math.random()|0),jy={};function yS(t,e,n,r,i){if(r&&r.once)return _S(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yS(t,e[s],n,r,i);return null}return n=hv(n),t&&t[Na]?t.O(e,n,Ma(r)?!!r.capture:!!r,i):vS(t,e,n,!1,r,i)}function vS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ma(i)?!!i.capture:!!i,a=dv(t);if(a||(t[uv]=a=new wd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=B$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)N$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(IS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function B$(){function t(n){return e.call(t.src,t.listener,n)}let e=$$;return t}function _S(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_S(t,e[s],n,r,i);return null}return n=hv(n),t&&t[Na]?t.P(e,n,Ma(r)?!!r.capture:!!r,i):vS(t,e,n,!0,r,i)}function wS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wS(t,e[s],n,r,i);else r=Ma(r)?!!r.capture:!!r,n=hv(n),t&&t[Na]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Wy(s,n,r,i),-1<n&&(_d(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=dv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wy(e,n,r,i)),(n=-1<t?e[t]:null)&&lv(n))}function lv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Na])Gy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(IS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dv(e))?(Gy(n,t),n.h==0&&(n.src=null,e[uv]=null)):_d(t)}}}function IS(t){return t in jy?jy[t]:jy[t]="on"+t}function $$(t,e){if(t.fa)t=!0;else{e=new Da(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lv(t),t=n.call(r,e)}return t}function dv(t){return t=t[uv],t instanceof wd?t:null}var By="__closure_events_fn_"+(1e9*Math.random()>>>0);function hv(t){return typeof t=="function"?t:(t[By]||(t[By]=function(e){return t.handleEvent(e)}),t[By])}function Oe(){mr.call(this),this.i=new wd(this),this.S=this,this.J=null}ke(Oe,mr);Oe.prototype[Na]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){wS(this,t,e,n,r)};function He(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ye(e,t);else if(e instanceof Ye)e.target=e.target||t;else{var i=e;e=new Ye(r,t),mS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cd(o,r,!0,e)&&i}if(o=e.g=t,i=cd(o,r,!0,e)&&i,i=cd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=cd(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_d(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Gy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var fv=U.JSON.stringify,Ky=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function H$(){var t=pv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Qy=class{constructor(){this.h=this.g=null}add(e,n){let r=ES.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ES=new Ky(()=>new Yy,t=>t.reset()),Yy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function q$(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function z$(t){U.setTimeout(()=>{throw t},0)}var Ca,ba=!1,pv=new Qy,TS=()=>{let t=U.Promise.resolve(void 0);Ca=()=>{t.then(G$)}},G$=()=>{for(var t;t=H$();){try{t.h.call(t.g)}catch(n){z$(n)}var e=ES;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ba=!1};function Id(t,e){Oe.call(this),this.h=t||1,this.g=e||U,this.j=Qe(this.qb,this),this.l=Date.now()}ke(Id,Oe);E=Id.prototype;E.ga=!1;E.T=null;E.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),He(this,"tick"),this.ga&&(gv(this),this.start()))}};E.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}E.N=function(){Id.$.N.call(this),gv(this),delete this.g};function mv(t,e,n){if(typeof t=="function")n&&(t=Qe(t,n));else if(t&&typeof t.handleEvent=="function")t=Qe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function DS(t){t.g=mv(()=>{t.g=null,t.i&&(t.i=!1,DS(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Jy=class extends mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DS(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Sa(t){mr.call(this),this.h=t,this.g={}}ke(Sa,mr);var tS=[];function CS(t,e,n,r){Array.isArray(n)||(n&&(tS[0]=n.toString()),n=tS);for(var i=0;i<n.length;i++){var s=yS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bS(t){cv(t.g,function(e,n){this.g.hasOwnProperty(n)&&lv(e)},t),t.g={}}Sa.prototype.N=function(){Sa.$.N.call(this),bS(this)};Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ed(){this.g=!0}Ed.prototype.Ea=function(){this.g=!1};function W$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function K$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Y$(t,n)+(r?" "+r:"")})}function Q$(t,e){t.info(function(){return"TIMEOUT: "+e})}Ed.prototype.info=function(){};function Y$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return fv(n)}catch{return e}}var ui={},nS=null;function Td(){return nS=nS||new Oe}ui.Ta="serverreachability";function SS(t){Ye.call(this,ui.Ta,t)}ke(SS,Ye);function Aa(t){let e=Td();He(e,new SS(e))}ui.STAT_EVENT="statevent";function AS(t,e){Ye.call(this,ui.STAT_EVENT,t),this.stat=e}ke(AS,Ye);function st(t){let e=Td();He(e,new AS(e,t))}ui.Ua="timingevent";function RS(t,e){Ye.call(this,ui.Ua,t),this.size=e}ke(RS,Ye);function Pa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var Dd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yv(){}yv.prototype.h=null;function rS(t){return t.h||(t.h=t.i())}function MS(){}var Oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vv(){Ye.call(this,"d")}ke(vv,Ye);function _v(){Ye.call(this,"c")}ke(_v,Ye);var Zy;function Cd(){}ke(Cd,yv);Cd.prototype.g=function(){return new XMLHttpRequest};Cd.prototype.i=function(){return{}};Zy=new Cd;function ka(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sa(this),this.P=J$,t=Hy?125:void 0,this.V=new Id(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NS}function NS(){this.i=null,this.g="",this.h=!1}var J$=45e3,PS={},Xy={};E=ka.prototype;E.setTimeout=function(t){this.P=t};function ev(t,e,n){t.L=1,t.A=Sd(Fn(e)),t.u=n,t.S=!0,OS(t,null)}function OS(t,e){t.G=Date.now(),Fa(t),t.B=Fn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$S(n.i,"t",r),t.o=0,n=t.l.J,t.h=new NS,t.g=uA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jy(Qe(t.Pa,t,t.g),t.O)),CS(t.U,t.g,"readystatechange",t.nb),e=t.I?gS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Aa(),W$(t.j,t.v,t.B,t.m,t.W,t.u)}E.nb=function(t){t=t.target;let e=this.M;e&&on(t)==3?e.l():this.Pa(t)};E.Pa=function(t){try{if(t==this.g)e:{let l=on(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Hy||this.g&&(this.h.h||this.g.ja()||aS(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Aa(3):Aa(2)),bd(this);var n=this.g.da();this.ca=n;t:if(kS(this)){var r=aS(this.g);t="";var i=r.length,s=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Ea(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,K$(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ta(a)){var u=a;break t}}u=null}if(n=u)Ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tv(this,n);else{this.i=!1,this.s=3,st(12),oi(this),Ea(this);break e}}this.S?(FS(this,l,o),Hy&&this.i&&l==3&&(CS(this.U,this.V,"tick",this.mb),this.V.start())):(Ms(this.j,this.m,o,null),tv(this,o)),l==4&&oi(this),this.i&&!this.J&&(l==4?sA(this.l,this):(this.i=!1,Fa(this)))}else vH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),oi(this),Ea(this)}}}catch{}finally{}};function kS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function FS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Z$(t,n),i==Xy){e==4&&(t.s=4,st(14),r=!1),Ms(t.j,t.m,null,"[Incomplete Response]");break}else if(i==PS){t.s=4,st(15),Ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ms(t.j,t.m,i,null),tv(t,i);kS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,st(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cv(e),e.M=!0,st(11))):(Ms(t.j,t.m,n,"[Invalid Chunked Response]"),oi(t),Ea(t))}E.mb=function(){if(this.g){var t=on(this.g),e=this.g.ja();this.o<e.length&&(bd(this),FS(this,t,e),this.i&&t!=4&&Fa(this))}};function Z$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Xy:(n=Number(e.substring(n,r)),isNaN(n)?PS:(r+=1,r+n>e.length?Xy:(e=e.slice(r,r+n),t.o=r+n,e)))}E.cancel=function(){this.J=!0,oi(this)};function Fa(t){t.Y=Date.now()+t.P,LS(t,t.P)}function LS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Pa(Qe(t.lb,t),e)}function bd(t){t.C&&(U.clearTimeout(t.C),t.C=null)}E.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Q$(this.j,this.B),this.L!=2&&(Aa(),st(17)),oi(this),this.s=2,Ea(this)):LS(this,this.Y-t)};function Ea(t){t.l.H==0||t.J||sA(t.l,t)}function oi(t){bd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gv(t.V),bS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nv(n.i,t))){if(!t.K&&nv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)fd(n),xd(n);else break e;Dv(n),st(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pa(Qe(n.ib,n),6e3));if(1>=zS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ai(n,11)}else if((t.K||n.g==t)&&fd(n),!Ta(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(wv(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,he(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=cA(r,r.J?r.pa:null,r.Y),o.K){GS(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(bd(a),Fa(a)),r.g=o}else rA(r);0<n.j.length&&Md(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):Tv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Aa(4)}catch{}}function X$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function eH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function VS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eH(t),r=X$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var US=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ci){this.h=t.h,dd(this,t.j),this.s=t.s,this.g=t.g,hd(this,t.m),this.l=t.l;var e=t.i,n=new Ra;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iS(this,n),this.o=t.o}else t&&(e=String(t).match(US))?(this.h=!1,dd(this,e[1]||"",!0),this.s=wa(e[2]||""),this.g=wa(e[3]||"",!0),hd(this,e[4]),this.l=wa(e[5]||"",!0),iS(this,e[6]||"",!0),this.o=wa(e[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ia(e,sS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ia(e,sS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ia(n,n.charAt(0)=="/"?iH:rH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ia(n,oH)),t.join("")};function Fn(t){return new ci(t)}function dd(t,e,n){t.j=n?wa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iS(t,e,n){e instanceof Ra?(t.i=e,aH(t.i,t.h)):(n||(e=Ia(e,sH)),t.i=new Ra(e,t.h))}function he(t,e,n){t.i.set(e,n)}function Sd(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ia(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sS=/[#\/\?@]/g,rH=/[#\?:]/g,iH=/[#\?]/g,sH=/[#\?@]/g,oH=/#/g;function Ra(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&tH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}E=Ra.prototype;E.add=function(t,e){yr(this),this.i=null,t=Os(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jS(t,e){yr(t),e=Os(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BS(t,e){return yr(t),e=Os(t,e),t.g.has(e)}E.forEach=function(t,e){yr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};E.ta=function(){yr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};E.Z=function(t){yr(this);let e=[];if(typeof t=="string")BS(this,t)&&(e=e.concat(this.g.get(Os(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};E.set=function(t,e){return yr(this),this.i=null,t=Os(this,t),BS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};E.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $S(t,e,n){jS(t,e),0<n.length&&(t.i=null,t.g.set(Os(t,e),ov(n)),t.h+=n.length)}E.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Os(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aH(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jS(this,r),$S(this,i,n))},t)),t.j=e}var cH=class{constructor(t,e){this.g=t,this.map=e}};function HS(t){this.l=t||uH,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uH=10;function qS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zS(t){return t.h?1:t.g?t.g.size:0}function nv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wv(t,e){t.g?t.g.add(e):t.h=e}function GS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HS.prototype.cancel=function(){if(this.i=WS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function WS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return ov(t.i)}var lH=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function dH(){this.g=new lH}function hH(t,e,n){let r=n||"";try{VS(t,function(i,s){let o=i;Ma(i)&&(o=fv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fH(t,e){let n=new Ed;if(U.Image){let r=new Image;r.onload=id(ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=id(ud,n,r,"TestLoadImage: error",!1,e),r.onabort=id(ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=id(ud,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ud(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function La(t){this.l=t.ec||null,this.j=t.ob||!1}ke(La,yv);La.prototype.g=function(){return new Ad(this.l,this.j)};La.prototype.i=function(t){return function(){return t}}({});function Ad(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(Ad,Oe);var Iv=0;E=Ad.prototype;E.open=function(t,e){if(this.readyState!=Iv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xa(this)};E.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=Iv};E.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}E.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Va(this):xa(this),this.readyState==3&&KS(this)}};E.Za=function(t){this.g&&(this.response=this.responseText=t,Va(this))};E.Ya=function(t){this.g&&(this.response=t,Va(this))};E.ka=function(){this.g&&Va(this)};function Va(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xa(t)}E.setRequestHeader=function(t,e){this.v.append(t,e)};E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};E.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pH=U.JSON.parse;function ve(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QS,this.L=this.M=!1}ke(ve,Oe);var QS="",gH=/^https?$/i,mH=["POST","PUT"];E=ve.prototype;E.Oa=function(t){this.M=t};E.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zy.g(),this.C=this.u?rS(this.u):rS(Zy),this.g.onreadystatechange=Qe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){oS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=dS(mH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZS(this),0<this.B&&((this.L=yH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qe(this.ua,this)):this.A=mv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oS(this,s)}};function yH(t){return Ps&&typeof t.timeout=="number"&&t.ontimeout!==void 0}E.ua=function(){typeof sv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function oS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YS(t),Rd(t)}function YS(t){t.F||(t.F=!0,He(t,"complete"),He(t,"error"))}E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,He(this,"complete"),He(this,"abort"),Rd(this))};E.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),ve.$.N.call(this)};E.La=function(){this.s||(this.G||this.v||this.l?JS(this):this.kb())};E.kb=function(){JS(this)};function JS(t){if(t.h&&typeof sv<"u"&&(!t.C[1]||on(t)!=4||t.da()!=2)){if(t.v&&on(t)==4)mv(t.La,0,t);else if(He(t,"readystatechange"),on(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(US)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!gH.test(i?i.toLowerCase():"")}n=r}if(n)He(t,"complete"),He(t,"success");else{t.m=6;try{var s=2<on(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",YS(t)}}finally{Rd(t)}}}}function Rd(t,e){if(t.g){ZS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||He(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}E.isActive=function(){return!!this.g};function on(t){return t.g?t.g.readyState:0}E.da=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}};E.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};E.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pH(e)}};function aS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vH(t){let e={};t=(t.g&&2<=on(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ta(t[r]))continue;var n=q$(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}j$(e,function(r){return r.join(", ")})}E.Ia=function(){return this.m};E.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XS(t){let e="";return cv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ev(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):he(t,e,n))}function va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eA(t){this.Ga=0,this.j=[],this.l=new Ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=va("baseRetryDelayMs",5e3,t),this.hb=va("retryDelaySeedMs",1e4,t),this.eb=va("forwardChannelMaxRetries",2,t),this.xa=va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HS(t&&t.concurrentRequestLimit),this.Ja=new dH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}E=eA.prototype;E.ra=8;E.H=1;function Tv(t){if(tA(t),t.H==3){var e=t.W++,n=Fn(t.I);if(he(n,"SID",t.K),he(n,"RID",e),he(n,"TYPE","terminate"),Ua(t,n),e=new ka(t,t.l,e),e.L=2,e.A=Sd(Fn(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=uA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fa(e)}aA(t)}function xd(t){t.g&&(Cv(t),t.g.cancel(),t.g=null)}function tA(t){xd(t),t.u&&(U.clearTimeout(t.u),t.u=null),fd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Md(t){if(!qS(t.i)&&!t.m){t.m=!0;var e=t.Na;Ca||TS(),ba||(Ca(),ba=!0),pv.add(e,t),t.C=0}}function _H(t,e){return zS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Pa(Qe(t.Na,t,e),oA(t,t.C)),t.C++,!0)}E.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ka(this,this.l,t),s=this.s;if(this.U&&(s?(s=gS(s),mS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nA(this,i,e),n=Fn(this.I),he(n,"RID",t),he(n,"CVER",22),this.F&&he(n,"X-HTTP-Session-Id",this.F),Ua(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XS(s)))+"&"+e:this.o&&Ev(n,this.o,s)),wv(this.i,i),this.bb&&he(n,"TYPE","init"),this.P?(he(n,"$req",e),he(n,"SID","null"),i.aa=!0,ev(i,n,null)):ev(i,n,e),this.H=2}}else this.H==3&&(t?cS(this,t):this.j.length==0||qS(this.i)||cS(this))};function cS(t,e){var n;e?n=e.m:n=t.W++;let r=Fn(t.I);he(r,"SID",t.K),he(r,"RID",n),he(r,"AID",t.V),Ua(t,r),t.o&&t.s&&Ev(r,t.o,t.s),n=new ka(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wv(t.i,n),ev(n,r,e)}function Ua(t,e){t.na&&cv(t.na,function(n,r){he(e,r,n)}),t.h&&VS({},function(n,r){he(e,r,n)})}function nA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qe(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{hH(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ca||TS(),ba||(Ca(),ba=!0),pv.add(e,t),t.A=0}}function Dv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Pa(Qe(t.Ma,t),oA(t,t.A)),t.A++,!0)}E.Ma=function(){if(this.u=null,iA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pa(Qe(this.jb,this),t)}};E.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,st(10),xd(this),iA(this))};function Cv(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function iA(t){t.g=new ka(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fn(t.wa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.V),he(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&he(e,"TO",t.qa),he(e,"TYPE","xmlhttp"),Ua(t,e),t.o&&t.s&&Ev(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sd(Fn(e)),n.u=null,n.S=!0,OS(n,t)}E.ib=function(){this.v!=null&&(this.v=null,xd(this),Dv(this),st(19))};function fd(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function sA(t,e){var n=null;if(t.g==e){fd(t),Cv(t),t.g=null;var r=2}else if(nv(t.i,e))n=e.F,GS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Td(),He(r,new RS(r,n)),Md(t)}else rA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&_H(t,e)||r==2&&Dv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ai(t,5);break;case 4:ai(t,10);break;case 3:ai(t,6);break;default:ai(t,2)}}}function oA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qe(t.pb,t);n||(n=new ci("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||dd(n,"https"),Sd(n)),fH(n.toString(),r)}else st(2);t.H=0,t.h&&t.h.za(e),aA(t),tA(t)}E.pb=function(t){t?(this.l.info("Successfully pinged google.com"),st(2)):(this.l.info("Failed to ping google.com"),st(1))};function aA(t){if(t.H=0,t.ma=[],t.h){let e=WS(t.i);(e.length!=0||t.j.length!=0)&&(X0(t.ma,e),X0(t.ma,t.j),t.i.i.length=0,ov(t.j),t.j.length=0),t.h.ya()}}function cA(t,e,n){var r=n instanceof ci?Fn(n):new ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),hd(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ci(null);r&&dd(s,r),e&&(s.g=e),i&&hd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&he(r,n,e),he(r,"VER",t.ra),Ua(t,r),r}function uA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ve(new La({ob:n})):new ve(t.va),e.Oa(t.J),e}E.isActive=function(){return!!this.h&&this.h.isActive(this)};function lA(){}E=lA.prototype;E.Ba=function(){};E.Aa=function(){};E.za=function(){};E.ya=function(){};E.isActive=function(){return!0};E.Va=function(){};function pd(){if(Ps&&!(10<=Number(F$)))throw Error("Environmental error: no available transport.")}pd.prototype.g=function(t,e){return new It(t,e)};function It(t,e){Oe.call(this),this.g=new eA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ta(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ta(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ks(this)}ke(It,Oe);It.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cA(t,null,t.Y),Md(t)};It.prototype.close=function(){Tv(this.g)};It.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fv(t),t=n);e.j.push(new cH(e.fb++,t)),e.H==3&&Md(e)};It.prototype.N=function(){this.g.h=null,delete this.j,Tv(this.g),delete this.g,It.$.N.call(this)};function dA(t){vv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(dA,vv);function hA(){_v.call(this),this.status=1}ke(hA,_v);function ks(t){this.g=t}ke(ks,lA);ks.prototype.Ba=function(){He(this.g,"a")};ks.prototype.Aa=function(t){He(this.g,new dA(t))};ks.prototype.za=function(t){He(this.g,new hA)};ks.prototype.ya=function(){He(this.g,"b")};function wH(){this.blockSize=-1}function Ut(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(Ut,wH);Ut.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $y(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ut.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$y(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$y(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$y(this,r),i=0;break}}this.h=i,this.i+=e};Ut.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var IH={};function bv(t){return-128<=t&&128>t?P$(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function an(t){if(isNaN(t)||!isFinite(t))return Ns;if(0>t)return $e(an(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rv;return new se(e,0)}function fA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $e(fA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=an(Math.pow(e,8)),r=Ns,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=an(Math.pow(e,s)),r=r.R(s).add(an(o))):(r=r.R(n),r=r.add(an(o)))}return r}var rv=4294967296,Ns=bv(0),iv=bv(1),uS=bv(16777216);E=se.prototype;E.ea=function(){if(xt(this))return-$e(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rv+r)*e,e*=rv}return t};E.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kn(this))return"0";if(xt(this))return"-"+$e(this).toString(t);for(var e=an(Math.pow(t,6)),n=this,r="";;){var i=md(n,e).g;n=gd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,kn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};E.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function xt(t){return t.h==-1}E.X=function(t){return t=gd(this,t),xt(t)?-1:kn(t)?0:1};function $e(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(iv)}E.abs=function(){return xt(this)?$e(this):this};E.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function gd(t,e){return t.add($e(e))}E.R=function(t){if(kn(this)||kn(t))return Ns;if(xt(this))return xt(t)?$e(this).R($e(t)):$e($e(this).R(t));if(xt(t))return $e(this.R($e(t)));if(0>this.X(uS)&&0>t.X(uS))return an(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,ld(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ld(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ld(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ld(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function ld(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _a(t,e){this.g=t,this.h=e}function md(t,e){if(kn(e))throw Error("division by zero");if(kn(t))return new _a(Ns,Ns);if(xt(t))return e=md($e(t),e),new _a($e(e.g),$e(e.h));if(xt(e))return e=md(t,$e(e)),new _a($e(e.g),e.h);if(30<t.g.length){if(xt(t)||xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=iv,r=e;0>=r.X(t);)n=lS(n),r=lS(r);var i=xs(n,1),s=xs(r,1);for(r=xs(r,2),n=xs(n,2);!kn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xs(r,1),n=xs(n,1)}return e=gd(t,i.R(e)),new _a(i,e)}for(i=Ns;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=an(n),o=s.R(e);xt(o)||0<o.X(t);)n-=r,s=an(n),o=s.R(e);kn(s)&&(s=iv),i=i.add(s),t=gd(t,o)}return new _a(i,t)}E.gb=function(t){return md(this,t).h};E.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};E.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};E.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function lS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function xs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}pd.prototype.createWebChannel=pd.prototype.g;It.prototype.send=It.prototype.u;It.prototype.open=It.prototype.m;It.prototype.close=It.prototype.close;Dd.NO_ERROR=0;Dd.TIMEOUT=8;Dd.HTTP_ERROR=6;xS.COMPLETE="complete";MS.EventType=Oa;Oa.OPEN="a";Oa.CLOSE="b";Oa.ERROR="c";Oa.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;Ut.prototype.digest=Ut.prototype.l;Ut.prototype.reset=Ut.prototype.reset;Ut.prototype.update=Ut.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=an;se.fromString=fA;var pA=jt.createWebChannelTransport=function(){return new pd},gA=jt.getStatEventTarget=function(){return Td()},Nd=jt.ErrorCode=Dd,mA=jt.EventType=xS,yA=jt.Event=ui,Sv=jt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aY=jt.FetchXmlHttpFactory=La,ja=jt.WebChannel=MS,vA=jt.XhrIo=ve,_A=jt.Md5=Ut,li=jt.Integer=se;var wA="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var to="10.7.2";var vi=new ur("@firebase/firestore");function Ba(){return vi.logLevel}function T(t,...e){if(vi.logLevel<=Y.DEBUG){let n=e.map(fw);vi.debug(`Firestore (${to}): ${t}`,...n)}}function fn(t,...e){if(vi.logLevel<=Y.ERROR){let n=e.map(fw);vi.error(`Firestore (${to}): ${t}`,...n)}}function $s(t,...e){if(vi.logLevel<=Y.WARN){let n=e.map(fw);vi.warn(`Firestore (${to}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function L(t="Unexpected state"){let e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function le(t,e){t||L()}function G(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $t=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ld=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},Pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ov=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new $t;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $t,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $t)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new Ld(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new Fe(e)}},kv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new Lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function EH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=EH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function te(t,e){return t<e?-1:t>e?1:0}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ne=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ne(0,0))}static max(){return new t(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&L(),r===void 0?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ge=class t extends Ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},TH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends Ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return TH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var N=class t{constructor(e){this.path=e}static fromPath(e){return new t(ge.fromString(e))}static fromName(e){return new t(ge.fromString(e).popFirst(5))}static empty(){return new t(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ge(e.slice()))}};var Uv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Uv.UNKNOWN_ID=-1;function DH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new _i(i,N.empty(),e)}function CH(t){return new _i(t.readTime,t.key,-1)}var _i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(z.min(),N.empty(),-1)}static max(){return new t(z.max(),N.empty(),-1)}};function bH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}var SH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ic(t){return p(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==SH)throw t;T("LocalStore","Unexpectedly lost primary lease")})}var w=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Bv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new $t,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new gi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=pw(r.target.error);this.V.reject(new gi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new gi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Hv(n)}},jd=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ye())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return T("SimpleDb","Removing database:",e),di(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Rl())return!1;if(t.C())return!0;let e=ye(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(T("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new gi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new D(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new D(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new gi(e,o))},i.onupgradeneeded=s=>{T("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{T("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Bv.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),w.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(T("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},$v=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return di(this.k.delete())}},gi=class extends D{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function sc(t){return t.name==="IndexedDbTransactionError"}var Hv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(T("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),di(r)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),di(this.store.add(e))}get(e){return di(this.store.get(e)).next(n=>(n===void 0&&(n=null),T("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),di(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),di(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new w((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new w((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){T("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new w((r,i)=>{n.onerror=s=>{let o=pw(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new w((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new $v(a),u=n(a.primaryKey,a.value,c);if(u instanceof w){let l=u.catch(d=>(c.done(),w.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>w.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function di(t){return new w((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=pw(r.target.error);n(i)}})}var IA=!1;function pw(t){let e=jd.S(ye());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IA||(IA=!0,setTimeout(()=>{throw r},0)),r}}return t}var ZA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function yh(t){return t==null}function Wa(t){return t===0&&1/t==-1/0}function AH(t){return typeof t=="number"&&Number.isInteger(t)&&!Wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var RH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yY=[...RH,"documentOverlays"],xH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MH=xH,vY=[...MH,"indexConfiguration","indexState","indexEntries"];function EA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var we=class t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}},Us=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class t{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var un=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ze(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $d("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ot.EMPTY_BYTE_STRING=new ot("");var NH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(le(!!t),typeof t=="string"){let e=0,n=NH.exec(t);if(le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}function gw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mw(t){let e=t.mapValue.fields.__previous_value__;return gw(e)?mw(e):e}function Ka(t){let e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}var qv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gw(t)?4:eR(t)?9007199254740991:10:L()}function pn(t,e){if(t===e)return!0;let n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=_r(i.timestampValue),a=_r(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wr(i.bytesValue).isEqual(wr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _e(i.geoPointValue.latitude)===_e(s.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _e(i.integerValue)===_e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=_e(i.doubleValue),a=_e(s.doubleValue);return o===a?Wa(o)===Wa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(EA(o)!==EA(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!pn(o[c],a[c])))return!1;return!0}(t,e);default:return L()}}function Qa(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function qs(t,e){if(t===e)return 0;let n=wi(t),r=wi(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=_e(s.integerValue||s.doubleValue),c=_e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return TA(t.timestampValue,e.timestampValue);case 4:return TA(Ka(t),Ka(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=wr(s),c=wr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=te(a[u],c[u]);if(l!==0)return l}return te(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=te(_e(s.latitude),_e(o.latitude));return a!==0?a:te(_e(s.longitude),_e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=qs(a[u],c[u]);if(l)return l}return te(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pd.mapValue&&o===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(o===Pd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=te(c[d],l[d]);if(h!==0)return h;let f=qs(a[c[d]],u[l[d]]);if(f!==0)return f}return te(c.length,l.length)}(t.mapValue,e.mapValue);default:throw L()}}function TA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);let n=_r(t),r=_r(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function zs(t){return zv(t)}function zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=_r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=zv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${zv(n.fields[o])}`;return i+"}"}(t.mapValue):L()}function DA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gv(t){return!!t&&"integerValue"in t}function yw(t){return!!t&&"arrayValue"in t}function CA(t){return!!t&&"nullValue"in t}function bA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return no(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Bt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ha(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){no(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ha(this.value))}};function tR(t){let e=[];return no(t.fields,(n,r)=>{let i=new Et([n]);if(kd(r)){let s=tR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}var Ht=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,z.min(),z.min(),z.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,z.min(),z.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,z.min(),z.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function SA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=N.comparator(N.fromName(o.referenceValue),n.key):r=qs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var Ws=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function PH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qd=class{},Ae=class t extends qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kv(e,n,r):n==="array-contains"?new Jv(e,r):n==="in"?new Zv(e,r):n==="not-in"?new Xv(e,r):n==="array-contains-any"?new e_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qv(e,r):new Yv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qs(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qt=class t extends qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return nR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function nR(t){return t.op==="and"}function rR(t){return OH(t)&&nR(t)}function OH(t){for(let e of t.filters)if(e instanceof qt)return!1;return!0}function Wv(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(rR(t))return t.filters.map(e=>Wv(e)).join(",");{let e=t.filters.map(n=>Wv(n)).join(",");return`${t.op}(${e})`}}function iR(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iR(o,i.filters[a]),!0):!1}(t,e):void L()}function sR(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof qt?function(n){return n.op.toString()+" {"+n.getFilters().map(sR).join(" ,")+"}"}(t):"Filter"}var Kv=class extends Ae{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){let n=N.comparator(e.key,this.key);return this.matchesComparison(n)}},Qv=class extends Ae{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yv=class extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}var Jv=class extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return yw(n)&&Qa(n.arrayValue,this.value)}},Zv=class extends Ae{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}},Xv=class extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}},e_=class extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}};var t_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function RA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new t_(t,e,n,r,i,s,o)}function vw(t){let e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.ce=n}return e.ce}function _w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AA(t.startAt,e.startAt)&&AA(t.endAt,e.endAt)}function n_(t){return N.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ii=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function kH(t,e,n,r,i,s,o,a){return new Ii(t,e,n,r,i,s,o,a)}function vh(t){return new Ii(t)}function xA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aR(t){return t.collectionGroup!==null}function qa(t){let e=G(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(Et.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ws(s,r))}),n.has(Et.keyField().canonicalString())||e.le.push(new Ws(Et.keyField(),r))}return e.le}function dn(t){let e=G(t);return e.he||(e.he=FH(e,qa(t))),e.he}function FH(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ws(i.field,s)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function r_(t,e){let n=t.filters.concat([e]);return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i_(t,e,n){return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return _w(dn(t),dn(e))&&t.limitType===e.limitType}function cR(t){return`${vw(dn(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sR(i)).join(", ")}]`),yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=SA(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,qa(r),i)||r.endAt&&!function(o,a,c){let u=SA(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,qa(r),i))}(t,e)}function LH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uR(t){return(e,n)=>{let r=!1;for(let i of qa(t)){let s=VH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VH(t,e,n){let r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?qs(c,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}var Ir=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return XA(this.inner)}size(){return this.innerSize}};var UH=new we(N.comparator);function Ln(){return UH}var lR=new we(N.comparator);function $a(...t){let e=lR;for(let n of t)e=e.insert(n.key,n);return e}function dR(t){let e=lR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return za()}function hR(){return za()}function za(){return new Ir(t=>t.toString(),(t,e)=>t.isEqual(e))}var jH=new we(N.comparator),BH=new Ze(N.comparator);function J(...t){let e=BH;for(let n of t)e=e.add(n);return e}var $H=new Ze(te);function HH(){return $H}function fR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(e)?"-0":e}}function pR(t){return{integerValue:""+t}}function qH(t,e){return AH(e)?pR(e):fR(t,e)}var Ks=class{constructor(){this._=void 0}};function zH(t,e,n){return t instanceof Qs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gw(s)&&(s=mw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ei?mR(t,e):t instanceof Ti?yR(t,e):function(i,s){let o=gR(i,s),a=MA(o)+MA(i.Ie);return Gv(o)&&Gv(i.Ie)?pR(a):fR(i.serializer,a)}(t,e)}function GH(t,e,n){return t instanceof Ei?mR(t,e):t instanceof Ti?yR(t,e):n}function gR(t,e){return t instanceof Ys?function(r){return Gv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},Ei=class extends Ks{constructor(e){super(),this.elements=e}};function mR(t,e){let n=vR(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ti=class extends Ks{constructor(e){super(),this.elements=e}};function yR(t,e){let n=vR(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var Ys=class extends Ks{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function MA(t){return _e(t.integerValue||t.doubleValue)}function vR(t){return yw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ei&&i instanceof Ei||r instanceof Ti&&i instanceof Ti?Hs(r.elements,i.elements,pn):r instanceof Ys&&i instanceof Ys?pn(r.Ie,i.Ie):r instanceof Qs&&i instanceof Qs}(t.transform,e.transform)}var s_=class{constructor(e,n){this.version=e,this.transformResults=n}},mi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Js=class{};function _R(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,mi.none()):new Di(t.key,t.data,mi.none());{let n=t.data,r=Bt.empty(),i=new Ze(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vn(t.key,r,new un(i.toArray()),mi.none())}}function KH(t,e,n){t instanceof Di?function(i,s,o){let a=i.value.clone(),c=PA(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vn?function(i,s,o){if(!Fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=PA(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(wR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ga(t,e,n,r){return t instanceof Di?function(s,o,a,c){if(!Fd(s.precondition,o))return a;let u=s.value.clone(),l=OA(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vn?function(s,o,a,c){if(!Fd(s.precondition,o))return a;let u=OA(s.fieldTransforms,c,o),l=o.data;return l.setAll(wR(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=gR(r.transform,i||null);s!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,s))}return n||null}function NA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(s,o)=>WH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Di=class extends Js{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Vn=class extends Js{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function PA(t,e,n){let r=new Map;le(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GH(o,a,n[i]))}return r}function OA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,zH(s,o,e))}return r}var zd=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},o_=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var a_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&KH(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=_R(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>NA(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>NA(n,r))}},c_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length);let i=function(){return jH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var u_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var be,X;function YH(t){switch(t){default:return L();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function IR(t){if(t===void 0)return fn("GRPC error has no .code"),v.UNKNOWN;switch(t){case be.OK:return v.OK;case be.CANCELLED:return v.CANCELLED;case be.UNKNOWN:return v.UNKNOWN;case be.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case be.INTERNAL:return v.INTERNAL;case be.UNAVAILABLE:return v.UNAVAILABLE;case be.UNAUTHENTICATED:return v.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case be.NOT_FOUND:return v.NOT_FOUND;case be.ALREADY_EXISTS:return v.ALREADY_EXISTS;case be.PERMISSION_DENIED:return v.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case be.ABORTED:return v.ABORTED;case be.OUT_OF_RANGE:return v.OUT_OF_RANGE;case be.UNIMPLEMENTED:return v.UNIMPLEMENTED;case be.DATA_LOSS:return v.DATA_LOSS;default:return L()}}(X=be||(be={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var kA=null;function JH(){return new TextEncoder}var ZH=new li([4294967295,4294967295],0);function FA(t){let e=JH().encode(t),n=new _A;return n.update(e),new Uint8Array(n.digest())}function LA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}var d_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fi(`Invalid padding: ${n}`);if(r<0)throw new fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=li.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(ZH)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=FA(e),[r,i]=LA(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=FA(e),[r,i]=LA(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},fi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(z.min(),i,new we(te),Ln(),J())}},Ya=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,J(),J(),J())}};var js=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Wd=class{constructor(e,n){this.targetId=e,this.fe=n}},Kd=class{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Qd=class{constructor(){this.ge=0,this.pe=UA(),this.ye=ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Ya(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=UA()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,le(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},h_=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ln(),this.Qe=VA(),this.Ke=new we(te)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(n_(s))if(r===0){let o=new N(s.path);this.We(n,o,Ht.newNoDocument(o,z.min()))}else le(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}kA?.tt(function(l,d,h,f,g){var y,m,_,C,Z,H;let de={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(de.bloomFilter={applied:g===0,hashCount:(y=ne?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(C=(_=(m=ne?.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&C!==void 0?C:0,padding:(H=(Z=ne?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&H!==void 0?H:0,mightContain:Xe=>{var Un;return(Un=f?.mightContain(Xe))!==null&&Un!==void 0&&Un}}),de}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=wr(r).toUint8Array()}catch(c){if(c instanceof $d)return $s("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new d_(o,i,s)}catch(c){return $s(c instanceof fi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&n_(a.target)){let c=new N(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=J();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Gd(e,n,this.Ke,this.qe,r);return this.qe=Ln(),this.Qe=VA(),this.Ke=new we(te),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Qd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ze(te),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function VA(){return new we(N.comparator)}function UA(){return new we(N.comparator)}var XH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tq=(()=>({and:"AND",or:"OR"}))(),f_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function p_(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ER(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nq(t,e){return Yd(t,e.toTimestamp())}function hn(t){return le(!!t),z.fromTimestamp(function(n){let r=_r(n);return new Ne(r.seconds,r.nanos)}(t))}function ww(t,e){return g_(t,e).canonicalString()}function g_(t,e){let n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TR(t){let e=ge.fromString(t);return le(AR(e)),e}function m_(t,e){return ww(t.databaseId,e.path)}function Av(t,e){let n=TR(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(CR(n))}function DR(t,e){return ww(t.databaseId,e)}function rq(t){let e=TR(t);return e.length===4?ge.emptyPath():CR(e)}function y_(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jA(t,e,n){return{name:m_(t,e),fields:n.value.mapValue.fields}}function iq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(le(l===void 0||typeof l=="string"),ot.fromBase64String(l||"")):(le(l===void 0||l instanceof Uint8Array),ot.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?v.UNKNOWN:IR(u.code);return new D(l,u.message||"")}(o);n=new Kd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Av(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):z.min(),a=new Bt({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new js(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Av(t,r.document),s=r.readTime?hn(r.readTime):z.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new js([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Av(t,r.document),s=r.removedTargetIds||[];n=new js([],s,i,null)}else{if(!("filter"in e))return L();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new l_(i,s),a=r.targetId;n=new Wd(a,o)}}return n}function sq(t,e){let n;if(e instanceof Di)n={update:jA(t,e.key,e.value)};else if(e instanceof zd)n={delete:m_(t,e.key)};else if(e instanceof Vn)n={update:jA(t,e.key,e.data),updateMask:pq(e.fieldMask)};else{if(!(e instanceof o_))return L();n={verify:m_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Qs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ei)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:L()}(t,e.precondition)),n}function oq(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(z.min())&&(o=hn(s)),new s_(o,i.transformResults||[])}(n,e))):[]}function aq(t,e){return{documents:[DR(t,e.path)]}}function cq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DR(t,i);let s=function(u){if(u.length!==0)return SR(qt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ls(h.field),direction:dq(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=p_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function uq(t){let e=rq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){le(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=bR(d);return h instanceof qt&&rR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Ws(Vs(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,yh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Gs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Gs(f,h)}(n.endAt)),kH(e,i,o,s,a,"F",c,u)}function lq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Vs(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Vs(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Vs(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(Vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qt.create(n.compositeFilter.filters.map(r=>bR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L()}function dq(t){return XH[t]}function hq(t){return eq[t]}function fq(t){return tq[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Vs(t){return Et.fromServerFormat(t.fieldPath)}function SR(t){return t instanceof Ae?function(n){if(n.op==="=="){if(bA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(CA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(CA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:hq(n.op),value:n.value}}}(t):t instanceof qt?function(n){let r=n.getFilters().map(i=>SR(i));return r.length===1?r[0]:{compositeFilter:{op:fq(n.op),filters:r}}}(t):L()}function pq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ja=class t{constructor(e,n,r,i,s=z.min(),o=z.min(),a=ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var v_=class{constructor(e){this.ct=e}};function gq(t){let e=uq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i_(e,e.limit,"L"):e}var Jd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Wa(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(wr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?eR(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):L()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),N.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Jd.bt=new Jd;var __=class{constructor(){this._n=new w_}addToCollectionParentIndex(e,n){return this._n.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(_i.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}},w_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ge.comparator)).toArray()}};var wY=new Uint8Array(0);var cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Za=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var I_=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var E_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var T_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ga(r.mutation,i,un.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){let i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$a();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln(),o=za(),a=function(){return za()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Vn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Ga(l.mutation,u,l.mutation.getFieldMask(),Ne.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new E_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=za(),i=new we((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||un.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||J()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=hR();l.forEach(h=>{if(!s.has(h)){let f=_R(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(hi()),a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,J())).next(l=>({batchId:a,changes:dR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=$a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=$a();return this.indexManager.getCollectionParents(e,s).next(a=>w.forEach(a,c=>{let u=function(d,h){return new Ii(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Ht.newInvalidDocument(l)))});let a=$a();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Ga(l.mutation,u,un.empty(),Ne.now()),wh(n,u)&&(a=a.insert(c,u))}),a})}};var D_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return w.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),w.resolve()}getNamedQuery(e,n){return w.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:gq(i.bundledQuery),readTime:hn(i.readTime)}}(n)),w.resolve()}};var C_=class{constructor(){this.overlays=new we(N.comparator),this.hr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){let r=hi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){let i=hi(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new we((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=hi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=hi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u_(n,r));let s=this.hr.get(n);s===void 0&&(s=J(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Xa=class{constructor(){this.Pr=new Ze(Se.Ir),this.Tr=new Ze(Se.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Se(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Se(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new N(new ge([])),r=new Se(n,e),i=new Se(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new N(new ge([])),r=new Se(n,e),i=new Se(n,e+1),s=J();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Se(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Se=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return N.comparator(e.key,n.key)||te(e.pr,n.pr)}static Er(e,n){return te(e.pr,n.pr)||N.comparator(e.key,n.key)}};var b_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ze(Se.Ir)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new a_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Se(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Se(n,0),i=new Se(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(te);return n.forEach(i=>{let s=new Se(i,0),o=new Se(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),w.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;N.isDocumentKey(s)||(s=s.child(""));let o=new Se(new N(s),0),a=new Ze(te);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),w.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return w.forEach(n.mutations,i=>{let s=new Se(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Se(n,0),i=this.wr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var S_=class{constructor(e){this.vr=e,this.docs=function(){return new we(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln(),o=n.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bH(CH(l),r)<=0||(i.has(l.key)||wh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}Fr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A_(this)}getSize(e){return w.resolve(this.size)}},A_=class extends I_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var R_=class{constructor(e){this.persistence=e,this.Mr=new Ir(n=>vw(n),_w),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Xa,this.targetCount=0,this.Br=Za.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),w.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.qn(n),w.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),w.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Nr.containsKey(n))}};var x_=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new ZA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new R_(this),this.indexManager=new __,this.remoteDocumentCache=function(i){return new S_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new v_(n),this.$r=new D_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new b_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);let i=new M_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return w.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},M_=class extends jv{constructor(e){super(),this.currentSequenceNumber=e}},N_=class t{constructor(e){this.persistence=e,this.zr=new Xa,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw L()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),w.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Jr,r=>{let i=N.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return w.or([()=>w.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var P_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=J(),i=J();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var O_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var k_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Yb()?8:jd.v(ye())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new O_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ba()<=Y.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),w.resolve()):(Ba()<=Y.DEBUG&&T("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ba()<=Y.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):w.resolve())}ji(e,n){if(xA(n))return w.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=i_(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=J(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,i_(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return xA(n)||i.isEqual(z.min())?w.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?w.resolve(null):(Ba()<=Y.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.es(e,o,n,DH(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ze(uR(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ba()<=Y.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.zi.getDocumentsMatchingQuery(e,n,_i.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var F_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new we(te),this.rs=new Ir(s=>vw(s),_w),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function mq(t,e,n,r){return new F_(t,e,n,r)}function RR(t,e){return p(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=J();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function yq(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=w.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(y=>{let m=u.docVersions.get(g);le(m!==null),y.version.compareTo(m)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=J();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xR(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function vq(t,e){let n=G(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ot.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,m,_){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Ln(),u=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(_q(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(z.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function _q(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function wq(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iq(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function L_(t,e,n){return p(this,null,function*(){let r=G(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!sc(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function BA(t,e,n){let r=G(t),i=z.min(),s=J();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=G(c),h=d.rs.get(l);return h!==void 0?w.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:J())).next(a=>(Eq(r,LH(e),a),{documents:a,hs:s})))}function Eq(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Zd=class{constructor(){this.activeTargetIds=HH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var V_=class{constructor(){this.no=new Zd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var U_=class{io(e){}shutdown(){}};var Xd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Od=null;function Rv(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}var Tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var j_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Je="WebChannelConnection",B_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Rv(),c=this.bo(n,r.toUriEncodedString());T("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw $s("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Tq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Rv();return new Promise((o,a)=>{let c=new vA;c.setWithCredentials(!0),c.listenOnce(mA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nd.NO_ERROR:let l=c.getResponseJson();T(Je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Nd.TIMEOUT:T(Je,`RPC '${e}' ${s} timed out`),a(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:let d=c.getStatus();if(T(Je,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(m){let _=m.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(_)>=0?_:v.UNKNOWN}(f.status);a(new D(g,f.message))}else a(new D(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new D(v.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{T(Je,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);T(Je,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Rv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pA(),a=gA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");T(Je,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new j_({lo:m=>{f?T(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(T(Je,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(Je,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),y=(m,_,C)=>{m.listen(_,Z=>{try{C(Z)}catch(H){setTimeout(()=>{throw H},0)}})};return y(d,ja.EventType.OPEN,()=>{f||T(Je,`RPC '${e}' stream ${i} transport opened.`)}),y(d,ja.EventType.CLOSE,()=>{f||(f=!0,T(Je,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),y(d,ja.EventType.ERROR,m=>{f||(f=!0,$s(Je,`RPC '${e}' stream ${i} transport errored:`,m),g.Vo(new D(v.UNAVAILABLE,"The operation could not be completed")))}),y(d,ja.EventType.MESSAGE,m=>{var _;if(!f){let C=m.data[0];le(!!C);let Z=C,H=Z.error||((_=Z[0])===null||_===void 0?void 0:_.error);if(H){T(Je,`RPC '${e}' stream ${i} received error:`,H);let de=H.status,ne=function(Tr){let uc=be[Tr];if(uc!==void 0)return IR(uc)}(de),Xe=H.message;ne===void 0&&(ne=v.INTERNAL,Xe="Unknown error status: "+de+" with message "+H.message),f=!0,g.Vo(new D(ne,Xe)),d.close()}else T(Je,`RPC '${e}' stream ${i} received:`,C),g.mo(C)}}),y(a,yA.STAT_EVENT,m=>{m.stat===Sv.PROXY?T(Je,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Sv.NOPROXY&&T(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function xv(){return typeof document<"u"?document:null}function Ih(t){return new f_(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var th=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new eh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},$_=class extends th{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=iq(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?hn(o.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=y_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=n_(c)?{documents:aq(s,c)}:{query:cq(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ER(s,o.resumeToken);let u=p_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=Yd(s,o.snapshotVersion.toTimestamp());let u=p_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=lq(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=y_(this.serializer),n.removeTarget=e,this.t_(n)}},H_=class extends th{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=oq(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.T_(r,n)}return le(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=y_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sq(this.serializer,r))};this.t_(n)}};var q_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,g_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(v.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,g_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(v.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var z_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fn(n),this.g_=!1):T("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var G_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){bi(this)&&(T("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=G(c);u.v_.add(4),yield oc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Eh(u)})}(this))}))}),this.x_=new z_(r,i)}};function Eh(t){return p(this,null,function*(){if(bi(t))for(let e of t.F_)yield e(!0)})}function oc(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function MR(t,e){let n=G(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Tw(n)?Ew(n):ro(n).Jo()&&Iw(n,e))}function NR(t,e){let n=G(t),r=ro(n);n.C_.delete(e),r.Jo()&&PR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():bi(n)&&n.x_.set("Unknown"))}function Iw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(t).c_(e)}function PR(t,e){t.O_.Oe(e),ro(t).l_(e)}function Ew(t){t.O_=new h_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ro(t).start(),t.x_.p_()}function Tw(t){return bi(t)&&!ro(t).Ho()&&t.C_.size>0}function bi(t){return G(t).v_.size===0}function OR(t){t.O_=void 0}function Dq(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{Iw(t,e)})})}function Cq(t,e){return p(this,null,function*(){OR(t),Tw(t)?(t.x_.S_(e),Ew(t)):t.x_.set("Unknown")})}function bq(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Kd&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nh(t,r)}else if(e instanceof js?t.O_.$e(e):e instanceof Wd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(z.min()))try{let r=yield xR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(ot.EMPTY_BYTE_STRING,l.snapshotVersion)),PR(s,c);let d=new Ja(l.target,c,u,l.sequenceNumber);Iw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield nh(t,r)}})}function nh(t,e,n){return p(this,null,function*(){if(!sc(e))throw e;t.v_.add(1),yield oc(t),t.x_.set("Offline"),n||(n=()=>xR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Eh(t)}))})}function kR(t,e){return e().catch(n=>nh(t,n,e))}function Th(t){return p(this,null,function*(){let e=G(t),n=Er(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Sq(e);)try{let i=yield wq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Aq(e,i)}catch(i){yield nh(e,i)}FR(e)&&LR(e)})}function Sq(t){return bi(t)&&t.D_.length<10}function Aq(t,e){t.D_.push(e);let n=Er(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function FR(t){return bi(t)&&!Er(t).Ho()&&t.D_.length>0}function LR(t){Er(t).start()}function Rq(t){return p(this,null,function*(){Er(t).d_()})}function xq(t){return p(this,null,function*(){let e=Er(t);for(let n of t.D_)e.I_(n.mutations)})}function Mq(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=c_.from(r,e,n);yield kR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Th(t)})}function Nq(t,e){return p(this,null,function*(){e&&Er(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return YH(o)&&o!==v.ABORTED}(i.code)){let s=r.D_.shift();Er(r).Zo(),yield kR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Th(r)}})}(t,e)),FR(t)&&LR(t)})}function $A(t,e){return p(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");let r=bi(n);n.v_.add(3),yield oc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Eh(n)})}function Pq(t,e){return p(this,null,function*(){let n=G(t);e?(n.v_.delete(2),yield Eh(n)):e||(n.v_.add(2),yield oc(n),n.x_.set("Unknown"))})}function ro(t){return t.N_||(t.N_=function(n,r,i){let s=G(n);return s.R_(),new $_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Dq.bind(null,t),To:Cq.bind(null,t),u_:bq.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Tw(t)?Ew(t):t.x_.set("Unknown")):(yield t.N_.stop(),OR(t))}))),t.N_}function Er(t){return t.B_||(t.B_=function(n,r,i){let s=G(n);return s.R_(),new H_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Rq.bind(null,t),To:Nq.bind(null,t),E_:xq.bind(null,t),T_:Mq.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.B_.Zo(),yield Th(t)):(yield t.B_.stop(),t.D_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var W_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Dw(t,e){if(fn("AsyncQueue",`${e}: ${t}`),sc(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}var rh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ih=class{constructor(){this.L_=new we(N.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):L():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Zs=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,rh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var K_=class{constructor(){this.q_=void 0,this.Q_=[]}},Q_=class{constructor(){this.queries=new Ir(e=>cR(e),_h),this.onlineState="Unknown",this.K_=new Set}};function VR(t,e){return p(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new K_),i)try{s.q_=yield n.onListen(r)}catch(o){let a=Dw(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Cw(n)})}function UR(t,e){return p(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function Oq(t,e){let n=G(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Cw(n)}function kq(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Cw(t){t.K_.forEach(e=>{e.next()})}var sh=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var oh=class{constructor(e){this.key=e}},ah=class{constructor(e){this.key=e}},Y_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=J(),this.mutatedKeys=J(),this.ua=uR(e),this.ca=new rh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new ih,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=wh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,g){let y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return y(f)-y(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Zs(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ih,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=J(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new ah(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new oh(r))}),n}Ra(e){this.oa=e.hs,this.aa=J();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Zs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},J_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Z_=class{constructor(e){this.key=e,this.ma=!1}},X_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ir(a=>cR(a),_h),this.pa=new Map,this.ya=new Set,this.wa=new we(N.comparator),this.Sa=new Map,this.ba=new Xa,this.Da={},this.Ca=new Map,this.va=Za.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function Fq(t,e){return p(this,null,function*(){let n=Gq(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield Iq(n.localStore,dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Lq(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&MR(n.remoteStore,o)}return i})}function Lq(t,e,n,r,i){return p(this,null,function*(){t.Ma=(d,h,f)=>function(y,m,_,C){return p(this,null,function*(){let Z=m.view.ha(_);Z.Xi&&(Z=yield BA(y.localStore,m.query,!1).then(({documents:Xe})=>m.view.ha(Xe,Z)));let H=C&&C.targetChanges.get(m.targetId),de=C&&C.targetMismatches.get(m.targetId)!=null,ne=m.view.applyChanges(Z,y.isPrimaryClient,H,de);return qA(y,m.targetId,ne.da),ne.snapshot})}(t,d,h,f);let s=yield BA(t.localStore,e,!0),o=new Y_(e,s.hs),a=o.ha(s.documents),c=Ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);qA(t,n,u.da);let l=new J_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function Vq(t,e){return p(this,null,function*(){let n=G(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!_h(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield L_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NR(n.remoteStore,r.targetId),ew(n,r.targetId)}).catch(ic))):(ew(n,r.targetId),yield L_(n.localStore,r.targetId,!0))})}function Uq(t,e,n){return p(this,null,function*(){let r=Wq(t);try{let i=yield function(o,a){let c=G(o),u=Ne.now(),l=a.reduce((f,g)=>f.add(g.key),J()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Ln(),y=J();return c.os.getEntries(f,l).next(m=>{g=m,g.forEach((_,C)=>{C.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(m=>{d=m;let _=[];for(let C of a){let Z=QH(C,d.get(C.key).overlayedDocument);Z!=null&&_.push(new Vn(C.key,Z,tR(Z.value.mapValue),mi.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,_,a)}).next(m=>{h=m;let _=m.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(f,m.batchId,_)})}).then(()=>({batchId:h.batchId,changes:dR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new we(te)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield ac(r,i.changes),yield Th(r.remoteStore)}catch(i){let s=Dw(i,"Failed to persist write");n.reject(s)}})}function jR(t,e){return p(this,null,function*(){let n=G(t);try{let r=yield vq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?le(o.ma):i.removedDocuments.size>0&&(le(o.ma),o.ma=!1))}),yield ac(n,r,e)}catch(r){yield ic(r)}})}function HA(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=G(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&Cw(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jq(t,e,n){return p(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new we(N.comparator);o=o.insert(s,Ht.newNoDocument(s,z.min()));let a=J().add(s),c=new Gd(z.min(),new Map,new we(te),o,a);yield jR(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),bw(r)}else yield L_(r.localStore,e,!1).then(()=>ew(r,e,n)).catch(ic)})}function Bq(t,e){return p(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield yq(n.localStore,e);$R(n,r,null),BR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ac(n,i)}catch(i){yield ic(i)}})}function $q(t,e,n){return p(this,null,function*(){let r=G(t);try{let i=yield function(o,a){let c=G(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(le(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);$R(r,e,n),BR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ac(r,i)}catch(i){yield ic(i)}})}function BR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function $R(t,e,n){let r=G(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ew(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||HR(t,r)})}function HR(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(NR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),bw(t))}function qA(t,e,n){for(let r of n)r instanceof oh?(t.ba.addReference(r.key,e),Hq(t,r)):r instanceof ah?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||HR(t,r.key)):L()}function Hq(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(T("SyncEngine","New document in limbo: "+n),t.ya.add(r),bw(t))}function bw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new N(ge.fromString(e)),r=t.va.next();t.Sa.set(r,new Z_(n)),t.wa=t.wa.insert(n,r),MR(t.remoteStore,new Ja(dn(vh(n.path)),r,"TargetPurposeLimboResolution",ZA._e))}}function ac(t,e,n){return p(this,null,function*(){let r=G(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=P_.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return p(this,null,function*(){let l=G(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!sc(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,y)}}})}(r.localStore,s))})}function qq(t,e){return p(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());let r=yield RR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new D(v.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ac(n,r.us)}})}function zq(t,e){let n=G(t),r=n.Sa.get(e);if(r&&r.ma)return J().add(r.key);{let i=J(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Gq(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jq.bind(null,e),e.fa.u_=Oq.bind(null,e.eventManager),e.fa.xa=kq.bind(null,e.eventManager),e}function Wq(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$q.bind(null,e),e}var ch=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mq(this.persistence,new k_,e.initialUser,this.serializer)}createPersistence(e){return new x_(N_.Hr,this.serializer)}createSharedClientState(e){return new V_}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var tw=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qq.bind(null,this.syncEngine),yield Pq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Q_}()}createDatastore(e){let n=Ih(e.databaseInfo.databaseId),r=function(s){return new B_(s)}(e.databaseInfo);return function(s,o,a,c){return new q_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new G_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HA(this.syncEngine,n,0),function(){return Xd.D()?new Xd:new U_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new X_(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=G(r);T("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield oc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var uh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var nw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){T("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Dw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Mv(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield RR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function zA(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Qq(t);T("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$A(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$A(e.remoteStore,i)),t._onlineComponents=e})}function Kq(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Qq(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Kq(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),yield Mv(t,new ch)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Mv(t,new ch);return t._offlineComponents})}function qR(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield zA(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield zA(t,new tw))),t._onlineComponents})}function Yq(t){return qR(t).then(e=>e.syncEngine)}function rw(t){return p(this,null,function*(){let e=yield qR(t),n=e.eventManager;return n.onListen=Fq.bind(null,e.syncEngine),n.onUnlisten=Vq.bind(null,e.syncEngine),n})}function Jq(t,e,n={}){let r=new $t;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new uh({next:h=>{o.enqueueAndForget(()=>UR(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new D(v.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new D(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sh(vh(a.path),l,{includeMetadataChanges:!0,Z_:!0});return VR(s,d)}(yield rw(t),t.asyncQueue,e,n,r)})),r.promise}function zR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GA=new Map;function GR(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zq(t,e,n,r){if(e===!0&&r===!0)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WA(t){if(!N.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KA(t){if(N.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":L()}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Dh(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var lh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nv;switch(r.type){case"firstParty":return new Fv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=GA.get(n);r&&(T("ComponentProvider","Removing Datastore"),GA.delete(n),r.terminate())}(this),Promise.resolve()}};function WR(t,e,n,r={}){var i;let s=(t=yi(t,Xs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=zb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new Pv(new Ld(a,c))}}var eo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},vr=class t extends eo{constructor(e,n,r){super(e,n,vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new N(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function KR(t,e,...n){if(t=Ke(t),GR("collection","path",e),t instanceof Xs){let r=ge.fromString(e,...n);return KA(r),new vr(t,null,r)}{if(!(t instanceof ht||t instanceof vr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return KA(r),new vr(t.firestore,null,r)}}function Sw(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=Vd.newId()),GR("doc","path",e),t instanceof Xs){let r=ge.fromString(e,...n);return WA(r),new ht(t,null,new N(r))}{if(!(t instanceof ht||t instanceof vr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return WA(r),new ht(t.firestore,t instanceof vr?t.converter:null,new N(r))}}var iw=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new eh(this,"async_queue_retry"),this._u=()=>{let n=xv();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=xv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new $t;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!sc(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=W_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&L()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function QA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Ci=class extends Xs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YR(this),this._firestoreClient.terminate()}};function QR(t,e){let n=typeof t=="object"?t:Cs(),r=typeof t=="string"?t:e||"(default)",i=ua(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=qb("firestore");s&&WR(i,...s)}return i}function Aw(t){return t._firestoreClient||YR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new qv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ec=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ot.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dh=class{constructor(e){this._methodName=e}};var nc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}};var Xq=/^__.*__$/,sw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Di(e,this.data,n,this.fieldTransforms)}};function JR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var ow=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return hh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(JR(this.du)&&Xq.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},aw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Su(e,n,r,i=!1){return new ow({du:e,methodName:n,wu:r,path:Et.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ZR(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new aw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ez(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);tx("Data must be an object, but it was:",o,r);let a=XR(r,o),c,u;if(s.merge)c=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=nz(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);iz(l,h)||l.push(h)}c=new un(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new sw(new Bt(a),c,u)}function tz(t,e,n,r=!1){return Rw(n,t.Su(r?4:3,e))}function Rw(t,e){if(ex(t=Ke(t)))return tx("Unsupported field value:",e,t),XR(t,e);if(t instanceof dh)return function(r,i){if(!JR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Rw(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ne.fromDate(r);return{timestampValue:Yd(i.serializer,s)}}if(r instanceof Ne){let s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(r instanceof nc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ec)return{bytesValue:ER(i.serializer,r._byteString)};if(r instanceof ht){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Dh(r)}`)}(t,e)}function XR(t,e){let n={};return XA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,(r,i)=>{let s=Rw(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ex(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof nc||t instanceof ec||t instanceof ht||t instanceof dh)}function tx(t,e,n){if(!ex(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Dh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function nz(t,e,n){if((e=Ke(e))instanceof tc)return e._internalPath;if(typeof e=="string")return nx(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var rz=new RegExp("[~\\*/\\[\\]]");function nx(t,e,n){if(e.search(rz)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tc(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new D(v.INVALID_ARGUMENT,a+t+c)}function iz(t,e){return t.some(n=>n.isEqual(e))}var fh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(xw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},cw=class extends fh{data(){return super.data()}};function xw(t,e){return typeof e=="string"?nx(t,e):e instanceof tc?e._internalPath:e._delegate._internalPath}function sz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rc=class{},uw=class extends rc{};function rx(t,e,...n){let r=[];e instanceof rc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof lw).length,a=s.filter(c=>c instanceof ph).length;if(o>1||o>0&&a>0)throw new D(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ph=class t extends uw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return sx(e._query,n),new eo(e.firestore,e.converter,r_(e._query,n))}_parse(e){let n=ZR(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new D(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){JA(d,l);let f=[];for(let g of d)f.push(YA(c,s,g));h={arrayValue:{values:f}}}else h=YA(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||JA(d,l),h=tz(a,o,d,l==="in"||l==="not-in");return Ae.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ix(t,e,n){let r=e,i=xw("where",t);return ph._create(i,r,n)}var lw=class t extends rc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)sx(o,c),o=r_(o,c)}(e._query,n),new eo(e.firestore,e.converter,r_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function YA(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new D(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aR(e)&&n.indexOf("/")!==-1)throw new D(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ge.fromString(n));if(!N.isDocumentKey(r))throw new D(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DA(t,new N(r))}if(n instanceof ht)return DA(t,n._key);throw new D(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function JA(t,e){if(!Array.isArray(t)||t.length===0)throw new D(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sx(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var dw=class{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return no(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nc(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){let n=_r(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ge.fromString(e);le(AR(r));let i=new Hd(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function oz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var pi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gh=class extends fh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(xw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Bs=class extends gh{data(e={}){return super.data(e)}},hw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bs(this._firestore,this._userDataWriter,r.key,r,new pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:az(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function az(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function ox(t){t=yi(t,ht);let e=yi(t.firestore,Ci);return Jq(Aw(e),t._key).then(n=>cx(e,t,n))}var mh=class extends dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function ax(t,e){let n=yi(t.firestore,Ci),r=Sw(t),i=oz(t.converter,e);return cz(n,[ez(ZR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mi.exists(!1))]).then(()=>r)}function Mw(t,...e){var n,r,i;t=Ke(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||QA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(QA(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof ht)u=yi(t.firestore,Ci),l=vh(t._key.path),c={next:d=>{e[o]&&e[o](cx(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=yi(t,eo);u=yi(d.firestore,Ci),l=d._query;let h=new mh(u);c={next:f=>{e[o]&&e[o](new hw(u,h,d,f))},error:e[o+1],complete:e[o+2]},sz(t._query)}return function(h,f,g,y){let m=new uh(y),_=new sh(f,m,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return VR(yield rw(h),_)})),()=>{m.La(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return UR(yield rw(h),_)}))}}(Aw(u),l,a,c)}function cz(t,e){return function(r,i){let s=new $t;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return Uq(yield Yq(r),i,s)})),s.promise}(Aw(t),e)}function cx(t,e,n){let r=n.docs.get(e._key),i=new mh(t);return new gh(t,i,e._key,r,new pi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){to=i})(hr),dr(new Rt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ci(new Ov(r.getProvider("auth-internal")),new Vv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me(wA,"4.4.1",e),Me(wA,"4.4.1","esm2017")})();var Ch=function(){return Ch=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ch.apply(this,arguments)};var dz={includeMetadataChanges:!1};function ux(t,e){return e===void 0&&(e=dz),new j(function(n){var r=Mw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function lx(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ch(Ch({},r),(n={},n[e.idField]=t.id,n))}function dx(t){return ux(t,{includeMetadataChanges:!0}).pipe(B(function(e){return e.docs}))}function hx(t,e){return e===void 0&&(e={}),dx(t).pipe(B(function(n){return n.map(function(r){return lx(r,e)})}))}var Si=class{constructor(e){return e}},fx="firestore",Nw=class{constructor(){return la(fx)}};var Pw=new M("angularfire2.firestore-instances");function hz(t,e){let n=Ol(fx,t,e);return n&&new Si(n)}function fz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Si(r)}}var pz={provide:Nw,deps:[[new We,Pw]]},gz={provide:Si,useFactory:hz,deps:[[new We,Pw],Nn]},mz=(()=>{class t{constructor(){Me("angularfire",ti.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=bt({type:t});static \u0275inj=Ct({providers:[gz,pz]})}return t})();function QJ(t,...e){return{ngModule:mz,providers:[{provide:Pw,useFactory:fz(t),multi:!0,deps:[re,it,As,ni,[new We,ya],[new We,Ss],...e]}]}}var px=dt(hx,!0);var gx=dt(ax,!0);var cc=dt(KR,!0);var mx=dt(Sw,!0);var yx=dt(ox,!0);var YJ=dt(QR,!0);var Ow=dt(rx,!0);var kw=dt(ix,!0);var eZ=(()=>{let e=class e{constructor(r,i){this.http=r,this.afs=i}getCollection(r,i,s){if(!r)return x();let o=s!=""?Ow(cc(this.afs,r),kw("parent_grouping_id","==",s)):i!=""?Ow(cc(this.afs,r),kw("parent_id","==",i)):cc(this.afs,r);return px(o,{idField:"id"})}getItemById(r,i){return p(this,null,function*(){if(!r)return x();let s=mx(this.afs,r,i),o=yield yx(s),a;return o.exists()&&(a=o.data()),a})}addBlockItemToFireBase(r,i){return p(this,null,function*(){if(!r)return;let s=yield this.formatBlockItem(i);return yield gx(cc(this.afs,r),s)})}formatBlockItem(r){return p(this,null,function*(){let i=Ne.fromDate(new Date);return Object.assign({},r,{updateDate:i})})}};e.\u0275fac=function(i){return new(i||e)(S(jg),S(Si))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{j as a,Ce as b,Ve as c,oo as d,kh as e,at as f,$n as g,oe as h,x as i,Mx as j,B as k,pe as l,Mc as m,Bx as n,Lh as o,Kx as p,Ue as q,yn as r,vn as s,Qx as t,_n as u,Vh as v,uI as w,Zx as x,lI as y,Xx as z,Pc as A,Bh as B,eM as C,tM as D,Oc as E,ft as F,$h as G,me as H,nM as I,pE as J,A as K,R as L,Ct as M,M as N,S as O,I as P,RE as Q,bt as R,Zn as S,Ap as T,rs as U,n8 as V,r8 as W,Vp as X,i8 as Y,We as Z,Vr as _,tr as $,LN as aa,s8 as ba,it as ca,St as da,o8 as ea,a8 as fa,BP as ga,qu as ha,Zt as ia,_o as ja,as as ka,c8 as la,u8 as ma,Cn as na,l8 as oa,ue as pa,us as qa,tk as ra,pt as sa,re as ta,Ik as ua,vg as va,Hk as wa,qk as xa,zk as ya,d8 as za,h8 as Aa,nr as Ba,up as Ca,p8 as Da,g8 as Ea,m8 as Fa,y8 as Ga,QD as Ha,YD as Ia,Eg as Ja,ZD as Ka,XD as La,R1 as Ma,v8 as Na,N1 as Oa,ls as Pa,Dg as Qa,_8 as Ra,w8 as Sa,I8 as Ta,V1 as Ua,tC as Va,E8 as Wa,T8 as Xa,$1 as Ya,rC as Za,H1 as _a,D8 as $a,sC as ab,C8 as bb,b8 as cb,S8 as db,A8 as eb,R8 as fb,lC as gb,M8 as hb,hC as ib,vC as jb,ds as kb,rr as lb,N8 as mb,Po as nb,hs as ob,Be as pb,Oo as qb,tK as rb,nK as sb,rK as tb,iK as ub,sK as vb,MF as wb,oK as xb,kg as yb,jg as zb,vK as Ab,JC as Bb,kK as Cb,Qg as Db,SL as Eb,FK as Fb,Ko as Gb,en as Hb,pm as Ib,Yr as Jb,rV as Kb,cV as Lb,ia as Mb,lb as Nb,o7 as Ob,a7 as Pb,c7 as Qb,u7 as Rb,Wb as Sb,Rl as Tb,Jb as Ub,h7 as Vb,wt as Wb,Mn as Xb,Jr as Yb,f7 as Zb,Ke as _b,Rt as $b,ur as ac,dr as bc,ua as cc,Cs as dc,Me as ec,ti as fc,B7 as gc,Ol as hc,la as ic,As as jc,dt as kc,Nn as lc,ni as mc,J7 as nc,Z7 as oc,ma as pc,nY as qc,rY as rc,iY as sc,QJ as tc,YJ as uc,eZ as vc};
