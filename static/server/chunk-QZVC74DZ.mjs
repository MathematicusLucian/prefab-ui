import './polyfills.server.mjs';
import{a as J}from"./chunk-J54YY7OR.mjs";import{b as S,c as x,d as g,f as y,g as _,h as k,k as D,l as F,m as E}from"./chunk-73ARPL4T.mjs";import{c as w,d as A}from"./chunk-FLW53CWT.mjs";import{r as C}from"./chunk-SREIRDBJ.mjs";import"./chunk-HAXBH7WS.mjs";import{Fa as p,Qa as i,Ra as t,Sa as n,T as f,Za as h,eb as o,jb as v,l as u,lb as N,xa as b,ya as d}from"./chunk-QZSMYH4A.mjs";import{a as c,g as T}from"./chunk-MZKWKPOA.mjs";var O=T(J());var M=l=>[l],R=(()=>{let a=class a{constructor(r,e){this.siteGraphService=r,this.formBuilder=e,this.appValues=A,this.headingData$=u({headingText:"Add Content",taglineText:"",taglineSmallText:"",alignment:this.appValues.HEADERBLOCK_ALIGNMENT_NONE,mb:this.appValues.HEADERBLOCK_MB}),this.newContentForm=this.formBuilder.group({collectionName:"",collectionDataJSON:"",encode_key:"",encode_value:""})}addContent(){let r=this.newContentForm.value.collectionDataJSON||"",e=JSON.parse(r);if(this.newContentForm.value.encode_key!=""){let s=this.newContentForm.value.encode_key||"a",B=(0,O.encode)(this.newContentForm.value.encode_value,{mode:"specialChars"}),G={[s]:B};e=c(c({},e),G)}let m=this.newContentForm.value.collectionName||"";this.siteGraphService.addBlockItemToFireBase(m,e),this.newContentForm.reset()}};a.\u0275fac=function(e){return new(e||a)(d(C),d(D))},a.\u0275cmp=f({type:a,selectors:[["app-add-content"]],standalone:!0,features:[v],decls:29,vars:4,consts:[[3,"headingData$"],[1,"relative","block","px-3","py-6","md:px-8","md:py-7","mx-1","my-1","md:mx-10","md:my-1","rounded-lg","border-b","border-pink-950","bg-slate-950","shadow","text-white"],[3,"formGroup","ngSubmit"],[1,"py-1"],["for","collectionName",1,"pb-1"],["id","collectionName","type","text","formControlName","collectionName",1,"p-2","text-black"],["for","encode_key",1,"pb-1"],["id","encode_key","type","text","formControlName","encode_key",1,"p-2","text-black"],["for","encode_value",1,"pb-1"],["id","encode_value","type","text","formControlName","encode_value",1,"p-2","text-black"],["for","collectionDataJSON",1,"pb-1"],["id","collectionDataJSON","type","text","rows","20","cols","90","formControlName","collectionDataJSON",1,"p-2","text-black"],["type","submit",1,"button"]],template:function(e,m){e&1&&(n(0,"app-heading-block",0),i(1,"section",1)(2,"form",2),h("ngSubmit",function(){return m.addContent()}),i(3,"div",3)(4,"label",4),o(5," CollectionName "),t(),o(6,"\xA0 "),n(7,"input",5),t(),n(8,"br"),i(9,"div",3)(10,"label",6),o(11," encode_key "),t(),o(12,"\xA0 "),n(13,"input",7),i(14,"label",8),o(15," encode_value "),t(),o(16,"\xA0 "),n(17,"input",9),t(),n(18,"br"),i(19,"div",3)(20,"label",10),o(21," New Data (JSON) "),t(),n(22,"br")(23,"textarea",11),t(),n(24,"br"),i(25,"button",12)(26,"strong"),o(27,"Add data"),t()(),n(28,"br"),t()()),e&2&&(p("headingData$",N(2,M,m.headingData$)),b(2),p("formGroup",m.newContentForm))},dependencies:[F,y,S,x,g,E,_,k,w]});let l=a;return l})();export{R as AddContentComponent};
